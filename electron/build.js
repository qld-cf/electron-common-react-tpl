!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=74)}([function(t,e){t.exports=require("path")},function(t,e,n){"use strict";function r(){const t=n(47);return r=function(){return t},t}function i(){const t=n(48);return i=function(){return t},t}function o(){const t=n(84);return o=function(){return t},t}function s(){const t=n(87);return s=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.asArray=function(t){return null==t?[]:Array.isArray(t)?t:[t]},e.newError=function(t,e){const n=new Error(t);return n.code=e,n},Object.defineProperty(e,"CancellationToken",{enumerable:!0,get:function(){return r().CancellationToken}}),Object.defineProperty(e,"CancellationError",{enumerable:!0,get:function(){return r().CancellationError}}),Object.defineProperty(e,"HttpError",{enumerable:!0,get:function(){return i().HttpError}}),Object.defineProperty(e,"createHttpError",{enumerable:!0,get:function(){return i().createHttpError}}),Object.defineProperty(e,"HttpExecutor",{enumerable:!0,get:function(){return i().HttpExecutor}}),Object.defineProperty(e,"DigestTransform",{enumerable:!0,get:function(){return i().DigestTransform}}),Object.defineProperty(e,"safeGetHeader",{enumerable:!0,get:function(){return i().safeGetHeader}}),Object.defineProperty(e,"configureRequestOptions",{enumerable:!0,get:function(){return i().configureRequestOptions}}),Object.defineProperty(e,"configureRequestOptionsFromUrl",{enumerable:!0,get:function(){return i().configureRequestOptionsFromUrl}}),Object.defineProperty(e,"safeStringifyJson",{enumerable:!0,get:function(){return i().safeStringifyJson}}),Object.defineProperty(e,"parseJson",{enumerable:!0,get:function(){return i().parseJson}}),Object.defineProperty(e,"configureRequestUrl",{enumerable:!0,get:function(){return i().configureRequestUrl}}),Object.defineProperty(e,"getS3LikeProviderBaseUrl",{enumerable:!0,get:function(){return o().getS3LikeProviderBaseUrl}}),Object.defineProperty(e,"githubUrl",{enumerable:!0,get:function(){return o().githubUrl}}),Object.defineProperty(e,"parseDn",{enumerable:!0,get:function(){return function(){const t=n(85);return function(){return t},t}().parseDn}}),Object.defineProperty(e,"UUID",{enumerable:!0,get:function(){return function(){const t=n(86);return function(){return t},t}().UUID}}),Object.defineProperty(e,"ProgressCallbackTransform",{enumerable:!0,get:function(){return function(){const t=n(50);return function(){return t},t}().ProgressCallbackTransform}}),Object.defineProperty(e,"parseXml",{enumerable:!0,get:function(){return s().parseXml}}),Object.defineProperty(e,"XElement",{enumerable:!0,get:function(){return s().XElement}}),e.CURRENT_APP_PACKAGE_FILE_NAME=e.CURRENT_APP_INSTALLER_FILE_NAME=void 0;e.CURRENT_APP_INSTALLER_FILE_NAME="installer.exe";e.CURRENT_APP_PACKAGE_FILE_NAME="package.7z"},function(t,e){t.exports=require("fs")},function(t,e,n){var r,i,o=n(2),s=n(90),a=n(92),c=n(93),u=n(15);function l(t,e){Object.defineProperty(t,r,{get:function(){return e}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(r=Symbol.for("graceful-fs.queue"),i=Symbol.for("graceful-fs.previous")):(r="___graceful-fs.queue",i="___graceful-fs.previous");var h=function(){};if(u.debuglog?h=u.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(h=function(){var t=u.format.apply(u,arguments);t="GFS4: "+t.split(/\n/).join("\nGFS4: "),console.error(t)}),!o[r]){var f=global[r]||[];l(o,f),o.close=function(t){function e(e,n){return t.call(o,e,(function(t){t||m(),"function"==typeof n&&n.apply(this,arguments)}))}return Object.defineProperty(e,i,{value:t}),e}(o.close),o.closeSync=function(t){function e(e){t.apply(o,arguments),m()}return Object.defineProperty(e,i,{value:t}),e}(o.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",(function(){h(o[r]),n(19).equal(o[r].length,0)}))}function p(t){s(t),t.gracefulify=p,t.createReadStream=function(e,n){return new t.ReadStream(e,n)},t.createWriteStream=function(e,n){return new t.WriteStream(e,n)};var e=t.readFile;t.readFile=function(t,n,r){"function"==typeof n&&(r=n,n=null);return function t(n,r,i){return e(n,r,(function(e){!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?("function"==typeof i&&i.apply(this,arguments),m()):d([t,[n,r,i]])}))}(t,n,r)};var n=t.writeFile;t.writeFile=function(t,e,r,i){"function"==typeof r&&(i=r,r=null);return function t(e,r,i,o){return n(e,r,i,(function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?("function"==typeof o&&o.apply(this,arguments),m()):d([t,[e,r,i,o]])}))}(t,e,r,i)};var r=t.appendFile;r&&(t.appendFile=function(t,e,n,i){"function"==typeof n&&(i=n,n=null);return function t(e,n,i,o){return r(e,n,i,(function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?("function"==typeof o&&o.apply(this,arguments),m()):d([t,[e,n,i,o]])}))}(t,e,n,i)});var i=t.copyFile;i&&(t.copyFile=function(t,e,n,r){"function"==typeof n&&(r=n,n=0);return i(t,e,n,(function(o){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?("function"==typeof r&&r.apply(this,arguments),m()):d([i,[t,e,n,r]])}))});var o=t.readdir;function c(e){return o.apply(t,e)}if(t.readdir=function(t,e,n){var r=[t];"function"!=typeof e?r.push(e):n=e;return r.push((function(t,e){e&&e.sort&&e.sort();!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?("function"==typeof n&&n.apply(this,arguments),m()):d([c,[r]])})),c(r)},"v0.8"===process.version.substr(0,4)){var u=a(t);y=u.ReadStream,v=u.WriteStream}var l=t.ReadStream;l&&(y.prototype=Object.create(l.prototype),y.prototype.open=function(){var t=this;w(t.path,t.flags,t.mode,(function(e,n){e?(t.autoClose&&t.destroy(),t.emit("error",e)):(t.fd=n,t.emit("open",n),t.read())}))});var h=t.WriteStream;h&&(v.prototype=Object.create(h.prototype),v.prototype.open=function(){var t=this;w(t.path,t.flags,t.mode,(function(e,n){e?(t.destroy(),t.emit("error",e)):(t.fd=n,t.emit("open",n))}))}),Object.defineProperty(t,"ReadStream",{get:function(){return y},set:function(t){y=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return v},set:function(t){v=t},enumerable:!0,configurable:!0});var f=y;Object.defineProperty(t,"FileReadStream",{get:function(){return f},set:function(t){f=t},enumerable:!0,configurable:!0});var g=v;function y(t,e){return this instanceof y?(l.apply(this,arguments),this):y.apply(Object.create(y.prototype),arguments)}function v(t,e){return this instanceof v?(h.apply(this,arguments),this):v.apply(Object.create(v.prototype),arguments)}Object.defineProperty(t,"FileWriteStream",{get:function(){return g},set:function(t){g=t},enumerable:!0,configurable:!0});var E=t.open;function w(t,e,n,r){return"function"==typeof n&&(r=n,n=null),function t(e,n,r,i){return E(e,n,r,(function(o,s){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?("function"==typeof i&&i.apply(this,arguments),m()):d([t,[e,n,r,i]])}))}(t,e,n,r)}return t.open=w,t}function d(t){h("ENQUEUE",t[0].name,t[1]),o[r].push(t)}function m(){var t=o[r].shift();t&&(h("RETRY",t[0].name,t[1]),t[0].apply(null,t[1]))}global[r]||l(global,o[r]),t.exports=p(c(o)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!o.__patched&&(t.exports=p(o),o.__patched=!0)},function(t,e,n){const r=n(25),{MAX_LENGTH:i,MAX_SAFE_INTEGER:o}=n(24),{re:s,t:a}=n(17),c=n(26),{compareIdentifiers:u}=n(37);class l{constructor(t,e){if(e=c(e),t instanceof l){if(t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease)return t;t=t.version}else if("string"!=typeof t)throw new TypeError("Invalid Version: "+t);if(t.length>i)throw new TypeError(`version is longer than ${i} characters`);r("SemVer",t,e),this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease;const n=t.trim().match(e.loose?s[a.LOOSE]:s[a.FULL]);if(!n)throw new TypeError("Invalid Version: "+t);if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(t=>{if(/^[0-9]+$/.test(t)){const e=+t;if(e>=0&&e<o)return e}return t}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version}toString(){return this.version}compare(t){if(r("SemVer.compare",this.version,this.options,t),!(t instanceof l)){if("string"==typeof t&&t===this.version)return 0;t=new l(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof l||(t=new l(t,this.options)),u(this.major,t.major)||u(this.minor,t.minor)||u(this.patch,t.patch)}comparePre(t){if(t instanceof l||(t=new l(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let e=0;do{const n=this.prerelease[e],i=t.prerelease[e];if(r("prerelease compare",e,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return u(n,i)}while(++e)}compareBuild(t){t instanceof l||(t=new l(t,this.options));let e=0;do{const n=this.build[e],i=t.build[e];if(r("prerelease compare",e,n,i),void 0===n&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===n)return-1;if(n!==i)return u(n,i)}while(++e)}inc(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",e),this.inc("pre",e);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let t=this.prerelease.length;for(;--t>=0;)"number"==typeof this.prerelease[t]&&(this.prerelease[t]++,t=-2);-1===t&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error("invalid increment argument: "+t)}return this.format(),this.raw=this.version,this}}t.exports=l},function(t,e,n){"use strict";e.fromCallback=function(t){return Object.defineProperty((function(...e){if("function"!=typeof e[e.length-1])return new Promise((n,r)=>{t.call(this,...e,(t,e)=>null!=t?r(t):n(e))});t.apply(this,e)}),"name",{value:t.name})},e.fromPromise=function(t){return Object.defineProperty((function(...e){const n=e[e.length-1];if("function"!=typeof n)return t.apply(this,e);t.apply(this,e.slice(0,-1)).then(t=>n(null,t),n)}),"name",{value:t.name})}},function(t,e,n){const r=n(4);t.exports=(t,e,n)=>new r(t,n).compare(new r(e,n))},function(t,e,n){class r{constructor(t,e){if(e=o(e),t instanceof r)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new r(t.raw,e);if(t instanceof s)return this.raw=t.value,this.set=[[t]],this.format(),this;if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map(t=>this.parseRange(t.trim())).filter(t=>t.length),!this.set.length)throw new TypeError("Invalid SemVer Range: "+t);if(this.set.length>1){const t=this.set[0];if(this.set=this.set.filter(t=>!d(t[0])),0===this.set.length)this.set=[t];else if(this.set.length>1)for(const t of this.set)if(1===t.length&&m(t[0])){this.set=[t];break}}this.format()}format(){return this.range=this.set.map(t=>t.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(t){t=t.trim();const e=`parseRange:${Object.keys(this.options).join(",")}:${t}`,n=i.get(e);if(n)return n;const r=this.options.loose,o=r?u[l.HYPHENRANGELOOSE]:u[l.HYPHENRANGE];t=t.replace(o,N(this.options.includePrerelease)),a("hyphen replace",t),t=t.replace(u[l.COMPARATORTRIM],h),a("comparator trim",t,u[l.COMPARATORTRIM]),t=(t=(t=t.replace(u[l.TILDETRIM],f)).replace(u[l.CARETTRIM],p)).split(/\s+/).join(" ");const c=r?u[l.COMPARATORLOOSE]:u[l.COMPARATOR],m=t.split(" ").map(t=>y(t,this.options)).join(" ").split(/\s+/).map(t=>S(t,this.options)).filter(this.options.loose?t=>!!t.match(c):()=>!0).map(t=>new s(t,this.options)),g=(m.length,new Map);for(const t of m){if(d(t))return[t];g.set(t.value,t)}g.size>1&&g.has("")&&g.delete("");const v=[...g.values()];return i.set(e,v),v}intersects(t,e){if(!(t instanceof r))throw new TypeError("a Range is required");return this.set.some(n=>g(n,e)&&t.set.some(t=>g(t,e)&&n.every(n=>t.every(t=>n.intersects(t,e)))))}test(t){if(!t)return!1;if("string"==typeof t)try{t=new c(t,this.options)}catch(t){return!1}for(let e=0;e<this.set.length;e++)if(I(this.set[e],t,this.options))return!0;return!1}}t.exports=r;const i=new(n(128))({max:1e3}),o=n(26),s=n(28),a=n(25),c=n(4),{re:u,t:l,comparatorTrimReplace:h,tildeTrimReplace:f,caretTrimReplace:p}=n(17),d=t=>"<0.0.0-0"===t.value,m=t=>""===t.value,g=(t,e)=>{let n=!0;const r=t.slice();let i=r.pop();for(;n&&r.length;)n=r.every(t=>i.intersects(t,e)),i=r.pop();return n},y=(t,e)=>(a("comp",t,e),t=b(t,e),a("caret",t),t=E(t,e),a("tildes",t),t=O(t,e),a("xrange",t),t=T(t,e),a("stars",t),t),v=t=>!t||"x"===t.toLowerCase()||"*"===t,E=(t,e)=>t.trim().split(/\s+/).map(t=>w(t,e)).join(" "),w=(t,e)=>{const n=e.loose?u[l.TILDELOOSE]:u[l.TILDE];return t.replace(n,(e,n,r,i,o)=>{let s;return a("tilde",t,e,n,r,i,o),v(n)?s="":v(r)?s=`>=${n}.0.0 <${+n+1}.0.0-0`:v(i)?s=`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:o?(a("replaceTilde pr",o),s=`>=${n}.${r}.${i}-${o} <${n}.${+r+1}.0-0`):s=`>=${n}.${r}.${i} <${n}.${+r+1}.0-0`,a("tilde return",s),s})},b=(t,e)=>t.trim().split(/\s+/).map(t=>_(t,e)).join(" "),_=(t,e)=>{a("caret",t,e);const n=e.loose?u[l.CARETLOOSE]:u[l.CARET],r=e.includePrerelease?"-0":"";return t.replace(n,(e,n,i,o,s)=>{let c;return a("caret",t,e,n,i,o,s),v(n)?c="":v(i)?c=`>=${n}.0.0${r} <${+n+1}.0.0-0`:v(o)?c="0"===n?`>=${n}.${i}.0${r} <${n}.${+i+1}.0-0`:`>=${n}.${i}.0${r} <${+n+1}.0.0-0`:s?(a("replaceCaret pr",s),c="0"===n?"0"===i?`>=${n}.${i}.${o}-${s} <${n}.${i}.${+o+1}-0`:`>=${n}.${i}.${o}-${s} <${n}.${+i+1}.0-0`:`>=${n}.${i}.${o}-${s} <${+n+1}.0.0-0`):(a("no pr"),c="0"===n?"0"===i?`>=${n}.${i}.${o}${r} <${n}.${i}.${+o+1}-0`:`>=${n}.${i}.${o}${r} <${n}.${+i+1}.0-0`:`>=${n}.${i}.${o} <${+n+1}.0.0-0`),a("caret return",c),c})},O=(t,e)=>(a("replaceXRanges",t,e),t.split(/\s+/).map(t=>A(t,e)).join(" ")),A=(t,e)=>{t=t.trim();const n=e.loose?u[l.XRANGELOOSE]:u[l.XRANGE];return t.replace(n,(n,r,i,o,s,c)=>{a("xRange",t,n,r,i,o,s,c);const u=v(i),l=u||v(o),h=l||v(s),f=h;return"="===r&&f&&(r=""),c=e.includePrerelease?"-0":"",u?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&f?(l&&(o=0),s=0,">"===r?(r=">=",l?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===r&&(r="<",l?i=+i+1:o=+o+1),"<"===r&&(c="-0"),n=`${r+i}.${o}.${s}${c}`):l?n=`>=${i}.0.0${c} <${+i+1}.0.0-0`:h&&(n=`>=${i}.${o}.0${c} <${i}.${+o+1}.0-0`),a("xRange return",n),n})},T=(t,e)=>(a("replaceStars",t,e),t.trim().replace(u[l.STAR],"")),S=(t,e)=>(a("replaceGTE0",t,e),t.trim().replace(u[e.includePrerelease?l.GTE0PRE:l.GTE0],"")),N=t=>(e,n,r,i,o,s,a,c,u,l,h,f,p)=>`${n=v(r)?"":v(i)?`>=${r}.0.0${t?"-0":""}`:v(o)?`>=${r}.${i}.0${t?"-0":""}`:s?">="+n:`>=${n}${t?"-0":""}`} ${c=v(u)?"":v(l)?`<${+u+1}.0.0-0`:v(h)?`<${u}.${+l+1}.0-0`:f?`<=${u}.${l}.${h}-${f}`:t?`<${u}.${l}.${+h+1}-0`:"<="+c}`.trim(),I=(t,e,n)=>{for(let n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!n.includePrerelease){for(let n=0;n<t.length;n++)if(a(t[n].semver),t[n].semver!==s.ANY&&t[n].semver.prerelease.length>0){const r=t[n].semver;if(r.major===e.major&&r.minor===e.minor&&r.patch===e.patch)return!0}return!1}return!0}},function(t,e){t.exports=require("electron")},function(t,e,n){"use strict";function r(){const t=n(12);return r=function(){return t},t}function i(){const t=n(31);return i=function(){return t},t}let o;Object.defineProperty(e,"__esModule",{value:!0}),e.getChannelFilename=function(t){return t+".yml"},e.newBaseUrl=function(t){const e=new(r().URL)(t);e.pathname.endsWith("/")||(e.pathname+="/");return e},e.newUrlFromBase=function(t,e,n=!1){const i=new(r().URL)(t,e),o=e.search;null!=o&&0!==o.length?i.search=o:n&&(i.search="noCache="+Date.now().toString(32));return i},Object.defineProperty(e,"AppUpdater",{enumerable:!0,get:function(){return i().AppUpdater}}),Object.defineProperty(e,"NoOpLogger",{enumerable:!0,get:function(){return i().NoOpLogger}}),Object.defineProperty(e,"Provider",{enumerable:!0,get:function(){return function(){const t=n(11);return function(){return t},t}().Provider}}),Object.defineProperty(e,"AppImageUpdater",{enumerable:!0,get:function(){return function(){const t=n(60);return function(){return t},t}().AppImageUpdater}}),Object.defineProperty(e,"MacUpdater",{enumerable:!0,get:function(){return function(){const t=n(66);return function(){return t},t}().MacUpdater}}),Object.defineProperty(e,"NsisUpdater",{enumerable:!0,get:function(){return function(){const t=n(67);return function(){return t},t}().NsisUpdater}}),e.UpdaterSignal=e.UPDATE_DOWNLOADED=e.DOWNLOAD_PROGRESS=void 0,Object.defineProperty(e,"autoUpdater",{enumerable:!0,get:()=>o||(o="win32"===process.platform?new(n(67).NsisUpdater):"darwin"===process.platform?new(n(66).MacUpdater):new(n(60).AppImageUpdater),o)});e.DOWNLOAD_PROGRESS="download-progress";e.UPDATE_DOWNLOADED="update-downloaded";e.UpdaterSignal=class{constructor(t){this.emitter=t}login(t){s(this.emitter,"login",t)}progress(t){s(this.emitter,"download-progress",t)}updateDownloaded(t){s(this.emitter,"update-downloaded",t)}updateCancelled(t){s(this.emitter,"update-cancelled",t)}};function s(t,e,n){t.on(e,n)}},function(t,e,n){"use strict";const r=n(5).fromPromise,{makeDir:i,makeDirSync:o}=n(95),s=r(i);t.exports={mkdirs:s,mkdirsSync:o,mkdirp:s,mkdirpSync:o,ensureDir:s,ensureDirSync:o}},function(t,e,n){"use strict";function r(){const t=n(1);return r=function(){return t},t}function i(){const t=n(36);return i=function(){return t},t}function o(){const t=n(9);return o=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.findFile=function(t,e,n){if(0===t.length)throw(0,r().newError)("No files provided","ERR_UPDATER_NO_FILES_PROVIDED");const i=t.find(t=>t.url.pathname.toLowerCase().endsWith("."+e));return null!=i?i:null==n?t[0]:t.find(t=>!n.some(e=>t.url.pathname.toLowerCase().endsWith("."+e)))},e.parseUpdateInfo=function(t,e,n){if(null==t)throw(0,r().newError)(`Cannot parse update info from ${e} in the latest release artifacts (${n}): rawData: null`,"ERR_UPDATER_INVALID_UPDATE_INFO");let o;try{o=(0,i().load)(t)}catch(i){throw(0,r().newError)(`Cannot parse update info from ${e} in the latest release artifacts (${n}): ${i.stack||i.message}, rawData: ${t}`,"ERR_UPDATER_INVALID_UPDATE_INFO")}return o},e.getFileList=s,e.resolveFiles=function(t,e,n=(t=>t)){const i=s(t).map(t=>{if(null==t.sha2&&null==t.sha512)throw(0,r().newError)("Update info doesn't contain nor sha256 neither sha512 checksum: "+(0,r().safeStringifyJson)(t),"ERR_UPDATER_NO_CHECKSUM");return{url:(0,o().newUrlFromBase)(n(t.url),e),info:t}}),a=t.packages,c=null==a?null:a[process.arch]||a.ia32;null!=c&&(i[0].packageInfo={...c,path:(0,o().newUrlFromBase)(n(c.path),e).href});return i},e.Provider=void 0;function s(t){const e=t.files;if(null!=e&&e.length>0)return e;if(null!=t.path)return[{url:t.path,sha2:t.sha2,sha512:t.sha512}];throw(0,r().newError)("No files provided: "+(0,r().safeStringifyJson)(t),"ERR_UPDATER_NO_FILES_PROVIDED")}e.Provider=class{constructor(t){this.runtimeOptions=t,this.requestHeaders=null,this.executor=t.executor}get isUseMultipleRangeRequest(){return!1!==this.runtimeOptions.isUseMultipleRangeRequest}getChannelFilePrefix(){if("linux"===this.runtimeOptions.platform){const t=process.env.TEST_UPDATER_ARCH||process.arch;return"-linux"+("x64"===t?"":"-"+t)}return"darwin"===this.runtimeOptions.platform?"-mac":""}getDefaultChannelName(){return this.getCustomChannelName("latest")}getCustomChannelName(t){return`${t}${this.getChannelFilePrefix()}`}get fileExtraDownloadHeaders(){return null}setRequestHeaders(t){this.requestHeaders=t}httpRequest(t,e,n){return this.executor.request(this.createRequestOptions(t,e),n)}createRequestOptions(t,e){const n={};return null==this.requestHeaders?null!=e&&(n.headers=e):n.headers=null==e?this.requestHeaders:{...this.requestHeaders,...e},(0,r().configureRequestUrl)(t,n),n}}},function(t,e){t.exports=require("url")},function(t,e,n){"use strict";t.exports={...n(21),...n(51),...n(54),...n(97),...n(99),...n(105),...n(10),...n(110),...n(112),...n(35),...n(14),...n(23)};const r=n(2);Object.getOwnPropertyDescriptor(r,"promises")&&Object.defineProperty(t.exports,"promises",{get:()=>r.promises})},function(t,e,n){"use strict";const r=n(5).fromPromise,i=n(21);t.exports={pathExists:r((function(t){return i.access(t).then(()=>!0).catch(()=>!1)})),pathExistsSync:i.existsSync}},function(t,e){t.exports=require("util")},function(t,e){t.exports=require("stream")},function(t,e,n){const{MAX_SAFE_COMPONENT_LENGTH:r}=n(24),i=n(25),o=(e=t.exports={}).re=[],s=e.src=[],a=e.t={};let c=0;const u=(t,e,n)=>{const r=c++;i(r,e),a[t]=r,s[r]=e,o[r]=new RegExp(e,n?"g":void 0)};u("NUMERICIDENTIFIER","0|[1-9]\\d*"),u("NUMERICIDENTIFIERLOOSE","[0-9]+"),u("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),u("MAINVERSION",`(${s[a.NUMERICIDENTIFIER]})\\.(${s[a.NUMERICIDENTIFIER]})\\.(${s[a.NUMERICIDENTIFIER]})`),u("MAINVERSIONLOOSE",`(${s[a.NUMERICIDENTIFIERLOOSE]})\\.(${s[a.NUMERICIDENTIFIERLOOSE]})\\.(${s[a.NUMERICIDENTIFIERLOOSE]})`),u("PRERELEASEIDENTIFIER",`(?:${s[a.NUMERICIDENTIFIER]}|${s[a.NONNUMERICIDENTIFIER]})`),u("PRERELEASEIDENTIFIERLOOSE",`(?:${s[a.NUMERICIDENTIFIERLOOSE]}|${s[a.NONNUMERICIDENTIFIER]})`),u("PRERELEASE",`(?:-(${s[a.PRERELEASEIDENTIFIER]}(?:\\.${s[a.PRERELEASEIDENTIFIER]})*))`),u("PRERELEASELOOSE",`(?:-?(${s[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[a.PRERELEASEIDENTIFIERLOOSE]})*))`),u("BUILDIDENTIFIER","[0-9A-Za-z-]+"),u("BUILD",`(?:\\+(${s[a.BUILDIDENTIFIER]}(?:\\.${s[a.BUILDIDENTIFIER]})*))`),u("FULLPLAIN",`v?${s[a.MAINVERSION]}${s[a.PRERELEASE]}?${s[a.BUILD]}?`),u("FULL",`^${s[a.FULLPLAIN]}$`),u("LOOSEPLAIN",`[v=\\s]*${s[a.MAINVERSIONLOOSE]}${s[a.PRERELEASELOOSE]}?${s[a.BUILD]}?`),u("LOOSE",`^${s[a.LOOSEPLAIN]}$`),u("GTLT","((?:<|>)?=?)"),u("XRANGEIDENTIFIERLOOSE",s[a.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*"),u("XRANGEIDENTIFIER",s[a.NUMERICIDENTIFIER]+"|x|X|\\*"),u("XRANGEPLAIN",`[v=\\s]*(${s[a.XRANGEIDENTIFIER]})(?:\\.(${s[a.XRANGEIDENTIFIER]})(?:\\.(${s[a.XRANGEIDENTIFIER]})(?:${s[a.PRERELEASE]})?${s[a.BUILD]}?)?)?`),u("XRANGEPLAINLOOSE",`[v=\\s]*(${s[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[a.XRANGEIDENTIFIERLOOSE]})(?:${s[a.PRERELEASELOOSE]})?${s[a.BUILD]}?)?)?`),u("XRANGE",`^${s[a.GTLT]}\\s*${s[a.XRANGEPLAIN]}$`),u("XRANGELOOSE",`^${s[a.GTLT]}\\s*${s[a.XRANGEPLAINLOOSE]}$`),u("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),u("COERCERTL",s[a.COERCE],!0),u("LONETILDE","(?:~>?)"),u("TILDETRIM",`(\\s*)${s[a.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",u("TILDE",`^${s[a.LONETILDE]}${s[a.XRANGEPLAIN]}$`),u("TILDELOOSE",`^${s[a.LONETILDE]}${s[a.XRANGEPLAINLOOSE]}$`),u("LONECARET","(?:\\^)"),u("CARETTRIM",`(\\s*)${s[a.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",u("CARET",`^${s[a.LONECARET]}${s[a.XRANGEPLAIN]}$`),u("CARETLOOSE",`^${s[a.LONECARET]}${s[a.XRANGEPLAINLOOSE]}$`),u("COMPARATORLOOSE",`^${s[a.GTLT]}\\s*(${s[a.LOOSEPLAIN]})$|^$`),u("COMPARATOR",`^${s[a.GTLT]}\\s*(${s[a.FULLPLAIN]})$|^$`),u("COMPARATORTRIM",`(\\s*)${s[a.GTLT]}\\s*(${s[a.LOOSEPLAIN]}|${s[a.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",u("HYPHENRANGE",`^\\s*(${s[a.XRANGEPLAIN]})\\s+-\\s+(${s[a.XRANGEPLAIN]})\\s*$`),u("HYPHENRANGELOOSE",`^\\s*(${s[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[a.XRANGEPLAINLOOSE]})\\s*$`),u("STAR","(<|>)?=?\\s*\\*"),u("GTE0","^\\s*>=\\s*0.0.0\\s*$"),u("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")},function(t,e,n){const{MAX_LENGTH:r}=n(24),{re:i,t:o}=n(17),s=n(4),a=n(26);t.exports=(t,e)=>{if(e=a(e),t instanceof s)return t;if("string"!=typeof t)return null;if(t.length>r)return null;if(!(e.loose?i[o.LOOSE]:i[o.FULL]).test(t))return null;try{return new s(t,e)}catch(t){return null}}},function(t,e){t.exports=require("assert")},function(t,e){t.exports=require("crypto")},function(t,e,n){"use strict";const r=n(5).fromCallback,i=n(3),o=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(t=>"function"==typeof i[t]);Object.keys(i).forEach(t=>{"promises"!==t&&(e[t]=i[t])}),o.forEach(t=>{e[t]=r(i[t])}),e.exists=function(t,e){return"function"==typeof e?i.exists(t,e):new Promise(e=>i.exists(t,e))},e.read=function(t,e,n,r,o,s){return"function"==typeof s?i.read(t,e,n,r,o,s):new Promise((s,a)=>{i.read(t,e,n,r,o,(t,e,n)=>{if(t)return a(t);s({bytesRead:e,buffer:n})})})},e.write=function(t,e,...n){return"function"==typeof n[n.length-1]?i.write(t,e,...n):new Promise((r,o)=>{i.write(t,e,...n,(t,e,n)=>{if(t)return o(t);r({bytesWritten:e,buffer:n})})})},"function"==typeof i.writev&&(e.writev=function(t,e,...n){return"function"==typeof n[n.length-1]?i.writev(t,e,...n):new Promise((r,o)=>{i.writev(t,e,...n,(t,e,n)=>{if(t)return o(t);r({bytesWritten:e,buffers:n})})})}),"function"==typeof i.realpath.native&&(e.realpath.native=r(i.realpath.native))},function(t,e,n){"use strict";const r=n(21),i=n(0),o=n(15),s=n(52)("10.5.0"),a=t=>s?r.stat(t,{bigint:!0}):r.stat(t),c=t=>s?r.statSync(t,{bigint:!0}):r.statSync(t);function u(t,e){return Promise.all([a(t),a(e).catch(t=>{if("ENOENT"===t.code)return null;throw t})]).then(([t,e])=>({srcStat:t,destStat:e}))}function l(t,e){if(e.ino&&e.dev&&e.ino===t.ino&&e.dev===t.dev){if(s||e.ino<Number.MAX_SAFE_INTEGER)return!0;if(e.size===t.size&&e.mode===t.mode&&e.nlink===t.nlink&&e.atimeMs===t.atimeMs&&e.mtimeMs===t.mtimeMs&&e.ctimeMs===t.ctimeMs&&e.birthtimeMs===t.birthtimeMs)return!0}return!1}function h(t,e){const n=i.resolve(t).split(i.sep).filter(t=>t),r=i.resolve(e).split(i.sep).filter(t=>t);return n.reduce((t,e,n)=>t&&r[n]===e,!0)}function f(t,e,n){return`Cannot ${n} '${t}' to a subdirectory of itself, '${e}'.`}t.exports={checkPaths:function(t,e,n,r){o.callbackify(u)(t,e,(i,o)=>{if(i)return r(i);const{srcStat:s,destStat:a}=o;return a&&l(s,a)?r(new Error("Source and destination must not be the same.")):s.isDirectory()&&h(t,e)?r(new Error(f(t,e,n))):r(null,{srcStat:s,destStat:a})})},checkPathsSync:function(t,e,n){const{srcStat:r,destStat:i}=function(t,e){let n;const r=c(t);try{n=c(e)}catch(t){if("ENOENT"===t.code)return{srcStat:r,destStat:null};throw t}return{srcStat:r,destStat:n}}(t,e);if(i&&l(r,i))throw new Error("Source and destination must not be the same.");if(r.isDirectory()&&h(t,e))throw new Error(f(t,e,n));return{srcStat:r,destStat:i}},checkParentPaths:function t(e,n,o,a,c){const u=i.resolve(i.dirname(e)),h=i.resolve(i.dirname(o));if(h===u||h===i.parse(h).root)return c();const p=(r,i)=>r?"ENOENT"===r.code?c():c(r):l(n,i)?c(new Error(f(e,o,a))):t(e,n,h,a,c);s?r.stat(h,{bigint:!0},p):r.stat(h,p)},checkParentPathsSync:function t(e,n,r,o){const s=i.resolve(i.dirname(e)),a=i.resolve(i.dirname(r));if(a===s||a===i.parse(a).root)return;let u;try{u=c(a)}catch(t){if("ENOENT"===t.code)return;throw t}if(l(n,u))throw new Error(f(e,r,o));return t(e,n,a,o)},isSrcSubdir:h}},function(t,e,n){"use strict";const r=n(5).fromCallback,i=n(98);t.exports={remove:r(i),removeSync:i.sync}},function(t,e){const n=Number.MAX_SAFE_INTEGER||9007199254740991;t.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:n,MAX_SAFE_COMPONENT_LENGTH:16}},function(t,e){const n="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{};t.exports=n},function(t,e){const n=["includePrerelease","loose","rtl"];t.exports=t=>t?"object"!=typeof t?{loose:!0}:n.filter(e=>t[e]).reduce((t,e)=>(t[e]=!0,t),{}):{}},function(t,e,n){const r=n(6);t.exports=(t,e,n)=>r(t,e,n)>0},function(t,e,n){const r=Symbol("SemVer ANY");class i{static get ANY(){return r}constructor(t,e){if(e=o(e),t instanceof i){if(t.loose===!!e.loose)return t;t=t.value}u("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===r?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(t){const e=this.options.loose?s[a.COMPARATORLOOSE]:s[a.COMPARATOR],n=t.match(e);if(!n)throw new TypeError("Invalid comparator: "+t);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new l(n[2],this.options.loose):this.semver=r}toString(){return this.value}test(t){if(u("Comparator.test",t,this.options.loose),this.semver===r||t===r)return!0;if("string"==typeof t)try{t=new l(t,this.options)}catch(t){return!1}return c(t,this.operator,this.semver,this.options)}intersects(t,e){if(!(t instanceof i))throw new TypeError("a Comparator is required");if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),""===this.operator)return""===this.value||new h(t.value,e).test(this.value);if(""===t.operator)return""===t.value||new h(this.value,e).test(t.semver);const n=!(">="!==this.operator&&">"!==this.operator||">="!==t.operator&&">"!==t.operator),r=!("<="!==this.operator&&"<"!==this.operator||"<="!==t.operator&&"<"!==t.operator),o=this.semver.version===t.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==t.operator&&"<="!==t.operator),a=c(this.semver,"<",t.semver,e)&&(">="===this.operator||">"===this.operator)&&("<="===t.operator||"<"===t.operator),u=c(this.semver,">",t.semver,e)&&("<="===this.operator||"<"===this.operator)&&(">="===t.operator||">"===t.operator);return n||r||o&&s||a||u}}t.exports=i;const o=n(26),{re:s,t:a}=n(17),c=n(57),u=n(25),l=n(4),h=n(7)},function(t,e,n){const r=n(7);t.exports=(t,e,n)=>{try{e=new r(e,n)}catch(t){return!1}return e.test(t)}},function(t,e){t.exports=require("child_process")},function(t,e,n){"use strict";function r(){const t=n(1);return r=function(){return t},t}function i(){const t=n(20);return i=function(){return t},t}function o(){const t=n(8);return o=function(){return t},t}function s(){const t=n(32);return s=function(){return t},t}function a(){const t=n(13);return a=function(){return t},t}function c(){const t=n(36);return c=function(){return t},t}function u(){const t=n(114);return u=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.NoOpLogger=e.AppUpdater=void 0;var l=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=v();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}n.default=t,e&&e.set(t,n);return n}(n(0));function h(){const t=n(55);return h=function(){return t},t}function f(){const t=n(141);return f=function(){return t},t}function p(){const t=n(144);return p=function(){return t},t}function d(){const t=n(146);return d=function(){return t},t}function m(){const t=n(58);return m=function(){return t},t}function g(){const t=n(9);return g=function(){return t},t}function y(){const t=n(147);return y=function(){return t},t}function v(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return v=function(){return t},t}class E extends s().EventEmitter{constructor(t,e){super(),this.autoDownload=!0,this.autoInstallOnAppQuit=!0,this.allowPrerelease=!1,this.fullChangelog=!1,this.allowDowngrade=!1,this._channel=null,this.downloadedUpdateHelper=null,this.requestHeaders=null,this._logger=console,this.signals=new(g().UpdaterSignal)(this),this._appUpdateConfigPath=null,this.clientPromise=null,this.stagingUserIdPromise=new(u().Lazy)(()=>this.getOrCreateStagingUserId()),this.configOnDisk=new(u().Lazy)(()=>this.loadUpdateConfig()),this.checkForUpdatesPromise=null,this.updateInfoAndProvider=null,this._testOnlyOptions=null,this.on("error",t=>{this._logger.error("Error: "+(t.stack||t.message))}),null==e?(this.app=new(p().ElectronAppAdapter),this.httpExecutor=new(d().ElectronHttpExecutor)((t,e)=>this.emit("login",t,e))):(this.app=e,this.httpExecutor=null);const n=this.app.version,i=(0,h().parse)(n);if(null==i)throw(0,r().newError)(`App version is not a valid semver version: "${n}"`,"ERR_UPDATER_INVALID_VERSION");this.currentVersion=i,this.allowPrerelease=function(t){const e=(0,h().prerelease)(t);return null!=e&&e.length>0}(i),null!=t&&(this.setFeedURL(t),"string"!=typeof t&&t.requestHeaders&&(this.requestHeaders=t.requestHeaders))}get channel(){return this._channel}set channel(t){if(null!=this._channel){if("string"!=typeof t)throw(0,r().newError)("Channel must be a string, but got: "+t,"ERR_UPDATER_INVALID_CHANNEL");if(0===t.length)throw(0,r().newError)("Channel must be not an empty string","ERR_UPDATER_INVALID_CHANNEL")}this._channel=t,this.allowDowngrade=!0}get netSession(){return(0,d().getNetSession)()}get logger(){return this._logger}set logger(t){this._logger=null==t?new w:t}set updateConfigPath(t){this.clientPromise=null,this._appUpdateConfigPath=t,this.configOnDisk=new(u().Lazy)(()=>this.loadUpdateConfig())}getFeedURL(){return"Deprecated. Do not use it."}setFeedURL(t){const e=this.createProviderRuntimeOptions();let n;n="string"==typeof t?new(m().GenericProvider)({provider:"generic",url:t},this,{...e,isUseMultipleRangeRequest:(0,y().isUrlProbablySupportMultiRangeRequests)(t)}):(0,y().createClient)(t,this,e),this.clientPromise=Promise.resolve(n)}checkForUpdates(){let t=this.checkForUpdatesPromise;if(null!=t)return this._logger.info("Checking for update (already in progress)"),t;const e=()=>this.checkForUpdatesPromise=null;return this._logger.info("Checking for update"),t=this.doCheckForUpdates().then(t=>(e(),t)).catch(t=>{throw e(),this.emit("error",t,"Cannot check for updates: "+(t.stack||t).toString()),t}),this.checkForUpdatesPromise=t,t}isUpdaterActive(){return!!this.app.isPackaged||(this._logger.info("Skip checkForUpdatesAndNotify because application is not packed"),!1)}checkForUpdatesAndNotify(t){return this.isUpdaterActive()?this.checkForUpdates().then(e=>{const n=e.downloadPromise;if(null==n){const t=this._logger.debug;return null!=t&&t("checkForUpdatesAndNotify called, downloadPromise is null"),e}return n.then(()=>{const n=this.formatDownloadNotification(e.updateInfo.version,this.app.name,t);new(o().Notification)(n).show()}),e}):Promise.resolve(null)}formatDownloadNotification(t,e,n){return null==n&&(n={title:"A new update is ready to install",body:"{appName} version {version} has been downloaded and will be automatically installed on exit"}),n={title:n.title.replace("{appName}",e).replace("{version}",t),body:n.body.replace("{appName}",e).replace("{version}",t)}}async isStagingMatch(t){const e=t.stagingPercentage;let n=e;if(null==n)return!0;if(n=parseInt(n,10),isNaN(n))return this._logger.warn("Staging percentage is NaN: "+e),!0;n/=100;const i=await this.stagingUserIdPromise.value,o=r().UUID.parse(i).readUInt32BE(12)/4294967295;return this._logger.info(`Staging percentage: ${n}, percentage: ${o}, user id: ${i}`),o<n}computeFinalHeaders(t){return null!=this.requestHeaders&&Object.assign(t,this.requestHeaders),t}async isUpdateAvailable(t){const e=(0,h().parse)(t.version);if(null==e)throw(0,r().newError)(`This file could not be downloaded, or the latest version (from update server) does not have a valid semver version: "${t.version}"`,"ERR_UPDATER_INVALID_VERSION");const n=this.currentVersion;if((0,h().eq)(e,n))return!1;if(!await this.isStagingMatch(t))return!1;const i=(0,h().gt)(e,n),o=(0,h().lt)(e,n);return!!i||this.allowDowngrade&&o}async getUpdateInfoAndProvider(){await this.app.whenReady(),null==this.clientPromise&&(this.clientPromise=this.configOnDisk.value.then(t=>(0,y().createClient)(t,this,this.createProviderRuntimeOptions())));const t=await this.clientPromise,e=await this.stagingUserIdPromise.value;return t.setRequestHeaders(this.computeFinalHeaders({"x-user-staging-id":e})),{info:await t.getLatestVersion(),provider:t}}createProviderRuntimeOptions(){return{isUseMultipleRangeRequest:!0,platform:null==this._testOnlyOptions?process.platform:this._testOnlyOptions.platform,executor:this.httpExecutor}}async doCheckForUpdates(){this.emit("checking-for-update");const t=await this.getUpdateInfoAndProvider(),e=t.info;if(!await this.isUpdateAvailable(e))return this._logger.info(`Update for version ${this.currentVersion} is not available (latest version: ${e.version}, downgrade is ${this.allowDowngrade?"allowed":"disallowed"}).`),this.emit("update-not-available",e),{versionInfo:e,updateInfo:e};this.updateInfoAndProvider=t,this.onUpdateAvailable(e);const n=new(r().CancellationToken);return{versionInfo:e,updateInfo:e,cancellationToken:n,downloadPromise:this.autoDownload?this.downloadUpdate(n):null}}onUpdateAvailable(t){this._logger.info(`Found version ${t.version} (url: ${(0,r().asArray)(t.files).map(t=>t.url).join(", ")})`),this.emit("update-available",t)}downloadUpdate(t=new(r().CancellationToken)){const e=this.updateInfoAndProvider;if(null==e){const t=new Error("Please check update first");return this.dispatchError(t),Promise.reject(t)}this._logger.info("Downloading update from "+(0,r().asArray)(e.info.files).map(t=>t.url).join(", "));const n=t=>{if(!(t instanceof r().CancellationError))try{this.dispatchError(t)}catch(t){this._logger.warn("Cannot dispatch error event: "+(t.stack||t))}return t};try{return this.doDownloadUpdate({updateInfoAndProvider:e,requestHeaders:this.computeRequestHeaders(e.provider),cancellationToken:t}).catch(t=>{throw n(t)})}catch(t){return Promise.reject(n(t))}}dispatchError(t){this.emit("error",t,(t.stack||t).toString())}dispatchUpdateDownloaded(t){this.emit(g().UPDATE_DOWNLOADED,t)}async loadUpdateConfig(){return null==this._appUpdateConfigPath&&(this._appUpdateConfigPath=this.app.appUpdateConfigPath),(0,c().load)(await(0,a().readFile)(this._appUpdateConfigPath,"utf-8"))}computeRequestHeaders(t){const e=t.fileExtraDownloadHeaders;if(null!=e){const t=this.requestHeaders;return null==t?e:{...e,...t}}return this.computeFinalHeaders({accept:"*/*"})}async getOrCreateStagingUserId(){const t=l.join(this.app.userDataPath,".updaterId");try{const e=await(0,a().readFile)(t,"utf-8");if(r().UUID.check(e))return e;this._logger.warn("Staging user id file exists, but content was invalid: "+e)}catch(t){"ENOENT"!==t.code&&this._logger.warn("Couldn't read staging user ID, creating a blank one: "+t)}const e=r().UUID.v5((0,i().randomBytes)(4096),r().UUID.OID);this._logger.info("Generated new staging user ID: "+e);try{await(0,a().outputFile)(t,e)}catch(t){this._logger.warn("Couldn't write out staging user ID: "+t)}return e}get isAddNoCacheQuery(){const t=this.requestHeaders;if(null==t)return!0;for(const e of Object.keys(t)){const t=e.toLowerCase();if("authorization"===t||"private-token"===t)return!1}return!0}async getOrCreateDownloadHelper(){let t=this.downloadedUpdateHelper;if(null==t){const e=(await this.configOnDisk.value).updaterCacheDirName,n=this._logger;null==e&&n.error("updaterCacheDirName is not specified in app-update.yml Was app build using at least electron-builder 20.34.0?");const r=l.join(this.app.baseCachePath,e||this.app.name);null!=n.debug&&n.debug("updater cache dir: "+r),t=new(f().DownloadedUpdateHelper)(r),this.downloadedUpdateHelper=t}return t}async executeDownload(t){const e=t.fileInfo,n={headers:t.downloadUpdateOptions.requestHeaders,cancellationToken:t.downloadUpdateOptions.cancellationToken,sha2:e.info.sha2,sha512:e.info.sha512};this.listenerCount(g().DOWNLOAD_PROGRESS)>0&&(n.onProgress=t=>this.emit(g().DOWNLOAD_PROGRESS,t));const i=t.downloadUpdateOptions.updateInfoAndProvider.info,o=i.version,s=e.packageInfo;const c=await this.getOrCreateDownloadHelper(),u=c.cacheDirForPendingUpdate;await(0,a().ensureDir)(u);const h=function(){const e=decodeURIComponent(t.fileInfo.url.pathname);return e.endsWith("."+t.fileExtension)?l.posix.basename(e):"update."+t.fileExtension}();let p=l.join(u,h);const d=null==s?null:l.join(u,`package-${o}${l.extname(s.path)||".7z"}`),m=async n=>(await c.setDownloadedFile(p,d,i,e,h,n),await t.done({...i,downloadedFile:p}),null==d?[p]:[p,d]),y=this._logger,v=await c.validateDownloadedPath(p,i,e,y);if(null!=v)return p=v,await m(!1);const E=async()=>(await c.clear().catch(()=>{}),await(0,a().unlink)(p).catch(()=>{})),w=await(0,f().createTempUpdateFile)("temp-"+h,u,y);try{await t.task(w,n,d,E),await(0,a().rename)(w,p)}catch(t){throw await E(),t instanceof r().CancellationError&&(y.info("cancelled"),this.emit("update-cancelled",i)),t}return y.info(`New version ${o} has been downloaded to ${p}`),await m(!0)}}e.AppUpdater=E;class w{info(t){}warn(t){}error(t){}}e.NoOpLogger=w},function(t,e){t.exports=require("events")},function(t,e){t.exports=require("os")},function(t,e){t.exports={stringify:function(t,{EOL:e="\n",finalEOL:n=!0,replacer:r=null,spaces:i}={}){const o=n?e:"";return JSON.stringify(t,r,i).replace(/\n/g,e)+o},stripBom:function(t){return Buffer.isBuffer(t)&&(t=t.toString("utf8")),t.replace(/^\uFEFF/,"")}}},function(t,e,n){"use strict";const r=n(5).fromCallback,i=n(3),o=n(0),s=n(10),a=n(14).pathExists;t.exports={outputFile:r((function(t,e,n,r){"function"==typeof n&&(r=n,n="utf8");const c=o.dirname(t);a(c,(o,a)=>o?r(o):a?i.writeFile(t,e,n,r):void s.mkdirs(c,o=>{if(o)return r(o);i.writeFile(t,e,n,r)}))})),outputFileSync:function(t,...e){const n=o.dirname(t);if(i.existsSync(n))return i.writeFileSync(t,...e);s.mkdirsSync(n),i.writeFileSync(t,...e)}}},function(t,e,n){"use strict";
/*! js-yaml 4.0.0 https://github.com/nodeca/js-yaml @license MIT */
function r(t){return null==t}n.r(e),n.d(e,"CORE_SCHEMA",(function(){return Zt})),n.d(e,"DEFAULT_SCHEMA",(function(){return te})),n.d(e,"FAILSAFE_SCHEMA",(function(){return Kt})),n.d(e,"JSON_SCHEMA",(function(){return Qt})),n.d(e,"Schema",(function(){return Jt})),n.d(e,"Type",(function(){return Xt})),n.d(e,"YAMLException",(function(){return ie})),n.d(e,"dump",(function(){return re})),n.d(e,"load",(function(){return ee})),n.d(e,"loadAll",(function(){return ne})),n.d(e,"safeDump",(function(){return ae})),n.d(e,"safeLoad",(function(){return oe})),n.d(e,"safeLoadAll",(function(){return se}));var i={isNothing:r,isObject:function(t){return"object"==typeof t&&null!==t},toArray:function(t){return Array.isArray(t)?t:r(t)?[]:[t]},repeat:function(t,e){var n,r="";for(n=0;n<e;n+=1)r+=t;return r},isNegativeZero:function(t){return 0===t&&Number.NEGATIVE_INFINITY===1/t},extend:function(t,e){var n,r,i,o;if(e)for(n=0,r=(o=Object.keys(e)).length;n<r;n+=1)t[i=o[n]]=e[i];return t}};function o(t,e){var n="",r=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(n+='in "'+t.mark.name+'" '),n+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!e&&t.mark.snippet&&(n+="\n\n"+t.mark.snippet),r+" "+n):r}function s(t,e){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=e,this.message=o(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}s.prototype=Object.create(Error.prototype),s.prototype.constructor=s,s.prototype.toString=function(t){return this.name+": "+o(this,t)};var a=s;function c(t,e,n,r,i){var o="",s="",a=Math.floor(i/2)-1;return r-e>a&&(e=r-a+(o=" ... ").length),n-r>a&&(n=r+a-(s=" ...").length),{str:o+t.slice(e,n).replace(/\t/g,"→")+s,pos:r-e+o.length}}function u(t,e){return i.repeat(" ",e-t.length)+t}var l=function(t,e){if(e=Object.create(e||null),!t.buffer)return null;e.maxLength||(e.maxLength=79),"number"!=typeof e.indent&&(e.indent=1),"number"!=typeof e.linesBefore&&(e.linesBefore=3),"number"!=typeof e.linesAfter&&(e.linesAfter=2);for(var n,r=/\r?\n|\r|\0/g,o=[0],s=[],a=-1;n=r.exec(t.buffer);)s.push(n.index),o.push(n.index+n[0].length),t.position<=n.index&&a<0&&(a=o.length-2);a<0&&(a=o.length-1);var l,h,f="",p=Math.min(t.line+e.linesAfter,s.length).toString().length,d=e.maxLength-(e.indent+p+3);for(l=1;l<=e.linesBefore&&!(a-l<0);l++)h=c(t.buffer,o[a-l],s[a-l],t.position-(o[a]-o[a-l]),d),f=i.repeat(" ",e.indent)+u((t.line-l+1).toString(),p)+" | "+h.str+"\n"+f;for(h=c(t.buffer,o[a],s[a],t.position,d),f+=i.repeat(" ",e.indent)+u((t.line+1).toString(),p)+" | "+h.str+"\n",f+=i.repeat("-",e.indent+p+3+h.pos)+"^\n",l=1;l<=e.linesAfter&&!(a+l>=s.length);l++)h=c(t.buffer,o[a+l],s[a+l],t.position-(o[a]-o[a+l]),d),f+=i.repeat(" ",e.indent)+u((t.line+l+1).toString(),p)+" | "+h.str+"\n";return f.replace(/\n$/,"")},h=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],f=["scalar","sequence","mapping"];var p=function(t,e){if(e=e||{},Object.keys(e).forEach((function(e){if(-1===h.indexOf(e))throw new a('Unknown option "'+e+'" is met in definition of "'+t+'" YAML type.')})),this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(t){return t},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.representName=e.representName||null,this.defaultStyle=e.defaultStyle||null,this.multi=e.multi||!1,this.styleAliases=function(t){var e={};return null!==t&&Object.keys(t).forEach((function(n){t[n].forEach((function(t){e[String(t)]=n}))})),e}(e.styleAliases||null),-1===f.indexOf(this.kind))throw new a('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')};function d(t,e,n){var r=[];return t[e].forEach((function(t){n.forEach((function(e,n){e.tag===t.tag&&e.kind===t.kind&&e.multi===t.multi&&r.push(n)})),n.push(t)})),n.filter((function(t,e){return-1===r.indexOf(e)}))}function m(t){return this.extend(t)}m.prototype.extend=function(t){var e=[],n=[];if(t instanceof p)n.push(t);else if(Array.isArray(t))n=n.concat(t);else{if(!t||!Array.isArray(t.implicit)&&!Array.isArray(t.explicit))throw new a("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");t.implicit&&(e=e.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit))}e.forEach((function(t){if(!(t instanceof p))throw new a("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(t.loadKind&&"scalar"!==t.loadKind)throw new a("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(t.multi)throw new a("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")})),n.forEach((function(t){if(!(t instanceof p))throw new a("Specified list of YAML types (or a single Type object) contains a non-Type object.")}));var r=Object.create(m.prototype);return r.implicit=(this.implicit||[]).concat(e),r.explicit=(this.explicit||[]).concat(n),r.compiledImplicit=d(r,"implicit",[]),r.compiledExplicit=d(r,"explicit",[]),r.compiledTypeMap=function(){var t,e,n={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function r(t){t.multi?(n.multi[t.kind].push(t),n.multi.fallback.push(t)):n[t.kind][t.tag]=n.fallback[t.tag]=t}for(t=0,e=arguments.length;t<e;t+=1)arguments[t].forEach(r);return n}(r.compiledImplicit,r.compiledExplicit),r};var g=m,y=new g({explicit:[new p("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return null!==t?t:""}}),new p("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return null!==t?t:[]}}),new p("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return null!==t?t:{}}})]});var v=new p("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(t){if(null===t)return!0;var e=t.length;return 1===e&&"~"===t||4===e&&("null"===t||"Null"===t||"NULL"===t)},construct:function(){return null},predicate:function(t){return null===t},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});var E=new p("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(t){if(null===t)return!1;var e=t.length;return 4===e&&("true"===t||"True"===t||"TRUE"===t)||5===e&&("false"===t||"False"===t||"FALSE"===t)},construct:function(t){return"true"===t||"True"===t||"TRUE"===t},predicate:function(t){return"[object Boolean]"===Object.prototype.toString.call(t)},represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function w(t){return 48<=t&&t<=55}function b(t){return 48<=t&&t<=57}var _=new p("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(t){if(null===t)return!1;var e,n,r=t.length,i=0,o=!1;if(!r)return!1;if("-"!==(e=t[i])&&"+"!==e||(e=t[++i]),"0"===e){if(i+1===r)return!0;if("b"===(e=t[++i])){for(i++;i<r;i++)if("_"!==(e=t[i])){if("0"!==e&&"1"!==e)return!1;o=!0}return o&&"_"!==e}if("x"===e){for(i++;i<r;i++)if("_"!==(e=t[i])){if(!(48<=(n=t.charCodeAt(i))&&n<=57||65<=n&&n<=70||97<=n&&n<=102))return!1;o=!0}return o&&"_"!==e}if("o"===e){for(i++;i<r;i++)if("_"!==(e=t[i])){if(!w(t.charCodeAt(i)))return!1;o=!0}return o&&"_"!==e}}if("_"===e)return!1;for(;i<r;i++)if("_"!==(e=t[i])){if(!b(t.charCodeAt(i)))return!1;o=!0}return!(!o||"_"===e)},construct:function(t){var e,n=t,r=1;if(-1!==n.indexOf("_")&&(n=n.replace(/_/g,"")),"-"!==(e=n[0])&&"+"!==e||("-"===e&&(r=-1),e=(n=n.slice(1))[0]),"0"===n)return 0;if("0"===e){if("b"===n[1])return r*parseInt(n.slice(2),2);if("x"===n[1])return r*parseInt(n.slice(2),16);if("o"===n[1])return r*parseInt(n.slice(2),8)}return r*parseInt(n,10)},predicate:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&t%1==0&&!i.isNegativeZero(t)},represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),O=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");var A=/^[-+]?[0-9]+e/;var T=new p("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(t){return null!==t&&!(!O.test(t)||"_"===t[t.length-1])},construct:function(t){var e,n;return n="-"===(e=t.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(e[0])>=0&&(e=e.slice(1)),".inf"===e?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===e?NaN:n*parseFloat(e,10)},predicate:function(t){return"[object Number]"===Object.prototype.toString.call(t)&&(t%1!=0||i.isNegativeZero(t))},represent:function(t,e){var n;if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(i.isNegativeZero(t))return"-0.0";return n=t.toString(10),A.test(n)?n.replace("e",".e"):n},defaultStyle:"lowercase"}),S=y.extend({implicit:[v,E,_,T]}),N=S,I=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),C=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");var R=new p("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(t){return null!==t&&(null!==I.exec(t)||null!==C.exec(t))},construct:function(t){var e,n,r,i,o,s,a,c,u=0,l=null;if(null===(e=I.exec(t))&&(e=C.exec(t)),null===e)throw new Error("Date resolve error");if(n=+e[1],r=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(n,r,i));if(o=+e[4],s=+e[5],a=+e[6],e[7]){for(u=e[7].slice(0,3);u.length<3;)u+="0";u=+u}return e[9]&&(l=6e4*(60*+e[10]+ +(e[11]||0)),"-"===e[9]&&(l=-l)),c=new Date(Date.UTC(n,r,i,o,s,a,u)),l&&c.setTime(c.getTime()-l),c},instanceOf:Date,represent:function(t){return t.toISOString()}});var P=new p("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(t){return"<<"===t||null===t}}),k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";var D=new p("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(t){if(null===t)return!1;var e,n,r=0,i=t.length,o=k;for(n=0;n<i;n++)if(!((e=o.indexOf(t.charAt(n)))>64)){if(e<0)return!1;r+=6}return r%8==0},construct:function(t){var e,n,r=t.replace(/[\r\n=]/g,""),i=r.length,o=k,s=0,a=[];for(e=0;e<i;e++)e%4==0&&e&&(a.push(s>>16&255),a.push(s>>8&255),a.push(255&s)),s=s<<6|o.indexOf(r.charAt(e));return 0===(n=i%4*6)?(a.push(s>>16&255),a.push(s>>8&255),a.push(255&s)):18===n?(a.push(s>>10&255),a.push(s>>2&255)):12===n&&a.push(s>>4&255),new Uint8Array(a)},predicate:function(t){return"[object Uint8Array]"===Object.prototype.toString.call(t)},represent:function(t){var e,n,r="",i=0,o=t.length,s=k;for(e=0;e<o;e++)e%3==0&&e&&(r+=s[i>>18&63],r+=s[i>>12&63],r+=s[i>>6&63],r+=s[63&i]),i=(i<<8)+t[e];return 0===(n=o%3)?(r+=s[i>>18&63],r+=s[i>>12&63],r+=s[i>>6&63],r+=s[63&i]):2===n?(r+=s[i>>10&63],r+=s[i>>4&63],r+=s[i<<2&63],r+=s[64]):1===n&&(r+=s[i>>2&63],r+=s[i<<4&63],r+=s[64],r+=s[64]),r}}),x=Object.prototype.hasOwnProperty,L=Object.prototype.toString;var F=new p("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(t){if(null===t)return!0;var e,n,r,i,o,s=[],a=t;for(e=0,n=a.length;e<n;e+=1){if(r=a[e],o=!1,"[object Object]"!==L.call(r))return!1;for(i in r)if(x.call(r,i)){if(o)return!1;o=!0}if(!o)return!1;if(-1!==s.indexOf(i))return!1;s.push(i)}return!0},construct:function(t){return null!==t?t:[]}}),j=Object.prototype.toString;var U=new p("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(t){if(null===t)return!0;var e,n,r,i,o,s=t;for(o=new Array(s.length),e=0,n=s.length;e<n;e+=1){if(r=s[e],"[object Object]"!==j.call(r))return!1;if(1!==(i=Object.keys(r)).length)return!1;o[e]=[i[0],r[i[0]]]}return!0},construct:function(t){if(null===t)return[];var e,n,r,i,o,s=t;for(o=new Array(s.length),e=0,n=s.length;e<n;e+=1)r=s[e],i=Object.keys(r),o[e]=[i[0],r[i[0]]];return o}}),M=Object.prototype.hasOwnProperty;var $=new p("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(t){if(null===t)return!0;var e,n=t;for(e in n)if(M.call(n,e)&&null!==n[e])return!1;return!0},construct:function(t){return null!==t?t:{}}}),B=N.extend({implicit:[R,P],explicit:[D,F,U,$]}),q=Object.prototype.hasOwnProperty,G=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,H=/[\x85\u2028\u2029]/,V=/[,\[\]\{\}]/,W=/^(?:!|!!|![a-z\-]+!)$/i,z=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Y(t){return Object.prototype.toString.call(t)}function X(t){return 10===t||13===t}function J(t){return 9===t||32===t}function K(t){return 9===t||32===t||10===t||13===t}function Q(t){return 44===t||91===t||93===t||123===t||125===t}function Z(t){var e;return 48<=t&&t<=57?t-48:97<=(e=32|t)&&e<=102?e-97+10:-1}function tt(t){return 48===t?"\0":97===t?"":98===t?"\b":116===t||9===t?"\t":110===t?"\n":118===t?"\v":102===t?"\f":114===t?"\r":101===t?"":32===t?" ":34===t?'"':47===t?"/":92===t?"\\":78===t?"":95===t?" ":76===t?"\u2028":80===t?"\u2029":""}function et(t){return t<=65535?String.fromCharCode(t):String.fromCharCode(55296+(t-65536>>10),56320+(t-65536&1023))}for(var nt=new Array(256),rt=new Array(256),it=0;it<256;it++)nt[it]=tt(it)?1:0,rt[it]=tt(it);function ot(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||B,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.json=e.json||!1,this.listener=e.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function st(t,e){var n={name:t.filename,buffer:t.input.slice(0,-1),position:t.position,line:t.line,column:t.position-t.lineStart};return n.snippet=l(n),new a(e,n)}function at(t,e){throw st(t,e)}function ct(t,e){t.onWarning&&t.onWarning.call(null,st(t,e))}var ut={YAML:function(t,e,n){var r,i,o;null!==t.version&&at(t,"duplication of %YAML directive"),1!==n.length&&at(t,"YAML directive accepts exactly one argument"),null===(r=/^([0-9]+)\.([0-9]+)$/.exec(n[0]))&&at(t,"ill-formed argument of the YAML directive"),i=parseInt(r[1],10),o=parseInt(r[2],10),1!==i&&at(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,1!==o&&2!==o&&ct(t,"unsupported YAML version of the document")},TAG:function(t,e,n){var r,i;2!==n.length&&at(t,"TAG directive accepts exactly two arguments"),r=n[0],i=n[1],W.test(r)||at(t,"ill-formed tag handle (first argument) of the TAG directive"),q.call(t.tagMap,r)&&at(t,'there is a previously declared suffix for "'+r+'" tag handle'),z.test(i)||at(t,"ill-formed tag prefix (second argument) of the TAG directive");try{i=decodeURIComponent(i)}catch(e){at(t,"tag prefix is malformed: "+i)}t.tagMap[r]=i}};function lt(t,e,n,r){var i,o,s,a;if(e<n){if(a=t.input.slice(e,n),r)for(i=0,o=a.length;i<o;i+=1)9===(s=a.charCodeAt(i))||32<=s&&s<=1114111||at(t,"expected valid JSON character");else G.test(a)&&at(t,"the stream contains non-printable characters");t.result+=a}}function ht(t,e,n,r){var o,s,a,c;for(i.isObject(n)||at(t,"cannot merge mappings; the provided source object is unacceptable"),a=0,c=(o=Object.keys(n)).length;a<c;a+=1)s=o[a],q.call(e,s)||(e[s]=n[s],r[s]=!0)}function ft(t,e,n,r,i,o,s,a,c){var u,l;if(Array.isArray(i))for(u=0,l=(i=Array.prototype.slice.call(i)).length;u<l;u+=1)Array.isArray(i[u])&&at(t,"nested arrays are not supported inside keys"),"object"==typeof i&&"[object Object]"===Y(i[u])&&(i[u]="[object Object]");if("object"==typeof i&&"[object Object]"===Y(i)&&(i="[object Object]"),i=String(i),null===e&&(e={}),"tag:yaml.org,2002:merge"===r)if(Array.isArray(o))for(u=0,l=o.length;u<l;u+=1)ht(t,e,o[u],n);else ht(t,e,o,n);else t.json||q.call(n,i)||!q.call(e,i)||(t.line=s||t.line,t.lineStart=a||t.lineStart,t.position=c||t.position,at(t,"duplicated mapping key")),"__proto__"===i?Object.defineProperty(e,i,{configurable:!0,enumerable:!0,writable:!0,value:o}):e[i]=o,delete n[i];return e}function pt(t){var e;10===(e=t.input.charCodeAt(t.position))?t.position++:13===e?(t.position++,10===t.input.charCodeAt(t.position)&&t.position++):at(t,"a line break is expected"),t.line+=1,t.lineStart=t.position,t.firstTabInLine=-1}function dt(t,e,n){for(var r=0,i=t.input.charCodeAt(t.position);0!==i;){for(;J(i);)9===i&&-1===t.firstTabInLine&&(t.firstTabInLine=t.position),i=t.input.charCodeAt(++t.position);if(e&&35===i)do{i=t.input.charCodeAt(++t.position)}while(10!==i&&13!==i&&0!==i);if(!X(i))break;for(pt(t),i=t.input.charCodeAt(t.position),r++,t.lineIndent=0;32===i;)t.lineIndent++,i=t.input.charCodeAt(++t.position)}return-1!==n&&0!==r&&t.lineIndent<n&&ct(t,"deficient indentation"),r}function mt(t){var e,n=t.position;return!(45!==(e=t.input.charCodeAt(n))&&46!==e||e!==t.input.charCodeAt(n+1)||e!==t.input.charCodeAt(n+2)||(n+=3,0!==(e=t.input.charCodeAt(n))&&!K(e)))}function gt(t,e){1===e?t.result+=" ":e>1&&(t.result+=i.repeat("\n",e-1))}function yt(t,e){var n,r,i=t.tag,o=t.anchor,s=[],a=!1;if(-1!==t.firstTabInLine)return!1;for(null!==t.anchor&&(t.anchorMap[t.anchor]=s),r=t.input.charCodeAt(t.position);0!==r&&(-1!==t.firstTabInLine&&(t.position=t.firstTabInLine,at(t,"tab characters must not be used in indentation")),45===r)&&K(t.input.charCodeAt(t.position+1));)if(a=!0,t.position++,dt(t,!0,-1)&&t.lineIndent<=e)s.push(null),r=t.input.charCodeAt(t.position);else if(n=t.line,wt(t,e,3,!1,!0),s.push(t.result),dt(t,!0,-1),r=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&0!==r)at(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break;return!!a&&(t.tag=i,t.anchor=o,t.kind="sequence",t.result=s,!0)}function vt(t){var e,n,r,i,o=!1,s=!1;if(33!==(i=t.input.charCodeAt(t.position)))return!1;if(null!==t.tag&&at(t,"duplication of a tag property"),60===(i=t.input.charCodeAt(++t.position))?(o=!0,i=t.input.charCodeAt(++t.position)):33===i?(s=!0,n="!!",i=t.input.charCodeAt(++t.position)):n="!",e=t.position,o){do{i=t.input.charCodeAt(++t.position)}while(0!==i&&62!==i);t.position<t.length?(r=t.input.slice(e,t.position),i=t.input.charCodeAt(++t.position)):at(t,"unexpected end of the stream within a verbatim tag")}else{for(;0!==i&&!K(i);)33===i&&(s?at(t,"tag suffix cannot contain exclamation marks"):(n=t.input.slice(e-1,t.position+1),W.test(n)||at(t,"named tag handle cannot contain such characters"),s=!0,e=t.position+1)),i=t.input.charCodeAt(++t.position);r=t.input.slice(e,t.position),V.test(r)&&at(t,"tag suffix cannot contain flow indicator characters")}r&&!z.test(r)&&at(t,"tag name cannot contain such characters: "+r);try{r=decodeURIComponent(r)}catch(e){at(t,"tag name is malformed: "+r)}return o?t.tag=r:q.call(t.tagMap,n)?t.tag=t.tagMap[n]+r:"!"===n?t.tag="!"+r:"!!"===n?t.tag="tag:yaml.org,2002:"+r:at(t,'undeclared tag handle "'+n+'"'),!0}function Et(t){var e,n;if(38!==(n=t.input.charCodeAt(t.position)))return!1;for(null!==t.anchor&&at(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;0!==n&&!K(n)&&!Q(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&at(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function wt(t,e,n,r,o){var s,a,c,u,l,h,f,p,d,m=1,g=!1,y=!1;if(null!==t.listener&&t.listener("open",t),t.tag=null,t.anchor=null,t.kind=null,t.result=null,s=a=c=4===n||3===n,r&&dt(t,!0,-1)&&(g=!0,t.lineIndent>e?m=1:t.lineIndent===e?m=0:t.lineIndent<e&&(m=-1)),1===m)for(;vt(t)||Et(t);)dt(t,!0,-1)?(g=!0,c=s,t.lineIndent>e?m=1:t.lineIndent===e?m=0:t.lineIndent<e&&(m=-1)):c=!1;if(c&&(c=g||o),1!==m&&4!==n||(p=1===n||2===n?e:e+1,d=t.position-t.lineStart,1===m?c&&(yt(t,d)||function(t,e,n){var r,i,o,s,a,c,u,l=t.tag,h=t.anchor,f={},p=Object.create(null),d=null,m=null,g=null,y=!1,v=!1;if(-1!==t.firstTabInLine)return!1;for(null!==t.anchor&&(t.anchorMap[t.anchor]=f),u=t.input.charCodeAt(t.position);0!==u;){if(y||-1===t.firstTabInLine||(t.position=t.firstTabInLine,at(t,"tab characters must not be used in indentation")),r=t.input.charCodeAt(t.position+1),o=t.line,63!==u&&58!==u||!K(r)){if(s=t.line,a=t.lineStart,c=t.position,!wt(t,n,2,!1,!0))break;if(t.line===o){for(u=t.input.charCodeAt(t.position);J(u);)u=t.input.charCodeAt(++t.position);if(58===u)K(u=t.input.charCodeAt(++t.position))||at(t,"a whitespace character is expected after the key-value separator within a block mapping"),y&&(ft(t,f,p,d,m,null,s,a,c),d=m=g=null),v=!0,y=!1,i=!1,d=t.tag,m=t.result;else{if(!v)return t.tag=l,t.anchor=h,!0;at(t,"can not read an implicit mapping pair; a colon is missed")}}else{if(!v)return t.tag=l,t.anchor=h,!0;at(t,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===u?(y&&(ft(t,f,p,d,m,null,s,a,c),d=m=g=null),v=!0,y=!0,i=!0):y?(y=!1,i=!0):at(t,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),t.position+=1,u=r;if((t.line===o||t.lineIndent>e)&&(y&&(s=t.line,a=t.lineStart,c=t.position),wt(t,e,4,!0,i)&&(y?m=t.result:g=t.result),y||(ft(t,f,p,d,m,g,s,a,c),d=m=g=null),dt(t,!0,-1),u=t.input.charCodeAt(t.position)),(t.line===o||t.lineIndent>e)&&0!==u)at(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return y&&ft(t,f,p,d,m,null,s,a,c),v&&(t.tag=l,t.anchor=h,t.kind="mapping",t.result=f),v}(t,d,p))||function(t,e){var n,r,i,o,s,a,c,u,l,h,f,p,d=!0,m=t.tag,g=t.anchor,y=Object.create(null);if(91===(p=t.input.charCodeAt(t.position)))s=93,u=!1,o=[];else{if(123!==p)return!1;s=125,u=!0,o={}}for(null!==t.anchor&&(t.anchorMap[t.anchor]=o),p=t.input.charCodeAt(++t.position);0!==p;){if(dt(t,!0,e),(p=t.input.charCodeAt(t.position))===s)return t.position++,t.tag=m,t.anchor=g,t.kind=u?"mapping":"sequence",t.result=o,!0;d?44===p&&at(t,"expected the node content, but found ','"):at(t,"missed comma between flow collection entries"),f=null,a=c=!1,63===p&&K(t.input.charCodeAt(t.position+1))&&(a=c=!0,t.position++,dt(t,!0,e)),n=t.line,r=t.lineStart,i=t.position,wt(t,e,1,!1,!0),h=t.tag,l=t.result,dt(t,!0,e),p=t.input.charCodeAt(t.position),!c&&t.line!==n||58!==p||(a=!0,p=t.input.charCodeAt(++t.position),dt(t,!0,e),wt(t,e,1,!1,!0),f=t.result),u?ft(t,o,y,h,l,f,n,r,i):a?o.push(ft(t,null,y,h,l,f,n,r,i)):o.push(l),dt(t,!0,e),44===(p=t.input.charCodeAt(t.position))?(d=!0,p=t.input.charCodeAt(++t.position)):d=!1}at(t,"unexpected end of the stream within a flow collection")}(t,p)?y=!0:(a&&function(t,e){var n,r,o,s,a,c=1,u=!1,l=!1,h=e,f=0,p=!1;if(124===(s=t.input.charCodeAt(t.position)))r=!1;else{if(62!==s)return!1;r=!0}for(t.kind="scalar",t.result="";0!==s;)if(43===(s=t.input.charCodeAt(++t.position))||45===s)1===c?c=43===s?3:2:at(t,"repeat of a chomping mode identifier");else{if(!((o=48<=(a=s)&&a<=57?a-48:-1)>=0))break;0===o?at(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?at(t,"repeat of an indentation width identifier"):(h=e+o-1,l=!0)}if(J(s)){do{s=t.input.charCodeAt(++t.position)}while(J(s));if(35===s)do{s=t.input.charCodeAt(++t.position)}while(!X(s)&&0!==s)}for(;0!==s;){for(pt(t),t.lineIndent=0,s=t.input.charCodeAt(t.position);(!l||t.lineIndent<h)&&32===s;)t.lineIndent++,s=t.input.charCodeAt(++t.position);if(!l&&t.lineIndent>h&&(h=t.lineIndent),X(s))f++;else{if(t.lineIndent<h){3===c?t.result+=i.repeat("\n",u?1+f:f):1===c&&u&&(t.result+="\n");break}for(r?J(s)?(p=!0,t.result+=i.repeat("\n",u?1+f:f)):p?(p=!1,t.result+=i.repeat("\n",f+1)):0===f?u&&(t.result+=" "):t.result+=i.repeat("\n",f):t.result+=i.repeat("\n",u?1+f:f),u=!0,l=!0,f=0,n=t.position;!X(s)&&0!==s;)s=t.input.charCodeAt(++t.position);lt(t,n,t.position,!1)}}return!0}(t,p)||function(t,e){var n,r,i;if(39!==(n=t.input.charCodeAt(t.position)))return!1;for(t.kind="scalar",t.result="",t.position++,r=i=t.position;0!==(n=t.input.charCodeAt(t.position));)if(39===n){if(lt(t,r,t.position,!0),39!==(n=t.input.charCodeAt(++t.position)))return!0;r=t.position,t.position++,i=t.position}else X(n)?(lt(t,r,i,!0),gt(t,dt(t,!1,e)),r=i=t.position):t.position===t.lineStart&&mt(t)?at(t,"unexpected end of the document within a single quoted scalar"):(t.position++,i=t.position);at(t,"unexpected end of the stream within a single quoted scalar")}(t,p)||function(t,e){var n,r,i,o,s,a,c;if(34!==(a=t.input.charCodeAt(t.position)))return!1;for(t.kind="scalar",t.result="",t.position++,n=r=t.position;0!==(a=t.input.charCodeAt(t.position));){if(34===a)return lt(t,n,t.position,!0),t.position++,!0;if(92===a){if(lt(t,n,t.position,!0),X(a=t.input.charCodeAt(++t.position)))dt(t,!1,e);else if(a<256&&nt[a])t.result+=rt[a],t.position++;else if((s=120===(c=a)?2:117===c?4:85===c?8:0)>0){for(i=s,o=0;i>0;i--)(s=Z(a=t.input.charCodeAt(++t.position)))>=0?o=(o<<4)+s:at(t,"expected hexadecimal character");t.result+=et(o),t.position++}else at(t,"unknown escape sequence");n=r=t.position}else X(a)?(lt(t,n,r,!0),gt(t,dt(t,!1,e)),n=r=t.position):t.position===t.lineStart&&mt(t)?at(t,"unexpected end of the document within a double quoted scalar"):(t.position++,r=t.position)}at(t,"unexpected end of the stream within a double quoted scalar")}(t,p)?y=!0:!function(t){var e,n,r;if(42!==(r=t.input.charCodeAt(t.position)))return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;0!==r&&!K(r)&&!Q(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&at(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),q.call(t.anchorMap,n)||at(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],dt(t,!0,-1),!0}(t)?function(t,e,n){var r,i,o,s,a,c,u,l,h=t.kind,f=t.result;if(K(l=t.input.charCodeAt(t.position))||Q(l)||35===l||38===l||42===l||33===l||124===l||62===l||39===l||34===l||37===l||64===l||96===l)return!1;if((63===l||45===l)&&(K(r=t.input.charCodeAt(t.position+1))||n&&Q(r)))return!1;for(t.kind="scalar",t.result="",i=o=t.position,s=!1;0!==l;){if(58===l){if(K(r=t.input.charCodeAt(t.position+1))||n&&Q(r))break}else if(35===l){if(K(t.input.charCodeAt(t.position-1)))break}else{if(t.position===t.lineStart&&mt(t)||n&&Q(l))break;if(X(l)){if(a=t.line,c=t.lineStart,u=t.lineIndent,dt(t,!1,-1),t.lineIndent>=e){s=!0,l=t.input.charCodeAt(t.position);continue}t.position=o,t.line=a,t.lineStart=c,t.lineIndent=u;break}}s&&(lt(t,i,o,!1),gt(t,t.line-a),i=o=t.position,s=!1),J(l)||(o=t.position+1),l=t.input.charCodeAt(++t.position)}return lt(t,i,o,!1),!!t.result||(t.kind=h,t.result=f,!1)}(t,p,1===n)&&(y=!0,null===t.tag&&(t.tag="?")):(y=!0,null===t.tag&&null===t.anchor||at(t,"alias node should not have any properties")),null!==t.anchor&&(t.anchorMap[t.anchor]=t.result)):0===m&&(y=c&&yt(t,d))),null===t.tag)null!==t.anchor&&(t.anchorMap[t.anchor]=t.result);else if("?"===t.tag){for(null!==t.result&&"scalar"!==t.kind&&at(t,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+t.kind+'"'),u=0,l=t.implicitTypes.length;u<l;u+=1)if((f=t.implicitTypes[u]).resolve(t.result)){t.result=f.construct(t.result),t.tag=f.tag,null!==t.anchor&&(t.anchorMap[t.anchor]=t.result);break}}else if("!"!==t.tag){if(q.call(t.typeMap[t.kind||"fallback"],t.tag))f=t.typeMap[t.kind||"fallback"][t.tag];else for(f=null,u=0,l=(h=t.typeMap.multi[t.kind||"fallback"]).length;u<l;u+=1)if(t.tag.slice(0,h[u].tag.length)===h[u].tag){f=h[u];break}f||at(t,"unknown tag !<"+t.tag+">"),null!==t.result&&f.kind!==t.kind&&at(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+f.kind+'", not "'+t.kind+'"'),f.resolve(t.result,t.tag)?(t.result=f.construct(t.result,t.tag),null!==t.anchor&&(t.anchorMap[t.anchor]=t.result)):at(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")}return null!==t.listener&&t.listener("close",t),null!==t.tag||null!==t.anchor||y}function bt(t){var e,n,r,i,o=t.position,s=!1;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap=Object.create(null),t.anchorMap=Object.create(null);0!==(i=t.input.charCodeAt(t.position))&&(dt(t,!0,-1),i=t.input.charCodeAt(t.position),!(t.lineIndent>0||37!==i));){for(s=!0,i=t.input.charCodeAt(++t.position),e=t.position;0!==i&&!K(i);)i=t.input.charCodeAt(++t.position);for(r=[],(n=t.input.slice(e,t.position)).length<1&&at(t,"directive name must not be less than one character in length");0!==i;){for(;J(i);)i=t.input.charCodeAt(++t.position);if(35===i){do{i=t.input.charCodeAt(++t.position)}while(0!==i&&!X(i));break}if(X(i))break;for(e=t.position;0!==i&&!K(i);)i=t.input.charCodeAt(++t.position);r.push(t.input.slice(e,t.position))}0!==i&&pt(t),q.call(ut,n)?ut[n](t,n,r):ct(t,'unknown document directive "'+n+'"')}dt(t,!0,-1),0===t.lineIndent&&45===t.input.charCodeAt(t.position)&&45===t.input.charCodeAt(t.position+1)&&45===t.input.charCodeAt(t.position+2)?(t.position+=3,dt(t,!0,-1)):s&&at(t,"directives end mark is expected"),wt(t,t.lineIndent-1,4,!1,!0),dt(t,!0,-1),t.checkLineBreaks&&H.test(t.input.slice(o,t.position))&&ct(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&mt(t)?46===t.input.charCodeAt(t.position)&&(t.position+=3,dt(t,!0,-1)):t.position<t.length-1&&at(t,"end of the stream or a document separator is expected")}function _t(t,e){e=e||{},0!==(t=String(t)).length&&(10!==t.charCodeAt(t.length-1)&&13!==t.charCodeAt(t.length-1)&&(t+="\n"),65279===t.charCodeAt(0)&&(t=t.slice(1)));var n=new ot(t,e),r=t.indexOf("\0");for(-1!==r&&(n.position=r,at(n,"null byte is not allowed in input")),n.input+="\0";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)bt(n);return n.documents}var Ot={loadAll:function(t,e,n){null!==e&&"object"==typeof e&&void 0===n&&(n=e,e=null);var r=_t(t,n);if("function"!=typeof e)return r;for(var i=0,o=r.length;i<o;i+=1)e(r[i])},load:function(t,e){var n=_t(t,e);if(0!==n.length){if(1===n.length)return n[0];throw new a("expected a single document in the stream, but found more")}}},At=Object.prototype.toString,Tt=Object.prototype.hasOwnProperty,St={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},Nt=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],It=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Ct(t){var e,n,r;if(e=t.toString(16).toUpperCase(),t<=255)n="x",r=2;else if(t<=65535)n="u",r=4;else{if(!(t<=4294967295))throw new a("code point within a string may not be greater than 0xFFFFFFFF");n="U",r=8}return"\\"+n+i.repeat("0",r-e.length)+e}function Rt(t){this.schema=t.schema||B,this.indent=Math.max(1,t.indent||2),this.noArrayIndent=t.noArrayIndent||!1,this.skipInvalid=t.skipInvalid||!1,this.flowLevel=i.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=function(t,e){var n,r,i,o,s,a,c;if(null===e)return{};for(n={},i=0,o=(r=Object.keys(e)).length;i<o;i+=1)s=r[i],a=String(e[s]),"!!"===s.slice(0,2)&&(s="tag:yaml.org,2002:"+s.slice(2)),(c=t.compiledTypeMap.fallback[s])&&Tt.call(c.styleAliases,a)&&(a=c.styleAliases[a]),n[s]=a;return n}(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.lineWidth=t.lineWidth||80,this.noRefs=t.noRefs||!1,this.noCompatMode=t.noCompatMode||!1,this.condenseFlow=t.condenseFlow||!1,this.quotingType='"'===t.quotingType?2:1,this.forceQuotes=t.forceQuotes||!1,this.replacer="function"==typeof t.replacer?t.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Pt(t,e){for(var n,r=i.repeat(" ",e),o=0,s=-1,a="",c=t.length;o<c;)-1===(s=t.indexOf("\n",o))?(n=t.slice(o),o=c):(n=t.slice(o,s+1),o=s+1),n.length&&"\n"!==n&&(a+=r),a+=n;return a}function kt(t,e){return"\n"+i.repeat(" ",t.indent*e)}function Dt(t){return 32===t||9===t}function xt(t){return 32<=t&&t<=126||161<=t&&t<=55295&&8232!==t&&8233!==t||57344<=t&&t<=65533&&65279!==t||65536<=t&&t<=1114111}function Lt(t){return xt(t)&&65279!==t&&13!==t&&10!==t}function Ft(t,e,n){var r=Lt(t),i=r&&!Dt(t);return(n?r:r&&44!==t&&91!==t&&93!==t&&123!==t&&125!==t)&&35!==t&&!(58===e&&!i)||Lt(e)&&!Dt(e)&&35===t||58===e&&i}function jt(t,e){var n,r=t.charCodeAt(e);return r>=55296&&r<=56319&&e+1<t.length&&(n=t.charCodeAt(e+1))>=56320&&n<=57343?1024*(r-55296)+n-56320+65536:r}function Ut(t){return/^\n* /.test(t)}function Mt(t,e,n,r,i,o,s,a){var c,u,l=0,h=null,f=!1,p=!1,d=-1!==r,m=-1,g=xt(u=jt(t,0))&&65279!==u&&!Dt(u)&&45!==u&&63!==u&&58!==u&&44!==u&&91!==u&&93!==u&&123!==u&&125!==u&&35!==u&&38!==u&&42!==u&&33!==u&&124!==u&&61!==u&&62!==u&&39!==u&&34!==u&&37!==u&&64!==u&&96!==u&&function(t){return!Dt(t)&&58!==t}(jt(t,t.length-1));if(e||s)for(c=0;c<t.length;l>=65536?c+=2:c++){if(!xt(l=jt(t,c)))return 5;g=g&&Ft(l,h,a),h=l}else{for(c=0;c<t.length;l>=65536?c+=2:c++){if(10===(l=jt(t,c)))f=!0,d&&(p=p||c-m-1>r&&" "!==t[m+1],m=c);else if(!xt(l))return 5;g=g&&Ft(l,h,a),h=l}p=p||d&&c-m-1>r&&" "!==t[m+1]}return f||p?n>9&&Ut(t)?5:s?2===o?5:2:p?4:3:!g||s||i(t)?2===o?5:2:1}function $t(t,e,n,r,i){t.dump=function(){if(0===e.length)return 2===t.quotingType?'""':"''";if(!t.noCompatMode&&(-1!==Nt.indexOf(e)||It.test(e)))return 2===t.quotingType?'"'+e+'"':"'"+e+"'";var o=t.indent*Math.max(1,n),s=-1===t.lineWidth?-1:Math.max(Math.min(t.lineWidth,40),t.lineWidth-o),c=r||t.flowLevel>-1&&n>=t.flowLevel;switch(Mt(e,c,t.indent,s,(function(e){return function(t,e){var n,r;for(n=0,r=t.implicitTypes.length;n<r;n+=1)if(t.implicitTypes[n].resolve(e))return!0;return!1}(t,e)}),t.quotingType,t.forceQuotes&&!r,i)){case 1:return e;case 2:return"'"+e.replace(/'/g,"''")+"'";case 3:return"|"+Bt(e,t.indent)+qt(Pt(e,o));case 4:return">"+Bt(e,t.indent)+qt(Pt(function(t,e){var n,r,i=/(\n+)([^\n]*)/g,o=(a=t.indexOf("\n"),a=-1!==a?a:t.length,i.lastIndex=a,Gt(t.slice(0,a),e)),s="\n"===t[0]||" "===t[0];var a;for(;r=i.exec(t);){var c=r[1],u=r[2];n=" "===u[0],o+=c+(s||n||""===u?"":"\n")+Gt(u,e),s=n}return o}(e,s),o));case 5:return'"'+function(t){for(var e,n="",r=0,i=0;i<t.length;r>=65536?i+=2:i++)r=jt(t,i),!(e=St[r])&&xt(r)?(n+=t[i],r>=65536&&(n+=t[i+1])):n+=e||Ct(r);return n}(e)+'"';default:throw new a("impossible error: invalid scalar style")}}()}function Bt(t,e){var n=Ut(t)?String(e):"",r="\n"===t[t.length-1];return n+(r&&("\n"===t[t.length-2]||"\n"===t)?"+":r?"":"-")+"\n"}function qt(t){return"\n"===t[t.length-1]?t.slice(0,-1):t}function Gt(t,e){if(""===t||" "===t[0])return t;for(var n,r,i=/ [^ ]/g,o=0,s=0,a=0,c="";n=i.exec(t);)(a=n.index)-o>e&&(r=s>o?s:a,c+="\n"+t.slice(o,r),o=r+1),s=a;return c+="\n",t.length-o>e&&s>o?c+=t.slice(o,s)+"\n"+t.slice(s+1):c+=t.slice(o),c.slice(1)}function Ht(t,e,n,r){var i,o,s,a="",c=t.tag;for(i=0,o=n.length;i<o;i+=1)s=n[i],t.replacer&&(s=t.replacer.call(n,String(i),s)),(Wt(t,e+1,s,!0,!0,!1,!0)||void 0===s&&Wt(t,e+1,null,!0,!0,!1,!0))&&(r&&""===a||(a+=kt(t,e)),t.dump&&10===t.dump.charCodeAt(0)?a+="-":a+="- ",a+=t.dump);t.tag=c,t.dump=a||"[]"}function Vt(t,e,n){var r,i,o,s,c,u;for(o=0,s=(i=n?t.explicitTypes:t.implicitTypes).length;o<s;o+=1)if(((c=i[o]).instanceOf||c.predicate)&&(!c.instanceOf||"object"==typeof e&&e instanceof c.instanceOf)&&(!c.predicate||c.predicate(e))){if(n?c.multi&&c.representName?t.tag=c.representName(e):t.tag=c.tag:t.tag="?",c.represent){if(u=t.styleMap[c.tag]||c.defaultStyle,"[object Function]"===At.call(c.represent))r=c.represent(e,u);else{if(!Tt.call(c.represent,u))throw new a("!<"+c.tag+'> tag resolver accepts not "'+u+'" style');r=c.represent[u](e,u)}t.dump=r}return!0}return!1}function Wt(t,e,n,r,i,o,s){t.tag=null,t.dump=n,Vt(t,n,!1)||Vt(t,n,!0);var c,u=At.call(t.dump),l=r;r&&(r=t.flowLevel<0||t.flowLevel>e);var h,f,p="[object Object]"===u||"[object Array]"===u;if(p&&(f=-1!==(h=t.duplicates.indexOf(n))),(null!==t.tag&&"?"!==t.tag||f||2!==t.indent&&e>0)&&(i=!1),f&&t.usedDuplicates[h])t.dump="*ref_"+h;else{if(p&&f&&!t.usedDuplicates[h]&&(t.usedDuplicates[h]=!0),"[object Object]"===u)r&&0!==Object.keys(t.dump).length?(!function(t,e,n,r){var i,o,s,c,u,l,h="",f=t.tag,p=Object.keys(n);if(!0===t.sortKeys)p.sort();else if("function"==typeof t.sortKeys)p.sort(t.sortKeys);else if(t.sortKeys)throw new a("sortKeys must be a boolean or a function");for(i=0,o=p.length;i<o;i+=1)l="",r&&""===h||(l+=kt(t,e)),c=n[s=p[i]],t.replacer&&(c=t.replacer.call(n,s,c)),Wt(t,e+1,s,!0,!0,!0)&&((u=null!==t.tag&&"?"!==t.tag||t.dump&&t.dump.length>1024)&&(t.dump&&10===t.dump.charCodeAt(0)?l+="?":l+="? "),l+=t.dump,u&&(l+=kt(t,e)),Wt(t,e+1,c,!0,u)&&(t.dump&&10===t.dump.charCodeAt(0)?l+=":":l+=": ",h+=l+=t.dump));t.tag=f,t.dump=h||"{}"}(t,e,t.dump,i),f&&(t.dump="&ref_"+h+t.dump)):(!function(t,e,n){var r,i,o,s,a,c="",u=t.tag,l=Object.keys(n);for(r=0,i=l.length;r<i;r+=1)a="",""!==c&&(a+=", "),t.condenseFlow&&(a+='"'),s=n[o=l[r]],t.replacer&&(s=t.replacer.call(n,o,s)),Wt(t,e,o,!1,!1)&&(t.dump.length>1024&&(a+="? "),a+=t.dump+(t.condenseFlow?'"':"")+":"+(t.condenseFlow?"":" "),Wt(t,e,s,!1,!1)&&(c+=a+=t.dump));t.tag=u,t.dump="{"+c+"}"}(t,e,t.dump),f&&(t.dump="&ref_"+h+" "+t.dump));else if("[object Array]"===u)r&&0!==t.dump.length?(t.noArrayIndent&&!s&&e>0?Ht(t,e-1,t.dump,i):Ht(t,e,t.dump,i),f&&(t.dump="&ref_"+h+t.dump)):(!function(t,e,n){var r,i,o,s="",a=t.tag;for(r=0,i=n.length;r<i;r+=1)o=n[r],t.replacer&&(o=t.replacer.call(n,String(r),o)),(Wt(t,e,o,!1,!1)||void 0===o&&Wt(t,e,null,!1,!1))&&(""!==s&&(s+=","+(t.condenseFlow?"":" ")),s+=t.dump);t.tag=a,t.dump="["+s+"]"}(t,e,t.dump),f&&(t.dump="&ref_"+h+" "+t.dump));else{if("[object String]"!==u){if("[object Undefined]"===u)return!1;if(t.skipInvalid)return!1;throw new a("unacceptable kind of an object to dump "+u)}"?"!==t.tag&&$t(t,t.dump,e,o,l)}null!==t.tag&&"?"!==t.tag&&(c=encodeURI("!"===t.tag[0]?t.tag.slice(1):t.tag).replace(/!/g,"%21"),c="!"===t.tag[0]?"!"+c:"tag:yaml.org,2002:"===c.slice(0,18)?"!!"+c.slice(18):"!<"+c+">",t.dump=c+" "+t.dump)}return!0}function zt(t,e){var n,r,i=[],o=[];for(function t(e,n,r){var i,o,s;if(null!==e&&"object"==typeof e)if(-1!==(o=n.indexOf(e)))-1===r.indexOf(o)&&r.push(o);else if(n.push(e),Array.isArray(e))for(o=0,s=e.length;o<s;o+=1)t(e[o],n,r);else for(i=Object.keys(e),o=0,s=i.length;o<s;o+=1)t(e[i[o]],n,r)}(t,i,o),n=0,r=o.length;n<r;n+=1)e.duplicates.push(i[o[n]]);e.usedDuplicates=new Array(r)}function Yt(t,e){return function(){throw new Error("Function yaml."+t+" is removed in js-yaml 4. Use yaml."+e+" instead, which is now safe by default.")}}var Xt=p,Jt=g,Kt=y,Qt=S,Zt=N,te=B,ee=Ot.load,ne=Ot.loadAll,re={dump:function(t,e){var n=new Rt(e=e||{});n.noRefs||zt(t,n);var r=t;return n.replacer&&(r=n.replacer.call({"":r},"",r)),Wt(n,0,r,!0,!0)?n.dump+"\n":""}}.dump,ie=a,oe=Yt("safeLoad","load"),se=Yt("safeLoadAll","loadAll"),ae=Yt("safeDump","dump"),ce={Type:Xt,Schema:Jt,FAILSAFE_SCHEMA:Kt,JSON_SCHEMA:Qt,CORE_SCHEMA:Zt,DEFAULT_SCHEMA:te,load:ee,loadAll:ne,dump:re,YAMLException:ie,safeLoad:oe,safeLoadAll:se,safeDump:ae};e.default=ce},function(t,e){const n=/^[0-9]+$/,r=(t,e)=>{const r=n.test(t),i=n.test(e);return r&&i&&(t=+t,e=+e),t===e?0:r&&!i?-1:i&&!r?1:t<e?-1:1};t.exports={compareIdentifiers:r,rcompareIdentifiers:(t,e)=>r(e,t)}},function(t,e,n){const r=n(6);t.exports=(t,e,n)=>0===r(t,e,n)},function(t,e,n){const r=n(4);t.exports=(t,e,n)=>{const i=new r(t,n),o=new r(e,n);return i.compare(o)||i.compareBuild(o)}},function(t,e,n){const r=n(6);t.exports=(t,e,n)=>r(t,e,n)<0},function(t,e,n){const r=n(6);t.exports=(t,e,n)=>r(t,e,n)>=0},function(t,e,n){const r=n(6);t.exports=(t,e,n)=>r(t,e,n)<=0},function(t,e,n){const r=n(4),i=n(28),{ANY:o}=i,s=n(7),a=n(29),c=n(27),u=n(40),l=n(42),h=n(41);t.exports=(t,e,n,f)=>{let p,d,m,g,y;switch(t=new r(t,f),e=new s(e,f),n){case">":p=c,d=l,m=u,g=">",y=">=";break;case"<":p=u,d=h,m=c,g="<",y="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(t,e,f))return!1;for(let n=0;n<e.set.length;++n){const r=e.set[n];let s=null,a=null;if(r.forEach(t=>{t.semver===o&&(t=new i(">=0.0.0")),s=s||t,a=a||t,p(t.semver,s.semver,f)?s=t:m(t.semver,a.semver,f)&&(a=t)}),s.operator===g||s.operator===y)return!1;if((!a.operator||a.operator===g)&&d(t,a.semver))return!1;if(a.operator===y&&m(t,a.semver))return!1}return!0}},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.computeOperations=function(t,e,n){const i=s(t.files),a=s(e.files);let c=null;const u=e.files[0],l=[],h=u.name,f=i.get(h);if(null==f)throw new Error(`no file ${h} in old blockmap`);const p=a.get(h);let d=0;const{checksumToOffset:m,checksumToOldSize:g}=function(t,e,n){const r=new Map,i=new Map;let o=e;for(let e=0;e<t.checksums.length;e++){const s=t.checksums[e],a=t.sizes[e],c=i.get(s);if(void 0===c)r.set(s,o),i.set(s,a);else if(null!=n.debug){const t=c===a?"(same size)":`(size: ${c}, this size: ${a})`;n.debug(`${s} duplicated in blockmap ${t}, it doesn't lead to broken differential downloader, just corresponding block will be skipped)`)}o+=a}return{checksumToOffset:r,checksumToOldSize:i}}(i.get(h),f.offset,n);let y=u.offset;for(let t=0;t<p.checksums.length;y+=p.sizes[t],t++){const e=p.sizes[t],i=p.checksums[t];let s=m.get(i);null!=s&&g.get(i)!==e&&(n.warn(`Checksum ("${i}") matches, but size differs (old: ${g.get(i)}, new: ${e})`),s=void 0),void 0===s?(d++,null!=c&&c.kind===r.DOWNLOAD&&c.end===y?c.end+=e:(c={kind:r.DOWNLOAD,start:y,end:y+e},o(c,l,i,t))):null!=c&&c.kind===r.COPY&&c.end===s?c.end+=e:(c={kind:r.COPY,start:s,end:s+e},o(c,l,i,t))}d>0&&n.info(`File${"file"===u.name?"":" "+u.name} has ${d} changed blocks`);return l},e.OperationKind=void 0,e.OperationKind=r,function(t){t[t.COPY=0]="COPY",t[t.DOWNLOAD=1]="DOWNLOAD"}(r||(e.OperationKind=r={}));const i="true"===process.env.DIFFERENTIAL_DOWNLOAD_PLAN_BUILDER_VALIDATE_RANGES;function o(t,e,n,o){if(i&&0!==e.length){const i=e[e.length-1];if(i.kind===t.kind&&t.start<i.end&&t.start>i.start){const e=[i.start,i.end,t.start,t.end].reduce((t,e)=>t<e?t:e);throw new Error(`operation (block index: ${o}, checksum: ${n}, kind: ${r[t.kind]}) overlaps previous operation (checksum: ${n}):\nabs: ${i.start} until ${i.end} and ${t.start} until ${t.end}\nrel: ${i.start-e} until ${i.end-e} and ${t.start-e} until ${t.end-e}`)}}e.push(t)}function s(t){const e=new Map;for(const n of t)e.set(n.name,n);return e}},function(t,e,n){t.exports=l,l.Minimatch=h;var r={sep:"/"};try{r=n(0)}catch(t){}var i=l.GLOBSTAR=h.GLOBSTAR={},o=n(161),s={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="().*{}+?[]^$\\!".split("").reduce((function(t,e){return t[e]=!0,t}),{});var c=/\/+/;function u(t,e){t=t||{},e=e||{};var n={};return Object.keys(e).forEach((function(t){n[t]=e[t]})),Object.keys(t).forEach((function(e){n[e]=t[e]})),n}function l(t,e,n){if("string"!=typeof e)throw new TypeError("glob pattern string required");return n||(n={}),!(!n.nocomment&&"#"===e.charAt(0))&&(""===e.trim()?""===t:new h(e,n).match(t))}function h(t,e){if(!(this instanceof h))return new h(t,e);if("string"!=typeof t)throw new TypeError("glob pattern string required");e||(e={}),t=t.trim(),"/"!==r.sep&&(t=t.split(r.sep).join("/")),this.options=e,this.set=[],this.pattern=t,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}function f(t,e){if(e||(e=this instanceof h?this.options:{}),void 0===(t=void 0===t?this.pattern:t))throw new TypeError("undefined pattern");return e.nobrace||!t.match(/\{.*\}/)?[t]:o(t)}l.filter=function(t,e){return e=e||{},function(n,r,i){return l(n,t,e)}},l.defaults=function(t){if(!t||!Object.keys(t).length)return l;var e=l,n=function(n,r,i){return e.minimatch(n,r,u(t,i))};return n.Minimatch=function(n,r){return new e.Minimatch(n,u(t,r))},n},h.defaults=function(t){return t&&Object.keys(t).length?l.defaults(t).Minimatch:h},h.prototype.debug=function(){},h.prototype.make=function(){if(this._made)return;var t=this.pattern,e=this.options;if(!e.nocomment&&"#"===t.charAt(0))return void(this.comment=!0);if(!t)return void(this.empty=!0);this.parseNegate();var n=this.globSet=this.braceExpand();e.debug&&(this.debug=console.error);this.debug(this.pattern,n),n=this.globParts=n.map((function(t){return t.split(c)})),this.debug(this.pattern,n),n=n.map((function(t,e,n){return t.map(this.parse,this)}),this),this.debug(this.pattern,n),n=n.filter((function(t){return-1===t.indexOf(!1)})),this.debug(this.pattern,n),this.set=n},h.prototype.parseNegate=function(){var t=this.pattern,e=!1,n=this.options,r=0;if(n.nonegate)return;for(var i=0,o=t.length;i<o&&"!"===t.charAt(i);i++)e=!e,r++;r&&(this.pattern=t.substr(r));this.negate=e},l.braceExpand=function(t,e){return f(t,e)},h.prototype.braceExpand=f,h.prototype.parse=function(t,e){if(t.length>65536)throw new TypeError("pattern is too long");var n=this.options;if(!n.noglobstar&&"**"===t)return i;if(""===t)return"";var r,o="",c=!!n.nocase,u=!1,l=[],h=[],f=!1,d=-1,m=-1,g="."===t.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",y=this;function v(){if(r){switch(r){case"*":o+="[^/]*?",c=!0;break;case"?":o+="[^/]",c=!0;break;default:o+="\\"+r}y.debug("clearStateChar %j %j",r,o),r=!1}}for(var E,w=0,b=t.length;w<b&&(E=t.charAt(w));w++)if(this.debug("%s\t%s %s %j",t,w,o,E),u&&a[E])o+="\\"+E,u=!1;else switch(E){case"/":return!1;case"\\":v(),u=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",t,w,o,E),f){this.debug("  in class"),"!"===E&&w===m+1&&(E="^"),o+=E;continue}y.debug("call clearStateChar %j",r),v(),r=E,n.noext&&v();continue;case"(":if(f){o+="(";continue}if(!r){o+="\\(";continue}l.push({type:r,start:w-1,reStart:o.length,open:s[r].open,close:s[r].close}),o+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,o),r=!1;continue;case")":if(f||!l.length){o+="\\)";continue}v(),c=!0;var _=l.pop();o+=_.close,"!"===_.type&&h.push(_),_.reEnd=o.length;continue;case"|":if(f||!l.length||u){o+="\\|",u=!1;continue}v(),o+="|";continue;case"[":if(v(),f){o+="\\"+E;continue}f=!0,m=w,d=o.length,o+=E;continue;case"]":if(w===m+1||!f){o+="\\"+E,u=!1;continue}if(f){var O=t.substring(m+1,w);try{RegExp("["+O+"]")}catch(t){var A=this.parse(O,p);o=o.substr(0,d)+"\\["+A[0]+"\\]",c=c||A[1],f=!1;continue}}c=!0,f=!1,o+=E;continue;default:v(),u?u=!1:!a[E]||"^"===E&&f||(o+="\\"),o+=E}f&&(O=t.substr(m+1),A=this.parse(O,p),o=o.substr(0,d)+"\\["+A[0],c=c||A[1]);for(_=l.pop();_;_=l.pop()){var T=o.slice(_.reStart+_.open.length);this.debug("setting tail",o,_),T=T.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(t,e,n){return n||(n="\\"),e+e+n+"|"})),this.debug("tail=%j\n   %s",T,T,_,o);var S="*"===_.type?"[^/]*?":"?"===_.type?"[^/]":"\\"+_.type;c=!0,o=o.slice(0,_.reStart)+S+"\\("+T}v(),u&&(o+="\\\\");var N=!1;switch(o.charAt(0)){case".":case"[":case"(":N=!0}for(var I=h.length-1;I>-1;I--){var C=h[I],R=o.slice(0,C.reStart),P=o.slice(C.reStart,C.reEnd-8),k=o.slice(C.reEnd-8,C.reEnd),D=o.slice(C.reEnd);k+=D;var x=R.split("(").length-1,L=D;for(w=0;w<x;w++)L=L.replace(/\)[+*?]?/,"");var F="";""===(D=L)&&e!==p&&(F="$"),o=R+P+D+F+k}""!==o&&c&&(o="(?=.)"+o);N&&(o=g+o);if(e===p)return[o,c];if(!c)return function(t){return t.replace(/\\(.)/g,"$1")}(t);var j=n.nocase?"i":"";try{var U=new RegExp("^"+o+"$",j)}catch(t){return new RegExp("$.")}return U._glob=t,U._src=o,U};var p={};l.makeRe=function(t,e){return new h(t,e||{}).makeRe()},h.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var t=this.set;if(!t.length)return this.regexp=!1,this.regexp;var e=this.options,n=e.noglobstar?"[^/]*?":e.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=e.nocase?"i":"",o=t.map((function(t){return t.map((function(t){return t===i?n:"string"==typeof t?function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(t):t._src})).join("\\/")})).join("|");o="^(?:"+o+")$",this.negate&&(o="^(?!"+o+").*$");try{this.regexp=new RegExp(o,r)}catch(t){this.regexp=!1}return this.regexp},l.match=function(t,e,n){var r=new h(e,n=n||{});return t=t.filter((function(t){return r.match(t)})),r.options.nonull&&!t.length&&t.push(e),t},h.prototype.match=function(t,e){if(this.debug("match",t,this.pattern),this.comment)return!1;if(this.empty)return""===t;if("/"===t&&e)return!0;var n=this.options;"/"!==r.sep&&(t=t.split(r.sep).join("/"));t=t.split(c),this.debug(this.pattern,"split",t);var i,o,s=this.set;for(this.debug(this.pattern,"set",s),o=t.length-1;o>=0&&!(i=t[o]);o--);for(o=0;o<s.length;o++){var a=s[o],u=t;if(n.matchBase&&1===a.length&&(u=[i]),this.matchOne(u,a,e))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},h.prototype.matchOne=function(t,e,n){var r=this.options;this.debug("matchOne",{this:this,file:t,pattern:e}),this.debug("matchOne",t.length,e.length);for(var o=0,s=0,a=t.length,c=e.length;o<a&&s<c;o++,s++){this.debug("matchOne loop");var u,l=e[s],h=t[o];if(this.debug(e,l,h),!1===l)return!1;if(l===i){this.debug("GLOBSTAR",[e,l,h]);var f=o,p=s+1;if(p===c){for(this.debug("** at the end");o<a;o++)if("."===t[o]||".."===t[o]||!r.dot&&"."===t[o].charAt(0))return!1;return!0}for(;f<a;){var d=t[f];if(this.debug("\nglobstar while",t,f,e,p,d),this.matchOne(t.slice(f),e.slice(p),n))return this.debug("globstar found match!",f,a,d),!0;if("."===d||".."===d||!r.dot&&"."===d.charAt(0)){this.debug("dot detected!",t,f,e,p);break}this.debug("globstar swallow a segment, and continue"),f++}return!(!n||(this.debug("\n>>> no match, partial?",t,f,e,p),f!==a))}if("string"==typeof l?(u=r.nocase?h.toLowerCase()===l.toLowerCase():h===l,this.debug("string match",l,h,u)):(u=h.match(l),this.debug("pattern match",l,h,u)),!u)return!1}if(o===a&&s===c)return!0;if(o===a)return n;if(s===c)return o===a-1&&""===t[o];throw new Error("wtf?")}},function(t,e,n){"use strict";function r(t){return"/"===t.charAt(0)}function i(t){var e=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/.exec(t),n=e[1]||"",r=Boolean(n&&":"!==n.charAt(1));return Boolean(e[2]||r)}t.exports="win32"===process.platform?i:r,t.exports.posix=r,t.exports.win32=i},function(t,e,n){"use strict";function r(){const t=n(32);return r=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationError=e.CancellationToken=void 0;class i extends r().EventEmitter{constructor(t){super(),this.parentCancelHandler=null,this._parent=null,this._cancelled=!1,null!=t&&(this.parent=t)}get cancelled(){return this._cancelled||null!=this._parent&&this._parent.cancelled}set parent(t){this.removeParentCancelHandler(),this._parent=t,this.parentCancelHandler=()=>this.cancel(),this._parent.onCancel(this.parentCancelHandler)}cancel(){this._cancelled=!0,this.emit("cancel")}onCancel(t){this.cancelled?t():this.once("cancel",t)}createPromise(t){if(this.cancelled)return Promise.reject(new o);const e=()=>{if(null!=n)try{this.removeListener("cancel",n),n=null}catch(t){}};let n=null;return new Promise((e,r)=>{let i=null;n=()=>{try{null!=i&&(i(),i=null)}finally{r(new o)}},this.cancelled?n():(this.onCancel(n),t(e,r,t=>{i=t}))}).then(t=>(e(),t)).catch(t=>{throw e(),t})}removeParentCancelHandler(){const t=this._parent;null!=t&&null!=this.parentCancelHandler&&(t.removeListener("cancel",this.parentCancelHandler),this.parentCancelHandler=null)}dispose(){try{this.removeParentCancelHandler()}finally{this.removeAllListeners(),this._parent=null}}}e.CancellationToken=i;class o extends Error{constructor(){super("cancelled")}}e.CancellationError=o},function(t,e,n){"use strict";function r(){const t=n(20);return r=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.createHttpError=p,e.parseJson=function(t){return t.then(t=>null==t||0===t.length?null:JSON.parse(t))},e.configureRequestOptionsFromUrl=y,e.configureRequestUrl=v,e.safeGetHeader=w,e.configureRequestOptions=b,e.safeStringifyJson=_,e.DigestTransform=e.HttpExecutor=e.HttpError=void 0;var i,o=(i=n(77))&&i.__esModule?i:{default:i},s=n(2);function a(){const t=n(16);return a=function(){return t},t}function c(){const t=n(12);return c=function(){return t},t}function u(){const t=n(47);return u=function(){return t},t}function l(){const t=n(1);return l=function(){return t},t}function h(){const t=n(50);return h=function(){return t},t}const f=(0,o.default)("electron-builder");function p(t,e=null){return new m(t.statusCode||-1,`${t.statusCode} ${t.statusMessage}`+(null==e?"":"\n"+JSON.stringify(e,null,"  "))+"\nHeaders: "+_(t.headers),e)}const d=new Map([[429,"Too many requests"],[400,"Bad request"],[403,"Forbidden"],[404,"Not found"],[405,"Method not allowed"],[406,"Not acceptable"],[408,"Request timeout"],[413,"Request entity too large"],[500,"Internal server error"],[502,"Bad gateway"],[503,"Service unavailable"],[504,"Gateway timeout"],[505,"HTTP version not supported"]]);class m extends Error{constructor(t,e="HTTP error: "+(d.get(t)||t),n=null){super(e),this.statusCode=t,this.description=n,this.name="HttpError",this.code="HTTP_ERROR_"+t}}e.HttpError=m;class g{constructor(){this.maxRedirects=10}request(t,e=new(u().CancellationToken),n){b(t);const r=null==n?void 0:Buffer.from(JSON.stringify(n));return null!=r&&(t.method="post",t.headers["Content-Type"]="application/json",t.headers["Content-Length"]=r.length),this.doApiRequest(t,e,t=>{t.end(r)})}doApiRequest(t,e,n,r=0){return f.enabled&&f("Request: "+_(t)),e.createPromise((i,o,s)=>{const a=this.createRequest(t,s=>{try{this.handleResponse(s,t,e,i,o,r,n)}catch(t){o(t)}});this.addErrorAndTimeoutHandlers(a,o),this.addRedirectHandlers(a,t,o,r,t=>{this.doApiRequest(t,e,n,r).then(i).catch(o)}),n(a,o),s(()=>a.abort())})}addRedirectHandlers(t,e,n,r,i){}addErrorAndTimeoutHandlers(t,e){this.addTimeOutHandler(t,e),t.on("error",e),t.on("aborted",()=>{e(new Error("Request has been aborted by the server"))})}handleResponse(t,e,n,r,i,o,s){if(f.enabled&&f(`Response: ${t.statusCode} ${t.statusMessage}, request options: ${_(e)}`),404===t.statusCode)return void i(p(t,`method: ${e.method||"GET"} url: ${e.protocol||"https:"}//${e.hostname}${e.port?":"+e.port:""}${e.path}\n\nPlease double check that your authentication token is correct. Due to security reasons actual status maybe not reported, but 404.\n`));if(204===t.statusCode)return void r();const a=w(t,"location");if(null!=a)return o>this.maxRedirects?void i(this.createMaxRedirectError()):void this.doApiRequest(g.prepareRedirectUrlOptions(a,e),n,s,o).then(r).catch(i);t.setEncoding("utf8");let c="";t.on("error",i),t.on("data",t=>c+=t),t.on("end",()=>{try{if(null!=t.statusCode&&t.statusCode>=400){const e=w(t,"content-type"),n=null!=e&&(Array.isArray(e)?null!=e.find(t=>t.includes("json")):e.includes("json"));i(p(t,n?JSON.parse(c):c))}else r(0===c.length?null:c)}catch(t){i(t)}})}async downloadToBuffer(t,e){return await e.cancellationToken.createPromise((n,r,i)=>{let o=null;const s={headers:e.headers||void 0,redirect:"manual"};v(t,s),b(s),this.doDownload(s,{destination:null,options:e,onCancel:i,callback:t=>{null==t?n(o):r(t)},responseHandler:(t,e)=>{const n=w(t,"content-length");let r=-1;if(null!=n){const t=parseInt(n,10);if(t>0){if(t>52428800)return void e(new Error("Maximum allowed size is 50 MB"));o=Buffer.alloc(t),r=0}}t.on("data",t=>{if(-1!==r)t.copy(o,r),r+=t.length;else if(null==o)o=t;else{if(o.length>52428800)return void e(new Error("Maximum allowed size is 50 MB"));o=Buffer.concat([o,t])}}),t.on("end",()=>{null!=o&&-1!==r&&r!==o.length?e(new Error(`Received data length ${r} is not equal to expected ${o.length}`)):e(null)})}},0)})}doDownload(t,e,n){const r=this.createRequest(t,r=>{if(r.statusCode>=400)return void e.callback(new Error(`Cannot download "${t.protocol||"https:"}//${t.hostname}${t.path}", status ${r.statusCode}: ${r.statusMessage}`));r.on("error",e.callback);const i=w(r,"location");null==i?null==e.responseHandler?function(t,e){if(!function(t,e,n){if(null!=t&&null!=e&&t!==e)return n(new Error(`checksum mismatch: expected ${e} but got ${t} (X-Checksum-Sha2 header)`)),!1;return!0}(w(e,"X-Checksum-Sha2"),t.options.sha2,t.callback))return;const n=[];if(null!=t.options.onProgress){const r=w(e,"content-length");null!=r&&n.push(new(h().ProgressCallbackTransform)(parseInt(r,10),t.options.cancellationToken,t.options.onProgress))}const r=t.options.sha512;null!=r?n.push(new E(r,"sha512",128!==r.length||r.includes("+")||r.includes("Z")||r.includes("=")?"base64":"hex")):null!=t.options.sha2&&n.push(new E(t.options.sha2,"sha256","hex"));const i=(0,s.createWriteStream)(t.destination);n.push(i);let o=e;for(const e of n)e.on("error",e=>{t.options.cancellationToken.cancelled||t.callback(e)}),o=o.pipe(e);i.on("finish",()=>{i.close(t.callback)})}(e,r):e.responseHandler(r,e.callback):n<this.maxRedirects?this.doDownload(g.prepareRedirectUrlOptions(i,t),e,n++):e.callback(this.createMaxRedirectError())});this.addErrorAndTimeoutHandlers(r,e.callback),this.addRedirectHandlers(r,t,e.callback,n,t=>{this.doDownload(t,e,n++)}),r.end()}createMaxRedirectError(){return new Error(`Too many redirects (> ${this.maxRedirects})`)}addTimeOutHandler(t,e){t.on("socket",n=>{n.setTimeout(6e4,()=>{t.abort(),e(new Error("Request timed out"))})})}static prepareRedirectUrlOptions(t,e){const n=y(t,{...e}),r=n.headers;if(null!=r&&null!=r.authorization&&r.authorization.startsWith("token")){new(c().URL)(t).hostname.endsWith(".amazonaws.com")&&delete r.authorization}return n}}function y(t,e){const n=b(e);return v(new(c().URL)(t),n),n}function v(t,e){e.protocol=t.protocol,e.hostname=t.hostname,t.port?e.port=t.port:e.port&&delete e.port,e.path=t.pathname+t.search}e.HttpExecutor=g;class E extends a().Transform{constructor(t,e="sha512",n="base64"){super(),this.expected=t,this.algorithm=e,this.encoding=n,this._actual=null,this.isValidateOnEnd=!0,this.digester=(0,r().createHash)(e)}get actual(){return this._actual}_transform(t,e,n){this.digester.update(t),n(null,t)}_flush(t){if(this._actual=this.digester.digest(this.encoding),this.isValidateOnEnd)try{this.validate()}catch(e){return void t(e)}t(null)}validate(){if(null==this._actual)throw(0,l().newError)("Not finished yet","ERR_STREAM_NOT_FINISHED");if(this._actual!==this.expected)throw(0,l().newError)(`${this.algorithm} checksum mismatch, expected ${this.expected}, got ${this._actual}`,"ERR_CHECKSUM_MISMATCH");return null}}function w(t,e){const n=t.headers[e];return null==n?null:Array.isArray(n)?0===n.length?null:n[n.length-1]:n}function b(t,e,n){null!=n&&(t.method=n),t.headers={...t.headers};const r=t.headers;return null!=e&&(r.authorization=e.startsWith("Basic")?e:"token "+e),null==r["User-Agent"]&&(r["User-Agent"]="electron-builder"),null!=n&&"GET"!==n&&null!=r["Cache-Control"]||(r["Cache-Control"]="no-cache"),null==t.protocol&&null!=process.versions.electron&&(t.protocol="https:"),t}function _(t,e){return JSON.stringify(t,(t,n)=>t.endsWith("authorization")||t.endsWith("Password")||t.endsWith("PASSWORD")||t.endsWith("Token")||t.includes("password")||t.includes("token")||null!=e&&e.has(t)?"<stripped sensitive data>":n,2)}e.DigestTransform=E},function(t,e,n){t.exports=function(t){function e(t){let n,i,o,s=null;function a(...t){if(!a.enabled)return;const r=a,i=Number(new Date),o=i-(n||i);r.diff=o,r.prev=n,r.curr=i,n=i,t[0]=e.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");let s=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,(n,i)=>{if("%%"===n)return"%";s++;const o=e.formatters[i];if("function"==typeof o){const e=t[s];n=o.call(r,e),t.splice(s,1),s--}return n}),e.formatArgs.call(r,t);(r.log||e.log).apply(r,t)}return a.namespace=t,a.useColors=e.useColors(),a.color=e.selectColor(t),a.extend=r,a.destroy=e.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==e.namespaces&&(i=e.namespaces,o=e.enabled(t)),o),set:t=>{s=t}}),"function"==typeof e.init&&e.init(a),a}function r(t,n){const r=e(this.namespace+(void 0===n?":":n)+t);return r.log=this.log,r}function i(t){return t.toString().substring(2,t.toString().length-2).replace(/\.\*\?$/,"*")}return e.debug=e,e.default=e,e.coerce=function(t){if(t instanceof Error)return t.stack||t.message;return t},e.disable=function(){const t=[...e.names.map(i),...e.skips.map(i).map(t=>"-"+t)].join(",");return e.enable(""),t},e.enable=function(t){let n;e.save(t),e.namespaces=t,e.names=[],e.skips=[];const r=("string"==typeof t?t:"").split(/[\s,]+/),i=r.length;for(n=0;n<i;n++)r[n]&&("-"===(t=r[n].replace(/\*/g,".*?"))[0]?e.skips.push(new RegExp("^"+t.substr(1)+"$")):e.names.push(new RegExp("^"+t+"$")))},e.enabled=function(t){if("*"===t[t.length-1])return!0;let n,r;for(n=0,r=e.skips.length;n<r;n++)if(e.skips[n].test(t))return!1;for(n=0,r=e.names.length;n<r;n++)if(e.names[n].test(t))return!0;return!1},e.humanize=n(79),e.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(t).forEach(n=>{e[n]=t[n]}),e.names=[],e.skips=[],e.formatters={},e.selectColor=function(t){let n=0;for(let e=0;e<t.length;e++)n=(n<<5)-n+t.charCodeAt(e),n|=0;return e.colors[Math.abs(n)%e.colors.length]},e.enable(e.load()),e}},function(t,e,n){"use strict";function r(){const t=n(16);return r=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressCallbackTransform=void 0;class i extends r().Transform{constructor(t,e,n){super(),this.total=t,this.cancellationToken=e,this.onProgress=n,this.start=Date.now(),this.transferred=0,this.delta=0,this.nextUpdate=this.start+1e3}_transform(t,e,n){if(this.cancellationToken.cancelled)return void n(new Error("cancelled"),null);this.transferred+=t.length,this.delta+=t.length;const r=Date.now();r>=this.nextUpdate&&this.transferred!==this.total&&(this.nextUpdate=r+1e3,this.onProgress({total:this.total,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.total*100,bytesPerSecond:Math.round(this.transferred/((r-this.start)/1e3))}),this.delta=0),n(null,t)}_flush(t){this.cancellationToken.cancelled?t(new Error("cancelled")):(this.onProgress({total:this.total,delta:this.delta,transferred:this.total,percent:100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))}),this.delta=0,t(null))}}e.ProgressCallbackTransform=i},function(t,e,n){"use strict";t.exports={copySync:n(94)}},function(t,e){t.exports=t=>{const e=process.versions.node.split(".").map(t=>parseInt(t,10));return t=t.split(".").map(t=>parseInt(t,10)),e[0]>t[0]||e[0]===t[0]&&(e[1]>t[1]||e[1]===t[1]&&e[2]>=t[2])}},function(t,e,n){"use strict";const r=n(3);t.exports={utimesMillis:function(t,e,n,i){r.open(t,"r+",(t,o)=>{if(t)return i(t);r.futimes(o,e,n,t=>{r.close(o,e=>{i&&i(t||e)})})})},utimesMillisSync:function(t,e,n){const i=r.openSync(t,"r+");return r.futimesSync(i,e,n),r.closeSync(i)}}},function(t,e,n){"use strict";const r=n(5).fromCallback;t.exports={copy:r(n(96))}},function(t,e,n){const r=n(17);t.exports={re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:n(24).SEMVER_SPEC_VERSION,SemVer:n(4),compareIdentifiers:n(37).compareIdentifiers,rcompareIdentifiers:n(37).rcompareIdentifiers,parse:n(18),valid:n(115),clean:n(116),inc:n(117),diff:n(118),major:n(119),minor:n(120),patch:n(121),prerelease:n(122),compare:n(6),rcompare:n(123),compareLoose:n(124),compareBuild:n(39),sort:n(125),rsort:n(126),gt:n(27),lt:n(40),eq:n(38),neq:n(56),gte:n(41),lte:n(42),cmp:n(57),coerce:n(127),Comparator:n(28),Range:n(7),satisfies:n(29),toComparators:n(131),maxSatisfying:n(132),minSatisfying:n(133),minVersion:n(134),validRange:n(135),outside:n(43),gtr:n(136),ltr:n(137),intersects:n(138),simplifyRange:n(139),subset:n(140)}},function(t,e,n){const r=n(6);t.exports=(t,e,n)=>0!==r(t,e,n)},function(t,e,n){const r=n(38),i=n(56),o=n(27),s=n(41),a=n(40),c=n(42);t.exports=(t,e,n,u)=>{switch(e){case"===":return"object"==typeof t&&(t=t.version),"object"==typeof n&&(n=n.version),t===n;case"!==":return"object"==typeof t&&(t=t.version),"object"==typeof n&&(n=n.version),t!==n;case"":case"=":case"==":return r(t,n,u);case"!=":return i(t,n,u);case">":return o(t,n,u);case">=":return s(t,n,u);case"<":return a(t,n,u);case"<=":return c(t,n,u);default:throw new TypeError("Invalid operator: "+e)}}},function(t,e,n){"use strict";function r(){const t=n(1);return r=function(){return t},t}function i(){const t=n(9);return i=function(){return t},t}function o(){const t=n(11);return o=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.GenericProvider=void 0;class s extends i().Provider{constructor(t,e,n){super(n),this.configuration=t,this.updater=e,this.baseUrl=(0,i().newBaseUrl)(this.configuration.url)}get channel(){const t=this.updater.channel||this.configuration.channel;return null==t?this.getDefaultChannelName():this.getCustomChannelName(t)}async getLatestVersion(){const t=(0,i().getChannelFilename)(this.channel),e=(0,i().newUrlFromBase)(t,this.baseUrl,this.updater.isAddNoCacheQuery);for(let n=0;;n++)try{return(0,o().parseUpdateInfo)(await this.httpRequest(e),t,e)}catch(e){if(e instanceof r().HttpError&&404===e.statusCode)throw(0,r().newError)(`Cannot find channel "${t}" update info: ${e.stack||e.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");if("ECONNREFUSED"===e.code&&n<3){await new Promise((t,e)=>{try{setTimeout(t,1e3*n)}catch(t){e(t)}});continue}throw e}}resolveFiles(t){return(0,o().resolveFiles)(t,this.baseUrl)}}e.GenericProvider=s},function(t,e,n){"use strict";function r(){const t=n(1);return r=function(){return t},t}function i(){const t=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=c();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}n.default=t,e&&e.set(t,n);return n}(n(55));return i=function(){return t},t}function o(){const t=n(12);return o=function(){return t},t}function s(){const t=n(9);return s=function(){return t},t}function a(){const t=n(11);return a=function(){return t},t}function c(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return c=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.computeReleaseNotes=f,e.GitHubProvider=e.BaseGitHubProvider=void 0;const u=/\/tag\/v?([^/]+)$/;class l extends s().Provider{constructor(t,e,n){super({...n,isUseMultipleRangeRequest:!1}),this.options=t,this.baseUrl=(0,s().newBaseUrl)((0,r().githubUrl)(t,e));const i="github.com"===e?"api.github.com":e;this.baseApiUrl=(0,s().newBaseUrl)((0,r().githubUrl)(t,i))}computeGithubBasePath(t){const e=this.options.host;return null!=e&&"github.com"!==e&&"api.github.com"!==e?"/api/v3"+t:t}}e.BaseGitHubProvider=l;function h(t){const e=t.elementValueOrEmpty("content");return"No content."===e?"":e}function f(t,e,n,r){if(!e)return h(r);const o=[];for(const e of n.getElements("entry")){const n=e.element("link").attribute("href").match(/\/tag\/v?([^/]+)$/)[1];i().lt(t,n)&&o.push({version:n,note:h(e)})}return o.sort((t,e)=>i().rcompare(t.version,e.version))}e.GitHubProvider=class extends l{constructor(t,e,n){super(t,"github.com",n),this.options=t,this.updater=e}async getLatestVersion(){const t=new(r().CancellationToken),e=await this.httpRequest((0,s().newUrlFromBase)(this.basePath+".atom",this.baseUrl),{accept:"application/xml, application/atom+xml, text/xml, */*"},t),n=(0,r().parseXml)(e);let i,o=n.element("entry",!1,"No published versions on GitHub");try{if(this.updater.allowPrerelease)i=o.element("link").attribute("href").match(u)[1];else{i=await this.getLatestVersionString(t);for(const t of n.getElements("entry"))if(t.element("link").attribute("href").match(u)[1]===i){o=t;break}}}catch(t){throw(0,r().newError)(`Cannot parse releases feed: ${t.stack||t.message},\nXML:\n${e}`,"ERR_UPDATER_INVALID_RELEASE_FEED")}if(null==i)throw(0,r().newError)("No published versions on GitHub","ERR_UPDATER_NO_PUBLISHED_VERSIONS");const c=(0,s().getChannelFilename)(this.getDefaultChannelName()),l=(0,s().newUrlFromBase)(this.getBaseDownloadPath(i,c),this.baseUrl),h=this.createRequestOptions(l);let p;try{p=await this.executor.request(h,t)}catch(t){if(!this.updater.allowPrerelease&&t instanceof r().HttpError&&404===t.statusCode)throw(0,r().newError)(`Cannot find ${c} in the latest release artifacts (${l}): ${t.stack||t.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");throw t}const d=(0,a().parseUpdateInfo)(p,c,l);return null==d.releaseName&&(d.releaseName=o.elementValueOrEmpty("title")),null==d.releaseNotes&&(d.releaseNotes=f(this.updater.currentVersion,this.updater.fullChangelog,n,o)),d}async getLatestVersionString(t){const e=this.options,n=null==e.host||"github.com"===e.host?(0,s().newUrlFromBase)(this.basePath+"/latest",this.baseUrl):new(o().URL)(this.computeGithubBasePath(`/repos/${e.owner}/${e.repo}/releases`)+"/latest",this.baseApiUrl);try{const e=await this.httpRequest(n,{Accept:"application/json"},t);if(null==e)return null;const r=JSON.parse(e);return r.tag_name.startsWith("v")?r.tag_name.substring(1):r.tag_name}catch(t){throw(0,r().newError)(`Unable to find latest version on GitHub (${n}), please ensure a production release exists: ${t.stack||t.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}get basePath(){return`/${this.options.owner}/${this.options.repo}/releases`}resolveFiles(t){return(0,a().resolveFiles)(t,this.baseUrl,e=>this.getBaseDownloadPath(t.version,e.replace(/ /g,"-")))}getBaseDownloadPath(t,e){return`${this.basePath}/download/${!1===this.options.vPrefixedTagName?"":"v"}${t}/${e}`}}},function(t,e,n){"use strict";function r(){const t=n(1);return r=function(){return t},t}function i(){const t=n(30);return i=function(){return t},t}function o(){const t=n(13);return o=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.AppImageUpdater=void 0;var s=n(2),a=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=f();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}n.default=t,e&&e.set(t,n);return n}(n(0));function c(){const t=n(61);return c=function(){return t},t}function u(){const t=n(62);return u=function(){return t},t}function l(){const t=n(9);return l=function(){return t},t}function h(){const t=n(11);return h=function(){return t},t}function f(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return f=function(){return t},t}class p extends c().BaseUpdater{constructor(t,e){super(t,e)}isUpdaterActive(){return null==process.env.APPIMAGE?(null==process.env.SNAP?this._logger.warn("APPIMAGE env is not defined, current application is not an AppImage"):this._logger.info("SNAP env is defined, updater is disabled"),!1):super.isUpdaterActive()}doDownloadUpdate(t){const e=t.updateInfoAndProvider.provider,n=(0,h().findFile)(e.resolveFiles(t.updateInfoAndProvider.info),"AppImage");return this.executeDownload({fileExtension:"AppImage",fileInfo:n,downloadUpdateOptions:t,task:async(i,s)=>{const a=process.env.APPIMAGE;if(null==a)throw(0,r().newError)("APPIMAGE env is not defined","ERR_UPDATER_OLD_FILE_NOT_FOUND");let c=!1;try{const r={newUrl:n.url,oldFile:a,logger:this._logger,newFile:i,isUseMultipleRangeRequest:e.isUseMultipleRangeRequest,requestHeaders:t.requestHeaders,cancellationToken:t.cancellationToken};this.listenerCount(l().DOWNLOAD_PROGRESS)>0&&(r.onProgress=t=>this.emit(l().DOWNLOAD_PROGRESS,t)),await new(u().FileWithEmbeddedBlockMapDifferentialDownloader)(n.info,this.httpExecutor,r).download()}catch(t){this._logger.error("Cannot download differentially, fallback to full download: "+(t.stack||t)),c="linux"===process.platform}c&&await this.httpExecutor.download(n.url,i,s),await(0,o().chmod)(i,493)}})}doInstall(t){const e=process.env.APPIMAGE;if(null==e)throw(0,r().newError)("APPIMAGE env is not defined","ERR_UPDATER_OLD_FILE_NOT_FOUND");let n;(0,s.unlinkSync)(e);const o=a.basename(e);n=a.basename(t.installerPath)!==o&&/\d+\.\d+\.\d+/.test(o)?a.join(a.dirname(e),a.basename(t.installerPath)):e,(0,i().execFileSync)("mv",["-f",t.installerPath,n]),n!==e&&this.emit("appimage-filename-updated",n);const c={...process.env,APPIMAGE_SILENT_INSTALL:"true"};return t.isForceRunAfter?(0,i().spawn)(n,[],{detached:!0,stdio:"ignore",env:c}).unref():(c.APPIMAGE_EXIT_AFTER_INSTALL="true",(0,i().execFileSync)(n,[],{env:c})),!0}}e.AppImageUpdater=p},function(t,e,n){"use strict";function r(){const t=n(31);return r=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.BaseUpdater=void 0;class i extends r().AppUpdater{constructor(t,e){super(t,e),this.quitAndInstallCalled=!1,this.quitHandlerAdded=!1}quitAndInstall(t=!1,e=!1){this._logger.info("Install on explicit quitAndInstall");this.install(t,!t||e)?setImmediate(()=>{this.app.quit()}):this.quitAndInstallCalled=!1}executeDownload(t){return super.executeDownload({...t,done:async t=>{this.dispatchUpdateDownloaded(t),this.addQuitHandler()}})}install(t,e){if(this.quitAndInstallCalled)return this._logger.warn("install call ignored: quitAndInstallCalled is set to true"),!1;const n=this.downloadedUpdateHelper,r=null==n?null:n.file,i=null==n?null:n.downloadedFileInfo;if(null==r||null==i)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;this.quitAndInstallCalled=!0;try{return this._logger.info(`Install: isSilent: ${t}, isForceRunAfter: ${e}`),this.doInstall({installerPath:r,isSilent:t,isForceRunAfter:e,isAdminRightsRequired:i.isAdminRightsRequired})}catch(t){return this.dispatchError(t),!1}}addQuitHandler(){!this.quitHandlerAdded&&this.autoInstallOnAppQuit&&(this.quitHandlerAdded=!0,this.app.onQuit(t=>{this.quitAndInstallCalled?this._logger.info("Update installer has already been triggered. Quitting application."):0===t?(this._logger.info("Auto install update on quit"),this.install(!0,!1)):this._logger.info("Update will be not installed on quit because application is quitting with exit code "+t)}))}}e.BaseUpdater=i},function(t,e,n){"use strict";function r(){const t=n(13);return r=function(){return t},t}function i(){const t=n(63);return i=function(){return t},t}function o(){const t=n(65);return o=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.FileWithEmbeddedBlockMapDifferentialDownloader=void 0;class s extends i().DifferentialDownloader{async download(){const t=this.blockAwareFileInfo,e=t.size,n=e-(t.blockMapSize+4);this.fileMetadataBuffer=await this.readRemoteBytes(n,e-1);const i=a(this.fileMetadataBuffer.slice(0,this.fileMetadataBuffer.length-4));await this.doDownload(await async function(t){const e=await(0,r().open)(t,"r");try{const t=(await(0,r().fstat)(e)).size,n=Buffer.allocUnsafe(4);await(0,r().read)(e,n,0,n.length,t-n.length);const i=Buffer.allocUnsafe(n.readUInt32BE(0));return await(0,r().read)(e,i,0,i.length,t-n.length-i.length),await(0,r().close)(e),a(i)}catch(t){throw await(0,r().close)(e),t}}(this.options.oldFile),i)}}function a(t){return JSON.parse((0,o().inflateRawSync)(t).toString())}e.FileWithEmbeddedBlockMapDifferentialDownloader=s},function(t,e,n){"use strict";function r(){const t=n(1);return r=function(){return t},t}function i(){const t=n(13);return i=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.DifferentialDownloader=void 0;var o=n(2);function s(){const t=n(64);return s=function(){return t},t}function a(){const t=n(12);return a=function(){return t},t}function c(){const t=n(44);return c=function(){return t},t}function u(){const t=n(151);return u=function(){return t},t}function l(){const t=n(152);return l=function(){return t},t}function h(t,e=" KB"){return new Intl.NumberFormat("en").format((t/1024).toFixed(2))+e}e.DifferentialDownloader=class{constructor(t,e,n){this.blockAwareFileInfo=t,this.httpExecutor=e,this.options=n,this.fileMetadataBuffer=null,this.logger=n.logger}createRequestOptions(){const t={headers:{...this.options.requestHeaders,accept:"*/*"}};return(0,r().configureRequestUrl)(this.options.newUrl,t),(0,r().configureRequestOptions)(t),t}doDownload(t,e){if(t.version!==e.version)throw new Error(`version is different (${t.version} - ${e.version}), full download is required`);const n=this.logger,r=(0,c().computeOperations)(t,e,n);null!=n.debug&&n.debug(JSON.stringify(r,null,2));let i=0,o=0;for(const t of r){const e=t.end-t.start;t.kind===c().OperationKind.DOWNLOAD?i+=e:o+=e}const s=this.blockAwareFileInfo.size;if(i+o+(null==this.fileMetadataBuffer?0:this.fileMetadataBuffer.length)!==s)throw new Error(`Internal error, size mismatch: downloadSize: ${i}, copySize: ${o}, newSize: ${s}`);return n.info(`Full: ${h(s)}, To download: ${h(i)} (${Math.round(i/(s/100))}%)`),this.downloadFile(r)}downloadFile(t){const e=[],n=()=>Promise.all(e.map(t=>(0,i().close)(t.descriptor).catch(e=>{this.logger.error(`cannot close file "${t.path}": ${e}`)})));return this.doDownloadFile(t,e).then(n).catch(t=>n().catch(e=>{try{this.logger.error("cannot close files: "+e)}catch(t){try{console.error(t)}catch(t){}}throw t}).then(()=>{throw t}))}async doDownloadFile(t,e){const n=await(0,i().open)(this.options.oldFile,"r");e.push({descriptor:n,path:this.options.oldFile});const h=await(0,i().open)(this.options.newFile,"w");e.push({descriptor:h,path:this.options.newFile});const f=(0,o.createWriteStream)(this.options.newFile,{fd:h});await new Promise((i,o)=>{const h=[];let p=void 0;if(!this.options.isUseMultipleRangeRequest&&this.options.onProgress){const e=[];let n=0;for(const r of t)r.kind===c().OperationKind.DOWNLOAD&&(e.push(r.end-r.start),n+=r.end-r.start);const r={expectedByteCounts:e,grandTotal:n};p=new(l().ProgressDifferentialDownloadCallbackTransform)(r,this.options.cancellationToken,this.options.onProgress),h.push(p)}const d=new(r().DigestTransform)(this.blockAwareFileInfo.sha512);d.isValidateOnEnd=!1,h.push(d),f.on("finish",()=>{f.close(()=>{e.splice(1,1);try{d.validate()}catch(t){return void o(t)}i(void 0)})}),h.push(f);let m=null;for(const t of h)t.on("error",o),m=null==m?t:m.pipe(t);const g=h[0];let y;if(this.options.isUseMultipleRangeRequest)return y=(0,u().executeTasksUsingMultipleRangeRequests)(this,t,g,n,o),void y(0);let v=0,E=null;this.logger.info("Differential download: "+this.options.newUrl);const w=this.createRequestOptions();w.redirect="manual",y=e=>{if(e>=t.length)return null!=this.fileMetadataBuffer&&g.write(this.fileMetadataBuffer),void g.end();const i=t[e++];if(i.kind===c().OperationKind.COPY)return p&&p.beginFileCopy(),void(0,s().copyData)(i,g,n,o,()=>y(e));const u=`bytes=${i.start}-${i.end-1}`;w.headers.range=u;const l=this.logger.debug;null!=l&&l("download range: "+u),p&&p.beginRangeDownload();const h=this.httpExecutor.createRequest(w,t=>{t.statusCode>=400&&o((0,r().createHttpError)(t)),t.pipe(g,{end:!1}),t.once("end",()=>{p&&p.endRangeDownload(),100==++v?(v=0,setTimeout(()=>y(e),1e3)):y(e)})});h.on("redirect",(t,e,n)=>{this.logger.info("Redirect to "+function(t){const e=t.indexOf("?");return e<0?t:t.substring(0,e)}(n)),E=n,(0,r().configureRequestUrl)(new(a().URL)(E),w),h.followRedirect()}),this.httpExecutor.addErrorAndTimeoutHandlers(h,o),h.end()},y(0)})}async readRemoteBytes(t,e){const n=Buffer.allocUnsafe(e+1-t),r=this.createRequestOptions();r.headers.range=`bytes=${t}-${e}`;let i=0;if(await this.request(r,t=>{t.copy(n,i),i+=t.length}),i!==n.length)throw new Error(`Received data length ${i} is not equal to expected ${n.length}`);return n}request(t,e){return new Promise((n,r)=>{const i=this.httpExecutor.createRequest(t,t=>{(0,u().checkIsRangesSupported)(t,r)&&(t.on("data",e),t.on("end",()=>n()))});this.httpExecutor.addErrorAndTimeoutHandlers(i,r),i.end()})}}},function(t,e,n){"use strict";function r(){const t=n(1);return r=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.copyData=u,e.DataSplitter=void 0;var i=n(2);function o(){const t=n(16);return o=function(){return t},t}function s(){const t=n(44);return s=function(){return t},t}const a=Buffer.from("\r\n\r\n");var c;function u(t,e,n,r,o){const s=(0,i.createReadStream)("",{fd:n,autoClose:!1,start:t.start,end:t.end-1});s.on("error",r),s.once("end",o),s.pipe(e,{end:!1})}!function(t){t[t.INIT=0]="INIT",t[t.HEADER=1]="HEADER",t[t.BODY=2]="BODY"}(c||(c={}));class l extends o().Writable{constructor(t,e,n,r,i,o){super(),this.out=t,this.options=e,this.partIndexToTaskIndex=n,this.partIndexToLength=i,this.finishHandler=o,this.partIndex=-1,this.headerListBuffer=null,this.readState=c.INIT,this.ignoreByteCount=0,this.remainingPartDataCount=0,this.actualPartLength=0,this.boundaryLength=r.length+4,this.ignoreByteCount=this.boundaryLength-2}get isFinished(){return this.partIndex===this.partIndexToLength.length}_write(t,e,n){this.isFinished?console.error(`Trailing ignored data: ${t.length} bytes`):this.handleData(t).then(n).catch(n)}async handleData(t){let e=0;if(0!==this.ignoreByteCount&&0!==this.remainingPartDataCount)throw(0,r().newError)("Internal error","ERR_DATA_SPLITTER_BYTE_COUNT_MISMATCH");if(this.ignoreByteCount>0){const n=Math.min(this.ignoreByteCount,t.length);this.ignoreByteCount-=n,e=n}else if(this.remainingPartDataCount>0){const n=Math.min(this.remainingPartDataCount,t.length);this.remainingPartDataCount-=n,await this.processPartData(t,0,n),e=n}if(e!==t.length){if(this.readState===c.HEADER){const n=this.searchHeaderListEnd(t,e);if(-1===n)return;e=n,this.readState=c.BODY,this.headerListBuffer=null}for(;;){if(this.readState===c.BODY)this.readState=c.INIT;else{this.partIndex++;let n=this.partIndexToTaskIndex.get(this.partIndex);if(null==n){if(!this.isFinished)throw(0,r().newError)("taskIndex is null","ERR_DATA_SPLITTER_TASK_INDEX_IS_NULL");n=this.options.end}const i=0===this.partIndex?this.options.start:this.partIndexToTaskIndex.get(this.partIndex-1)+1;if(i<n)await this.copyExistingData(i,n);else if(i>n)throw(0,r().newError)("prevTaskIndex must be < taskIndex","ERR_DATA_SPLITTER_TASK_INDEX_ASSERT_FAILED");if(this.isFinished)return this.onPartEnd(),void this.finishHandler();if(e=this.searchHeaderListEnd(t,e),-1===e)return void(this.readState=c.HEADER)}const n=this.partIndexToLength[this.partIndex],i=e+n,o=Math.min(i,t.length);if(await this.processPartStarted(t,e,o),this.remainingPartDataCount=n-(o-e),this.remainingPartDataCount>0)return;if(e=i+this.boundaryLength,e>=t.length)return void(this.ignoreByteCount=this.boundaryLength-(t.length-i))}}}copyExistingData(t,e){return new Promise((n,r)=>{const i=()=>{if(t===e)return void n();const o=this.options.tasks[t];o.kind===s().OperationKind.COPY?u(o,this.out,this.options.oldFileFd,r,()=>{t++,i()}):r(new Error("Task kind must be COPY"))};i()})}searchHeaderListEnd(t,e){const n=t.indexOf(a,e);if(-1!==n)return n+a.length;const r=0===e?t:t.slice(e);return null==this.headerListBuffer?this.headerListBuffer=r:this.headerListBuffer=Buffer.concat([this.headerListBuffer,r]),-1}onPartEnd(){const t=this.partIndexToLength[this.partIndex-1];if(this.actualPartLength!==t)throw(0,r().newError)(`Expected length: ${t} differs from actual: ${this.actualPartLength}`,"ERR_DATA_SPLITTER_LENGTH_MISMATCH");this.actualPartLength=0}processPartStarted(t,e,n){return 0!==this.partIndex&&this.onPartEnd(),this.processPartData(t,e,n)}processPartData(t,e,n){this.actualPartLength+=n-e;const r=this.out;return r.write(0===e&&t.length===n?t:t.slice(e,n))?Promise.resolve():new Promise((t,e)=>{r.on("error",e),r.once("drain",()=>{r.removeListener("error",e),t()})})}}e.DataSplitter=l},function(t,e){t.exports=require("zlib")},function(t,e,n){"use strict";function r(){const t=n(1);return r=function(){return t},t}function i(){const t=n(13);return i=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.MacUpdater=void 0;var o=n(2);function s(){const t=n(153);return s=function(){return t},t}function a(){const t=n(31);return a=function(){return t},t}function c(){const t=n(11);return c=function(){return t},t}class u extends a().AppUpdater{constructor(t,e){super(t,e),this.nativeUpdater=n(8).autoUpdater,this.squirrelDownloadedUpdate=!1,this.nativeUpdater.on("error",t=>{this._logger.warn(t),this.emit("error",t)}),this.nativeUpdater.on("update-downloaded",()=>{this.squirrelDownloadedUpdate=!0})}doDownloadUpdate(t){let e=t.updateInfoAndProvider.provider.resolveFiles(t.updateInfoAndProvider.info);const n=t=>t.url.pathname.includes("arm64");e.some(n)&&(e=e.filter(t=>"arm64"===process.arch===n(t)));const a=(0,c().findFile)(e,"zip",["pkg","dmg"]);if(null==a)throw(0,r().newError)("ZIP file not provided: "+(0,r().safeStringifyJson)(e),"ERR_UPDATER_ZIP_FILE_NOT_FOUND");const u=(0,s().createServer)();function l(){return"http://127.0.0.1:"+u.address().port}return u.on("close",()=>{this._logger.info(`Proxy server for native Squirrel.Mac is closed (was started to download ${a.url.href})`)}),this.executeDownload({fileExtension:"zip",fileInfo:a,downloadUpdateOptions:t,task:(t,e)=>this.httpExecutor.download(a.url,t,e),done:async t=>{const e=t.downloadedFile;let n=a.info.size;return null==n&&(n=(await(0,i().stat)(e)).size),await new Promise((r,i)=>{const s="/"+Date.now()+"-"+Math.floor(9999*Math.random())+".zip";u.on("request",(t,a)=>{const c=t.url;if(this._logger.info(c+" requested"),"/"===c){const t=Buffer.from(`{ "url": "${l()}${s}" }`);return a.writeHead(200,{"Content-Type":"application/json","Content-Length":t.length}),void a.end(t)}if(!c.startsWith(s))return this._logger.warn(c+" requested, but not supported"),a.writeHead(404),void a.end();this._logger.info(`${s} requested by Squirrel.Mac, pipe ${e}`);let h=!1;a.on("finish",()=>{try{setImmediate(()=>u.close())}finally{h||(this.nativeUpdater.removeListener("error",i),r([]))}});const f=(0,o.createReadStream)(e);f.on("error",t=>{try{a.end()}catch(t){this._logger.warn("cannot end response: "+t)}h=!0,this.nativeUpdater.removeListener("error",i),i(new Error(`Cannot pipe "${e}": ${t}`))}),a.writeHead(200,{"Content-Type":"application/zip","Content-Length":n}),f.pipe(a)}),u.listen(0,"127.0.0.1",()=>{this.nativeUpdater.setFeedURL({url:l(),headers:{"Cache-Control":"no-cache"}}),this.nativeUpdater.once("error",i),this.dispatchUpdateDownloaded(t),this.autoInstallOnAppQuit&&this.nativeUpdater.checkForUpdates()})})}})}quitAndInstall(){this.squirrelDownloadedUpdate?this.nativeUpdater.quitAndInstall():(this.nativeUpdater.on("update-downloaded",()=>{this.nativeUpdater.quitAndInstall()}),this.nativeUpdater.checkForUpdates())}}e.MacUpdater=u},function(t,e,n){"use strict";function r(){const t=n(1);return r=function(){return t},t}function i(){const t=n(30);return i=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.NsisUpdater=void 0;var o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=m();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}n.default=t,e&&e.set(t,n);return n}(n(0));function s(){const t=n(61);return s=function(){return t},t}function a(){const t=n(62);return a=function(){return t},t}function c(){const t=n(154);return c=function(){return t},t}function u(){const t=n(9);return u=function(){return t},t}function l(){const t=n(11);return l=function(){return t},t}function h(){const t=n(13);return h=function(){return t},t}function f(){const t=n(155);return f=function(){return t},t}function p(){const t=n(12);return p=function(){return t},t}function d(){const t=n(65);return d=function(){return t},t}function m(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return m=function(){return t},t}class g extends s().BaseUpdater{constructor(t,e){super(t,e)}doDownloadUpdate(t){const e=t.updateInfoAndProvider.provider,n=(0,l().findFile)(e.resolveFiles(t.updateInfoAndProvider.info),"exe");return this.executeDownload({fileExtension:"exe",downloadUpdateOptions:t,fileInfo:n,task:async(i,o,s,a)=>{const c=n.packageInfo,u=null!=c&&null!=s;(u||await this.differentialDownloadInstaller(n,t,i,e))&&await this.httpExecutor.download(n.url,i,o);const l=await this.verifySignature(i);if(null!=l)throw await a(),(0,r().newError)(`New version ${t.updateInfoAndProvider.info.version} is not signed by the application owner: ${l}`,"ERR_UPDATER_INVALID_SIGNATURE");if(u&&await this.differentialDownloadWebPackage(t,c,s,e))try{await this.httpExecutor.download(new(p().URL)(c.path),s,{headers:t.requestHeaders,cancellationToken:t.cancellationToken,sha512:c.sha512})}catch(t){try{await(0,h().unlink)(s)}catch(t){}throw t}}})}async verifySignature(t){let e;try{if(e=(await this.configOnDisk.value).publisherName,null==e)return null}catch(t){if("ENOENT"===t.code)return null;throw t}return await(0,f().verifySignature)(Array.isArray(e)?e:[e],t,this._logger)}doInstall(t){const e=["--updated"];t.isSilent&&e.push("/S"),t.isForceRunAfter&&e.push("--force-run");const n=null==this.downloadedUpdateHelper?null:this.downloadedUpdateHelper.packageFile;null!=n&&e.push("--package-file="+n);const r=()=>{y(o.join(process.resourcesPath,"elevate.exe"),[t.installerPath].concat(e)).catch(t=>this.dispatchError(t))};return t.isAdminRightsRequired?(this._logger.info("isAdminRightsRequired is set to true, run installer using elevate.exe"),r(),!0):(y(t.installerPath,e).catch(t=>{const e=t.code;this._logger.info(`Cannot run installer: error code: ${e}, error message: "${t.message}", will be executed again using elevate if EACCES"`),"UNKNOWN"===e||"EACCES"===e?r():this.dispatchError(t)}),!0)}async differentialDownloadInstaller(t,e,n,i){try{if(null!=this._testOnlyOptions&&!this._testOnlyOptions.isUseDifferentialDownload)return!0;const s=(0,u().newUrlFromBase)(t.url.pathname+".blockmap",t.url),a=(0,u().newUrlFromBase)(t.url.pathname.replace(new RegExp(e.updateInfoAndProvider.info.version,"g"),this.app.version)+".blockmap",t.url);this._logger.info(`Download block maps (old: "${a.href}", new: ${s.href})`);const l=async t=>{const n=await this.httpExecutor.downloadToBuffer(t,{headers:e.requestHeaders,cancellationToken:e.cancellationToken});if(null==n||0===n.length)throw new Error(`Blockmap "${t.href}" is empty`);try{return JSON.parse((0,d().gunzipSync)(n).toString())}catch(e){throw new Error(`Cannot parse blockmap "${t.href}", error: ${e}, raw data: ${n}`)}},h={newUrl:t.url,oldFile:o.join(this.downloadedUpdateHelper.cacheDir,r().CURRENT_APP_INSTALLER_FILE_NAME),logger:this._logger,newFile:n,isUseMultipleRangeRequest:i.isUseMultipleRangeRequest,requestHeaders:e.requestHeaders,cancellationToken:e.cancellationToken};this.listenerCount(u().DOWNLOAD_PROGRESS)>0&&(h.onProgress=t=>this.emit(u().DOWNLOAD_PROGRESS,t));const f=await Promise.all([l(a),l(s)]);return await new(c().GenericDifferentialDownloader)(t.info,this.httpExecutor,h).download(f[0],f[1]),!1}catch(t){if(this._logger.error("Cannot download differentially, fallback to full download: "+(t.stack||t)),null!=this._testOnlyOptions)throw t;return!0}}async differentialDownloadWebPackage(t,e,n,i){if(null==e.blockMapSize)return!0;try{const s={newUrl:new(p().URL)(e.path),oldFile:o.join(this.downloadedUpdateHelper.cacheDir,r().CURRENT_APP_PACKAGE_FILE_NAME),logger:this._logger,newFile:n,requestHeaders:this.requestHeaders,isUseMultipleRangeRequest:i.isUseMultipleRangeRequest,cancellationToken:t.cancellationToken};this.listenerCount(u().DOWNLOAD_PROGRESS)>0&&(s.onProgress=t=>this.emit(u().DOWNLOAD_PROGRESS,t)),await new(a().FileWithEmbeddedBlockMapDifferentialDownloader)(e,this.httpExecutor,s).download()}catch(t){return this._logger.error("Cannot download differentially, fallback to full download: "+(t.stack||t)),"win32"===process.platform}return!1}}async function y(t,e){return new Promise((n,r)=>{try{const o=(0,i().spawn)(t,e,{detached:!0,stdio:"ignore"});o.on("error",t=>{r(t)}),o.unref(),void 0!==o.pid&&n(!0)}catch(t){r(t)}})}e.NsisUpdater=g},function(t,e,n){t.exports=E;var r=n(2),i=n(69),o=n(45),s=(o.Minimatch,n(164)),a=n(32).EventEmitter,c=n(0),u=n(19),l=n(46),h=n(166),f=n(70),p=(f.alphasort,f.alphasorti,f.setopts),d=f.ownProp,m=n(167),g=(n(15),f.childrenIgnored),y=f.isIgnored,v=n(72);function E(t,e,n){if("function"==typeof e&&(n=e,e={}),e||(e={}),e.sync){if(n)throw new TypeError("callback provided to sync glob");return h(t,e)}return new b(t,e,n)}E.sync=h;var w=E.GlobSync=h.GlobSync;function b(t,e,n){if("function"==typeof e&&(n=e,e=null),e&&e.sync){if(n)throw new TypeError("callback provided to sync glob");return new w(t,e)}if(!(this instanceof b))return new b(t,e,n);p(this,t,e),this._didRealPath=!1;var r=this.minimatch.set.length;this.matches=new Array(r),"function"==typeof n&&(n=v(n),this.on("error",n),this.on("end",(function(t){n(null,t)})));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(0===r)return s();for(var o=0;o<r;o++)this._process(this.minimatch.set[o],o,!1,s);function s(){--i._processing,i._processing<=0&&i._finish()}}E.glob=E,E.hasMagic=function(t,e){var n=function(t,e){if(null===e||"object"!=typeof e)return t;for(var n=Object.keys(e),r=n.length;r--;)t[n[r]]=e[n[r]];return t}({},e);n.noprocess=!0;var r=new b(t,n).minimatch.set;if(!t)return!1;if(r.length>1)return!0;for(var i=0;i<r[0].length;i++)if("string"!=typeof r[0][i])return!0;return!1},E.Glob=b,s(b,a),b.prototype._finish=function(){if(u(this instanceof b),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();f.finish(this),this.emit("end",this.found)}},b.prototype._realpath=function(){if(!this._didRealpath){this._didRealpath=!0;var t=this.matches.length;if(0===t)return this._finish();for(var e=this,n=0;n<this.matches.length;n++)this._realpathSet(n,r)}function r(){0==--t&&e._finish()}},b.prototype._realpathSet=function(t,e){var n=this.matches[t];if(!n)return e();var r=Object.keys(n),o=this,s=r.length;if(0===s)return e();var a=this.matches[t]=Object.create(null);r.forEach((function(n,r){n=o._makeAbs(n),i.realpath(n,o.realpathCache,(function(r,i){r?"stat"===r.syscall?a[n]=!0:o.emit("error",r):a[i]=!0,0==--s&&(o.matches[t]=a,e())}))}))},b.prototype._mark=function(t){return f.mark(this,t)},b.prototype._makeAbs=function(t){return f.makeAbs(this,t)},b.prototype.abort=function(){this.aborted=!0,this.emit("abort")},b.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))},b.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var t=this._emitQueue.slice(0);this._emitQueue.length=0;for(var e=0;e<t.length;e++){var n=t[e];this._emitMatch(n[0],n[1])}}if(this._processQueue.length){var r=this._processQueue.slice(0);this._processQueue.length=0;for(e=0;e<r.length;e++){var i=r[e];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}},b.prototype._process=function(t,e,n,r){if(u(this instanceof b),u("function"==typeof r),!this.aborted)if(this._processing++,this.paused)this._processQueue.push([t,e,n,r]);else{for(var i,s=0;"string"==typeof t[s];)s++;switch(s){case t.length:return void this._processSimple(t.join("/"),e,r);case 0:i=null;break;default:i=t.slice(0,s).join("/")}var a,c=t.slice(s);null===i?a=".":l(i)||l(t.join("/"))?(i&&l(i)||(i="/"+i),a=i):a=i;var h=this._makeAbs(a);if(g(this,a))return r();c[0]===o.GLOBSTAR?this._processGlobStar(i,a,h,c,e,n,r):this._processReaddir(i,a,h,c,e,n,r)}},b.prototype._processReaddir=function(t,e,n,r,i,o,s){var a=this;this._readdir(n,o,(function(c,u){return a._processReaddir2(t,e,n,r,i,o,u,s)}))},b.prototype._processReaddir2=function(t,e,n,r,i,o,s,a){if(!s)return a();for(var u=r[0],l=!!this.minimatch.negate,h=u._glob,f=this.dot||"."===h.charAt(0),p=[],d=0;d<s.length;d++){if("."!==(g=s[d]).charAt(0)||f)(l&&!t?!g.match(u):g.match(u))&&p.push(g)}var m=p.length;if(0===m)return a();if(1===r.length&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(d=0;d<m;d++){var g=p[d];t&&(g="/"!==t?t+"/"+g:t+g),"/"!==g.charAt(0)||this.nomount||(g=c.join(this.root,g)),this._emitMatch(i,g)}return a()}r.shift();for(d=0;d<m;d++){g=p[d];t&&(g="/"!==t?t+"/"+g:t+g),this._process([g].concat(r),i,o,a)}a()},b.prototype._emitMatch=function(t,e){if(!this.aborted&&!y(this,e))if(this.paused)this._emitQueue.push([t,e]);else{var n=l(e)?e:this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=n),!this.matches[t][e]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[t][e]=!0;var i=this.statCache[n];i&&this.emit("stat",e,i),this.emit("match",e)}}},b.prototype._readdirInGlobStar=function(t,e){if(!this.aborted){if(this.follow)return this._readdir(t,!1,e);var n=this,i=m("lstat\0"+t,(function(r,i){if(r&&"ENOENT"===r.code)return e();var o=i&&i.isSymbolicLink();n.symlinks[t]=o,o||!i||i.isDirectory()?n._readdir(t,!1,e):(n.cache[t]="FILE",e())}));i&&r.lstat(t,i)}},b.prototype._readdir=function(t,e,n){if(!this.aborted&&(n=m("readdir\0"+t+"\0"+e,n))){if(e&&!d(this.symlinks,t))return this._readdirInGlobStar(t,n);if(d(this.cache,t)){var i=this.cache[t];if(!i||"FILE"===i)return n();if(Array.isArray(i))return n(null,i)}r.readdir(t,function(t,e,n){return function(r,i){r?t._readdirError(e,r,n):t._readdirEntries(e,i,n)}}(this,t,n))}},b.prototype._readdirEntries=function(t,e,n){if(!this.aborted){if(!this.mark&&!this.stat)for(var r=0;r<e.length;r++){var i=e[r];i="/"===t?t+i:t+"/"+i,this.cache[i]=!0}return this.cache[t]=e,n(null,e)}},b.prototype._readdirError=function(t,e,n){if(!this.aborted){switch(e.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(t);if(this.cache[r]="FILE",r===this.cwdAbs){var i=new Error(e.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=e.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:this.cache[this._makeAbs(t)]=!1,this.strict&&(this.emit("error",e),this.abort()),this.silent||console.error("glob error",e)}return n()}},b.prototype._processGlobStar=function(t,e,n,r,i,o,s){var a=this;this._readdir(n,o,(function(c,u){a._processGlobStar2(t,e,n,r,i,o,u,s)}))},b.prototype._processGlobStar2=function(t,e,n,r,i,o,s,a){if(!s)return a();var c=r.slice(1),u=t?[t]:[],l=u.concat(c);this._process(l,i,!1,a);var h=this.symlinks[n],f=s.length;if(h&&o)return a();for(var p=0;p<f;p++){if("."!==s[p].charAt(0)||this.dot){var d=u.concat(s[p],c);this._process(d,i,!0,a);var m=u.concat(s[p],r);this._process(m,i,!0,a)}}a()},b.prototype._processSimple=function(t,e,n){var r=this;this._stat(t,(function(i,o){r._processSimple2(t,e,i,o,n)}))},b.prototype._processSimple2=function(t,e,n,r,i){if(this.matches[e]||(this.matches[e]=Object.create(null)),!r)return i();if(t&&l(t)&&!this.nomount){var o=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=c.join(this.root,t):(t=c.resolve(this.root,t),o&&(t+="/"))}"win32"===process.platform&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t),i()},b.prototype._stat=function(t,e){var n=this._makeAbs(t),i="/"===t.slice(-1);if(t.length>this.maxLength)return e();if(!this.stat&&d(this.cache,n)){var o=this.cache[n];if(Array.isArray(o)&&(o="DIR"),!i||"DIR"===o)return e(null,o);if(i&&"FILE"===o)return e()}var s=this.statCache[n];if(void 0!==s){if(!1===s)return e(null,s);var a=s.isDirectory()?"DIR":"FILE";return i&&"FILE"===a?e():e(null,a,s)}var c=this,u=m("stat\0"+n,(function(i,o){if(o&&o.isSymbolicLink())return r.stat(n,(function(r,i){r?c._stat2(t,n,null,o,e):c._stat2(t,n,r,i,e)}));c._stat2(t,n,i,o,e)}));u&&r.lstat(n,u)},b.prototype._stat2=function(t,e,n,r,i){if(n&&("ENOENT"===n.code||"ENOTDIR"===n.code))return this.statCache[e]=!1,i();var o="/"===t.slice(-1);if(this.statCache[e]=r,"/"===e.slice(-1)&&r&&!r.isDirectory())return i(null,!1,r);var s=!0;return r&&(s=r.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||s,o&&"FILE"===s?i():i(null,s,r)}},function(t,e,n){t.exports=l,l.realpath=l,l.sync=h,l.realpathSync=h,l.monkeypatch=function(){r.realpath=l,r.realpathSync=h},l.unmonkeypatch=function(){r.realpath=i,r.realpathSync=o};var r=n(2),i=r.realpath,o=r.realpathSync,s=process.version,a=/^v[0-5]\./.test(s),c=n(160);function u(t){return t&&"realpath"===t.syscall&&("ELOOP"===t.code||"ENOMEM"===t.code||"ENAMETOOLONG"===t.code)}function l(t,e,n){if(a)return i(t,e,n);"function"==typeof e&&(n=e,e=null),i(t,e,(function(r,i){u(r)?c.realpath(t,e,n):n(r,i)}))}function h(t,e){if(a)return o(t,e);try{return o(t,e)}catch(n){if(u(n))return c.realpathSync(t,e);throw n}}},function(t,e,n){function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.alphasort=u,e.alphasorti=c,e.setopts=function(t,e,n){n||(n={});if(n.matchBase&&-1===e.indexOf("/")){if(n.noglobstar)throw new Error("base matching requires globstar");e="**/"+e}t.silent=!!n.silent,t.pattern=e,t.strict=!1!==n.strict,t.realpath=!!n.realpath,t.realpathCache=n.realpathCache||Object.create(null),t.follow=!!n.follow,t.dot=!!n.dot,t.mark=!!n.mark,t.nodir=!!n.nodir,t.nodir&&(t.mark=!0);t.sync=!!n.sync,t.nounique=!!n.nounique,t.nonull=!!n.nonull,t.nosort=!!n.nosort,t.nocase=!!n.nocase,t.stat=!!n.stat,t.noprocess=!!n.noprocess,t.absolute=!!n.absolute,t.maxLength=n.maxLength||1/0,t.cache=n.cache||Object.create(null),t.statCache=n.statCache||Object.create(null),t.symlinks=n.symlinks||Object.create(null),function(t,e){t.ignore=e.ignore||[],Array.isArray(t.ignore)||(t.ignore=[t.ignore]);t.ignore.length&&(t.ignore=t.ignore.map(l))}(t,n),t.changedCwd=!1;var o=process.cwd();r(n,"cwd")?(t.cwd=i.resolve(n.cwd),t.changedCwd=t.cwd!==o):t.cwd=o;t.root=n.root||i.resolve(t.cwd,"/"),t.root=i.resolve(t.root),"win32"===process.platform&&(t.root=t.root.replace(/\\/g,"/"));t.cwdAbs=s(t.cwd)?t.cwd:h(t,t.cwd),"win32"===process.platform&&(t.cwdAbs=t.cwdAbs.replace(/\\/g,"/"));t.nomount=!!n.nomount,n.nonegate=!0,n.nocomment=!0,t.minimatch=new a(e,n),t.options=t.minimatch.options},e.ownProp=r,e.makeAbs=h,e.finish=function(t){for(var e=t.nounique,n=e?[]:Object.create(null),r=0,i=t.matches.length;r<i;r++){var o=t.matches[r];if(o&&0!==Object.keys(o).length){var s=Object.keys(o);e?n.push.apply(n,s):s.forEach((function(t){n[t]=!0}))}else if(t.nonull){var a=t.minimatch.globSet[r];e?n.push(a):n[a]=!0}}e||(n=Object.keys(n));t.nosort||(n=n.sort(t.nocase?c:u));if(t.mark){for(r=0;r<n.length;r++)n[r]=t._mark(n[r]);t.nodir&&(n=n.filter((function(e){var n=!/\/$/.test(e),r=t.cache[e]||t.cache[h(t,e)];return n&&r&&(n="DIR"!==r&&!Array.isArray(r)),n})))}t.ignore.length&&(n=n.filter((function(e){return!f(t,e)})));t.found=n},e.mark=function(t,e){var n=h(t,e),r=t.cache[n],i=e;if(r){var o="DIR"===r||Array.isArray(r),s="/"===e.slice(-1);if(o&&!s?i+="/":!o&&s&&(i=i.slice(0,-1)),i!==e){var a=h(t,i);t.statCache[a]=t.statCache[n],t.cache[a]=t.cache[n]}}return i},e.isIgnored=f,e.childrenIgnored=function(t,e){return!!t.ignore.length&&t.ignore.some((function(t){return!(!t.gmatcher||!t.gmatcher.match(e))}))};var i=n(0),o=n(45),s=n(46),a=o.Minimatch;function c(t,e){return t.toLowerCase().localeCompare(e.toLowerCase())}function u(t,e){return t.localeCompare(e)}function l(t){var e=null;if("/**"===t.slice(-3)){var n=t.replace(/(\/\*\*)+$/,"");e=new a(n,{dot:!0})}return{matcher:new a(t,{dot:!0}),gmatcher:e}}function h(t,e){var n=e;return n="/"===e.charAt(0)?i.join(t.root,e):s(e)||""===e?e:t.changedCwd?i.resolve(t.cwd,e):i.resolve(e),"win32"===process.platform&&(n=n.replace(/\\/g,"/")),n}function f(t,e){return!!t.ignore.length&&t.ignore.some((function(t){return t.matcher.match(e)||!(!t.gmatcher||!t.gmatcher.match(e))}))}},function(t,e){t.exports=function t(e,n){if(e&&n)return t(e)(n);if("function"!=typeof e)throw new TypeError("need wrapper function");return Object.keys(e).forEach((function(t){r[t]=e[t]})),r;function r(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];var r=e.apply(this,t),i=t[t.length-1];return"function"==typeof r&&r!==i&&Object.keys(i).forEach((function(t){r[t]=i[t]})),r}}},function(t,e,n){var r=n(71);function i(t){var e=function(){return e.called?e.value:(e.called=!0,e.value=t.apply(this,arguments))};return e.called=!1,e}function o(t){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=t.apply(this,arguments)},n=t.name||"Function wrapped with `once`";return e.onceError=n+" shouldn't be called more than once",e.called=!1,e}t.exports=r(i),t.exports.strict=r(o),i.proto=i((function(){Object.defineProperty(Function.prototype,"once",{value:function(){return i(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return o(this)},configurable:!0})}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.changePermissions=e.downloadFile=e.getPath=void 0;var r=n(8),i=c(r),o=c(n(2)),s=c(n(0)),a=c(n(171));function c(t){return t&&t.__esModule?t:{default:t}}e.getPath=function(){var t=(r.remote||i.default).app.getPath("userData");return s.default.resolve(t+"/extensions")};var u=(r.remote||i.default).net,l=u?u.request:a.default.get;e.downloadFile=function t(e,n){return new Promise((function(r,i){var s=l(e);s.on("response",(function(e){if(e.statusCode>=300&&e.statusCode<400&&e.headers.location)return t(e.headers.location,n).then(r).catch(i);e.pipe(o.default.createWriteStream(n)).on("close",r)})),s.on("error",i),s.end()}))},e.changePermissions=function t(e,n){o.default.readdirSync(e).forEach((function(r){var i=s.default.join(e,r);o.default.chmodSync(i,parseInt(n,8)),o.default.statSync(i).isDirectory()&&t(i,n)}))}},function(t,e,n){const{app:r,Menu:i,ipcMain:o,dialog:s,protocol:a,Tray:c}=n(8),u=n(75),l=n(0),{BrowserWindow:h}=n(8),f=n(76),{autoUpdater:p}=n(9),{default:d,REACT_DEVELOPER_TOOLS:m,REDUX_DEVTOOLS:g}=n(156);let y,v,E;r.allowRendererProcessReuse=!0;let w=!1;const b=""+l.join(__dirname,"../electron/public/icon.png");r.whenReady().then(()=>{!function(){y=new h({width:1010,height:716,minWidth:800,minHeight:600,autoHideMenuBar:!1,fullscreen:!1,webPreferences:{nodeIntegration:!0,webviewTag:!0}}),y.loadURL(u?"http://localhost:3000":"file://"+l.join(__dirname,"../build/index.html")),u&&y.openDevTools(),u&&d(m).then(t=>console.log("Added Extension REDUX_DEVTOOLS:  "+t)).catch(t=>console.log("An error occurred: ",t)),u&&d(g).then(t=>console.log("Added Extension REDUX_DEVTOOLS:  "+t)).catch(t=>console.log("An error occurred: ",t)),y.once("ready-to-show",()=>{console.error("end notice"),p.checkForUpdatesAndNotify()});const t=[{label:"显示主页面",click:function(){y.show()}},{label:"退出",click:function(){r.quit()}}];y.on("closed",()=>{console.log("closed"),y=null}),y.on("close",t=>{console.log("close"),w?(y=null,v=null):(y.hide(),y.setSkipTaskbar(!0),t.preventDefault())}),y.webContents.once("did-finish-load",()=>{y.setMenuBarVisibility(!1)}),E=new c(b);const e=i.buildFromTemplate(t);E.setToolTip("我的托盘图标"),E.setContextMenu(e),E.on("click",()=>{y.isVisible()?y.hide():y.show(),y.isVisible()?y.setSkipTaskbar(!1):y.setSkipTaskbar(!0)}),f.updateHandle(y)}(),function(){v=new h({title:"打印",show:!1,width:800,height:600,webPreferences:{nodeIntegration:!0}});const t="file://"+l.join(__dirname,"../electron/print/print.html");v.loadURL(t),f.initPrintEvent(v,y,t)}()}),r.on("window-all-closed",()=>{console.log("window-all-closed"),console.log("process.platform",process.platform),"darwin"!==process.platform&&(console.log("quit"),r.quit())}),r.on("before-quit",()=>{console.log("before-quit"),w=!0}),r.on("activate",()=>{y.show()})},function(t,e,n){"use strict";const r=n(8);if("string"==typeof r)throw new TypeError("Not running in an Electron environment!");const i=r.app||r.remote.app,o="ELECTRON_IS_DEV"in process.env,s=1===parseInt(process.env.ELECTRON_IS_DEV,10);t.exports=o?s:!i.isPackaged},function(t,e,n){const{autoUpdater:r}=n(9),{ipcMain:i}=n(8);function o(t,e){e.webContents.send("message",t)}t.exports={updateHandle:function(t){r.on("error",(function(t){o("检查更新出错"+t)})),r.on("checking-for-update",(function(){o("正在检查更新…")})),r.on("update-available",(function(t){o("检测到新版本，正在下载…")})),r.on("update-not-available",(function(t){o("现在使用的已经是最新版本")})),r.on("download-progress",(function(e){t.webContents.send("downloadProgress",e)})),r.on("update-downloaded",(function(e,n,o,s,a,c){i.on("updateNow",(t,e)=>{console.log("开始更新"),r.quitAndInstall()}),t.webContents.send("isUpdateNow")})),i.on("checkForUpdate",()=>{r.checkForUpdatesAndNotify()})},initPrintEvent:function(t,e,n){i.on("print-start",(e,n)=>{console.log("print-start"),t.webContents.send("print-edit",n)}),i.on("getPrinters",()=>{console.log("received getPrinters msg");const r=t.webContents.getPrinters();e.send("printerList",{printers:r,url:n})}),i.on("tagPrint",(n,r)=>{const i=t.webContents.getPrinters();console.log("printers：",i),i.forEach(n=>{n.name===r&&0!==n.status?(e.send("print-error",r+"打印机异常"),t.webContents.print({silent:!1,printBackground:!1,deviceName:""},t=>{console.log("回调",t)})):n.name!==r||n.status||(console.log(n.status+"-"+r),t.webContents.print({silent:!0,printBackground:!1,deviceName:n.name},(t,e)=>{t&&console.log("print success"),"cancelled"===e&&console.log("print cancelled"),"failed"===e&&console.log("print failed")}))})})}}},function(t,e,n){"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?t.exports=n(78):t.exports=n(80)},function(t,e,n){e.formatArgs=function(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;e.splice(1,0,n,"color: inherit");let r=0,i=0;e[0].replace(/%[a-zA-Z%]/g,t=>{"%%"!==t&&(r++,"%c"===t&&(i=r))}),e.splice(i,0,n)},e.save=function(t){try{t?e.storage.setItem("debug",t):e.storage.removeItem("debug")}catch(t){}},e.load=function(){let t;try{t=e.storage.getItem("debug")}catch(t){}!t&&"undefined"!=typeof process&&"env"in process&&(t=process.env.DEBUG);return t},e.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch(t){}}(),e.destroy=(()=>{let t=!1;return()=>{t||(t=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),t.exports=n(49)(e);const{formatters:r}=t.exports;r.j=function(t){try{return JSON.stringify(t)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}},function(t,e){var n=1e3,r=6e4,i=60*r,o=24*i;function s(t,e,n,r){var i=e>=1.5*n;return Math.round(t/n)+" "+r+(i?"s":"")}t.exports=function(t,e){e=e||{};var a=typeof t;if("string"===a&&t.length>0)return function(t){if((t=String(t)).length>100)return;var e=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(t);if(!e)return;var s=parseFloat(e[1]);switch((e[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*i;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(t);if("number"===a&&isFinite(t))return e.long?function(t){var e=Math.abs(t);if(e>=o)return s(t,e,o,"day");if(e>=i)return s(t,e,i,"hour");if(e>=r)return s(t,e,r,"minute");if(e>=n)return s(t,e,n,"second");return t+" ms"}(t):function(t){var e=Math.abs(t);if(e>=o)return Math.round(t/o)+"d";if(e>=i)return Math.round(t/i)+"h";if(e>=r)return Math.round(t/r)+"m";if(e>=n)return Math.round(t/n)+"s";return t+"ms"}(t);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(t))}},function(t,e,n){const r=n(81),i=n(15);e.init=function(t){t.inspectOpts={};const n=Object.keys(e.inspectOpts);for(let r=0;r<n.length;r++)t.inspectOpts[n[r]]=e.inspectOpts[n[r]]},e.log=function(...t){return process.stderr.write(i.format(...t)+"\n")},e.formatArgs=function(n){const{namespace:r,useColors:i}=this;if(i){const e=this.color,i="[3"+(e<8?e:"8;5;"+e),o=`  ${i};1m${r} [0m`;n[0]=o+n[0].split("\n").join("\n"+o),n.push(i+"m+"+t.exports.humanize(this.diff)+"[0m")}else n[0]=function(){if(e.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+r+" "+n[0]},e.save=function(t){t?process.env.DEBUG=t:delete process.env.DEBUG},e.load=function(){return process.env.DEBUG},e.useColors=function(){return"colors"in e.inspectOpts?Boolean(e.inspectOpts.colors):r.isatty(process.stderr.fd)},e.destroy=i.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),e.colors=[6,2,3,4,5,1];try{const t=n(82);t&&(t.stderr||t).level>=2&&(e.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(t){}e.inspectOpts=Object.keys(process.env).filter(t=>/^debug_/i.test(t)).reduce((t,e)=>{const n=e.substring(6).toLowerCase().replace(/_([a-z])/g,(t,e)=>e.toUpperCase());let r=process.env[e];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),t[n]=r,t},{}),t.exports=n(49)(e);const{formatters:o}=t.exports;o.o=function(t){return this.inspectOpts.colors=this.useColors,i.inspect(t,this.inspectOpts).split("\n").map(t=>t.trim()).join(" ")},o.O=function(t){return this.inspectOpts.colors=this.useColors,i.inspect(t,this.inspectOpts)}},function(t,e){t.exports=require("tty")},function(t,e,n){"use strict";const r=n(33),i=n(83),o=process.env;let s;function a(t){return function(t){return 0!==t&&{level:t,hasBasic:!0,has256:t>=2,has16m:t>=3}}(function(t){if(!1===s)return 0;if(i("color=16m")||i("color=full")||i("color=truecolor"))return 3;if(i("color=256"))return 2;if(t&&!t.isTTY&&!0!==s)return 0;const e=s?1:0;if("win32"===process.platform){const t=r.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(t[0])>=10&&Number(t[2])>=10586?Number(t[2])>=14931?3:2:1}if("CI"in o)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(t=>t in o)||"codeship"===o.CI_NAME?1:e;if("TEAMCITY_VERSION"in o)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(o.TEAMCITY_VERSION)?1:0;if("truecolor"===o.COLORTERM)return 3;if("TERM_PROGRAM"in o){const t=parseInt((o.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(o.TERM_PROGRAM){case"iTerm.app":return t>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(o.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(o.TERM)||"COLORTERM"in o?1:(o.TERM,e)}(t))}i("no-color")||i("no-colors")||i("color=false")?s=!1:(i("color")||i("colors")||i("color=true")||i("color=always"))&&(s=!0),"FORCE_COLOR"in o&&(s=0===o.FORCE_COLOR.length||0!==parseInt(o.FORCE_COLOR,10)),t.exports={supportsColor:a,stdout:a(process.stdout),stderr:a(process.stderr)}},function(t,e,n){"use strict";t.exports=(t,e)=>{e=e||process.argv;const n=t.startsWith("-")?"":1===t.length?"-":"--",r=e.indexOf(n+t),i=e.indexOf("--");return-1!==r&&(-1===i||r<i)}},function(t,e,n){"use strict";function r(t,e){return null!=e&&e.length>0&&(e.startsWith("/")||(t+="/"),t+=e),t}Object.defineProperty(e,"__esModule",{value:!0}),e.githubUrl=function(t,e="github.com"){return`${t.protocol||"https"}://${t.host||e}`},e.getS3LikeProviderBaseUrl=function(t){const e=t.provider;if("s3"===e)return function(t){let e;if(null!=t.endpoint)e=`${t.endpoint}/${t.bucket}`;else if(t.bucket.includes(".")){if(null==t.region)throw new Error(`Bucket name "${t.bucket}" includes a dot, but S3 region is missing`);e="us-east-1"===t.region?"https://s3.amazonaws.com/"+t.bucket:`https://s3-${t.region}.amazonaws.com/${t.bucket}`}else e="cn-north-1"===t.region?`https://${t.bucket}.s3.${t.region}.amazonaws.com.cn`:`https://${t.bucket}.s3.amazonaws.com`;return r(e,t.path)}(t);if("spaces"===e)return function(t){if(null==t.name)throw new Error("name is missing");if(null==t.region)throw new Error("region is missing");return r(`https://${t.name}.${t.region}.digitaloceanspaces.com`,t.path)}(t);throw new Error("Not supported provider: "+e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseDn=function(t){let e=!1,n=null,r="",i=0;t=t.trim();const o=new Map;for(let s=0;s<=t.length;s++){if(s===t.length){null!==n&&o.set(n,r);break}const a=t[s];if(e){if('"'===a){e=!1;continue}}else{if('"'===a){e=!0;continue}if("\\"===a){s++;const e=parseInt(t.slice(s,s+2),16);Number.isNaN(e)?r+=t[s]:(s++,r+=String.fromCharCode(e));continue}if(null===n&&"="===a){n=r,r="";continue}if(","===a||";"===a||"+"===a){null!==n&&o.set(n,r),n=null,r="";continue}}if(" "===a&&!e){if(0===r.length)continue;if(s>i){let e=s;for(;" "===t[e];)e++;i=e}if(i>=t.length||","===t[i]||";"===t[i]||null===n&&"="===t[i]||null!==n&&"+"===t[i]){s=i-1;continue}}r+=a}return o}},function(t,e,n){"use strict";function r(){const t=n(20);return r=function(){return t},t}function i(){const t=n(1);return i=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.nil=e.UUID=void 0;const o=(0,r().randomBytes)(16);o[0]=1|o[0];const s={},a=[];for(let t=0;t<256;t++){const e=(t+256).toString(16).substr(1);s[e]=t,a[t]=e}class c{constructor(t){this.ascii=null,this.binary=null;const e=c.check(t);if(!e)throw new Error("not a UUID");this.version=e.version,"ascii"===e.format?this.ascii=t:this.binary=t}static v5(t,e){return function(t,e,n,o,s=l.ASCII){const u=(0,r().createHash)(e);if("string"!=typeof t&&!Buffer.isBuffer(t))throw(0,i().newError)("options.name must be either a string or a Buffer","ERR_INVALID_UUID_NAME");u.update(o),u.update(t);const h=u.digest();let f;switch(s){case l.BINARY:h[6]=15&h[6]|n,h[8]=63&h[8]|128,f=h;break;case l.OBJECT:h[6]=15&h[6]|n,h[8]=63&h[8]|128,f=new c(h);break;default:f=a[h[0]]+a[h[1]]+a[h[2]]+a[h[3]]+"-"+a[h[4]]+a[h[5]]+"-"+a[15&h[6]|n]+a[h[7]]+"-"+a[63&h[8]|128]+a[h[9]]+"-"+a[h[10]]+a[h[11]]+a[h[12]]+a[h[13]]+a[h[14]]+a[h[15]]}return f}(t,"sha1",80,e)}toString(){var t;return null==this.ascii&&(this.ascii=(t=this.binary,a[t[0]]+a[t[1]]+a[t[2]]+a[t[3]]+"-"+a[t[4]]+a[t[5]]+"-"+a[t[6]]+a[t[7]]+"-"+a[t[8]]+a[t[9]]+"-"+a[t[10]]+a[t[11]]+a[t[12]]+a[t[13]]+a[t[14]]+a[t[15]])),this.ascii}inspect(){return`UUID v${this.version} ${this.toString()}`}static check(t,e=0){if("string"==typeof t)return t=t.toLowerCase(),!!/^[a-f0-9]{8}(-[a-f0-9]{4}){3}-([a-f0-9]{12})$/.test(t)&&("00000000-0000-0000-0000-000000000000"===t?{version:void 0,variant:"nil",format:"ascii"}:{version:(240&s[t[14]+t[15]])>>4,variant:u((224&s[t[19]+t[20]])>>5),format:"ascii"});if(Buffer.isBuffer(t)){if(t.length<e+16)return!1;let n=0;for(;n<16&&0===t[e+n];n++);return 16===n?{version:void 0,variant:"nil",format:"binary"}:{version:(240&t[e+6])>>4,variant:u((224&t[e+8])>>5),format:"binary"}}throw(0,i().newError)("Unknown type of uuid","ERR_UNKNOWN_UUID_TYPE")}static parse(t){const e=Buffer.allocUnsafe(16);let n=0;for(let r=0;r<16;r++)e[r]=s[t[n++]+t[n++]],3!==r&&5!==r&&7!==r&&9!==r||(n+=1);return e}}function u(t){switch(t){case 0:case 1:case 3:return"ncs";case 4:case 5:return"rfc4122";case 6:return"microsoft";default:return"future"}}var l;e.UUID=c,c.OID=c.parse("6ba7b812-9dad-11d1-80b4-00c04fd430c8"),function(t){t[t.ASCII=0]="ASCII",t[t.BINARY=1]="BINARY",t[t.OBJECT=2]="OBJECT"}(l||(l={}));const h=new c("00000000-0000-0000-0000-000000000000");e.nil=h},function(t,e,n){"use strict";function r(){const t=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=o();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=r?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=t[i]}n.default=t,e&&e.set(t,n);return n}(n(88));return r=function(){return t},t}function i(){const t=n(1);return i=function(){return t},t}function o(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.parseXml=function(t){let e=null;const n=r().parser(!0,{}),i=[];return n.onopentag=t=>{const n=new s(t.name);if(n.attributes=t.attributes,null===e)e=n;else{const t=i[i.length-1];null==t.elements&&(t.elements=[]),t.elements.push(n)}i.push(n)},n.onclosetag=()=>{i.pop()},n.ontext=t=>{i.length>0&&(i[i.length-1].value=t)},n.oncdata=t=>{const e=i[i.length-1];e.value=t,e.isCData=!0},n.onerror=t=>{throw t},n.write(t),e},e.XElement=void 0;class s{constructor(t){if(this.name=t,this.value="",this.attributes=null,this.isCData=!1,this.elements=null,!t)throw(0,i().newError)("Element name cannot be empty","ERR_XML_ELEMENT_NAME_EMPTY");if(!function(t){return a.test(t)}(t))throw(0,i().newError)("Invalid element name: "+t,"ERR_XML_ELEMENT_INVALID_NAME")}attribute(t){const e=null===this.attributes?null:this.attributes[t];if(null==e)throw(0,i().newError)(`No attribute "${t}"`,"ERR_XML_MISSED_ATTRIBUTE");return e}removeAttribute(t){null!==this.attributes&&delete this.attributes[t]}element(t,e=!1,n=null){const r=this.elementOrNull(t,e);if(null===r)throw(0,i().newError)(n||`No element "${t}"`,"ERR_XML_MISSED_ELEMENT");return r}elementOrNull(t,e=!1){if(null===this.elements)return null;for(const n of this.elements)if(c(n,t,e))return n;return null}getElements(t,e=!1){return null===this.elements?[]:this.elements.filter(n=>c(n,t,e))}elementValueOrEmpty(t,e=!1){const n=this.elementOrNull(t,e);return null===n?"":n.value}}e.XElement=s;const a=new RegExp(/^[A-Za-z_][:A-Za-z0-9_-]*$/i);function c(t,e,n){const r=t.name;return r===e||!0===n&&r.length===e.length&&r.toLowerCase()===e.toLowerCase()}},function(t,e,n){!function(t){t.parser=function(t,e){return new i(t,e)},t.SAXParser=i,t.SAXStream=s,t.createStream=function(t,e){return new s(t,e)},t.MAX_BUFFER_LENGTH=65536;var e,r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function i(e,n){if(!(this instanceof i))return new i(e,n);!function(t){for(var e=0,n=r.length;e<n;e++)t[r[e]]=""}(this),this.q=this.c="",this.bufferCheckPosition=t.MAX_BUFFER_LENGTH,this.opt=n||{},this.opt.lowercase=this.opt.lowercase||this.opt.lowercasetags,this.looseCase=this.opt.lowercase?"toLowerCase":"toUpperCase",this.tags=[],this.closed=this.closedRoot=this.sawRoot=!1,this.tag=this.error=null,this.strict=!!e,this.noscript=!(!e&&!this.opt.noscript),this.state=b.BEGIN,this.strictEntities=this.opt.strictEntities,this.ENTITIES=this.strictEntities?Object.create(t.XML_ENTITIES):Object.create(t.ENTITIES),this.attribList=[],this.opt.xmlns&&(this.ns=Object.create(c)),this.trackPosition=!1!==this.opt.position,this.trackPosition&&(this.position=this.line=this.column=0),O(this,"onready")}t.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(t){function e(){}return e.prototype=t,new e}),Object.keys||(Object.keys=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}),i.prototype={end:function(){I(this)},write:function(e){if(this.error)throw this.error;if(this.closed)return N(this,"Cannot write after close. Assign an onready handler.");if(null===e)return I(this);"object"==typeof e&&(e=e.toString());var n=0,i="";for(;i=j(e,n++),this.c=i,i;)switch(this.trackPosition&&(this.position++,"\n"===i?(this.line++,this.column=0):this.column++),this.state){case b.BEGIN:if(this.state=b.BEGIN_WHITESPACE,"\ufeff"===i)continue;F(this,i);continue;case b.BEGIN_WHITESPACE:F(this,i);continue;case b.TEXT:if(this.sawRoot&&!this.closedRoot){for(var o=n-1;i&&"<"!==i&&"&"!==i;)(i=j(e,n++))&&this.trackPosition&&(this.position++,"\n"===i?(this.line++,this.column=0):this.column++);this.textNode+=e.substring(o,n-1)}"<"!==i||this.sawRoot&&this.closedRoot&&!this.strict?(p(i)||this.sawRoot&&!this.closedRoot||C(this,"Text data outside of root node."),"&"===i?this.state=b.TEXT_ENTITY:this.textNode+=i):(this.state=b.OPEN_WAKA,this.startTagPosition=this.position);continue;case b.SCRIPT:"<"===i?this.state=b.SCRIPT_ENDING:this.script+=i;continue;case b.SCRIPT_ENDING:"/"===i?this.state=b.CLOSE_TAG:(this.script+="<"+i,this.state=b.SCRIPT);continue;case b.OPEN_WAKA:if("!"===i)this.state=b.SGML_DECL,this.sgmlDecl="";else if(p(i));else if(g(u,i))this.state=b.OPEN_TAG,this.tagName=i;else if("/"===i)this.state=b.CLOSE_TAG,this.tagName="";else if("?"===i)this.state=b.PROC_INST,this.procInstName=this.procInstBody="";else{if(C(this,"Unencoded <"),this.startTagPosition+1<this.position){var s=this.position-this.startTagPosition;i=new Array(s).join(" ")+i}this.textNode+="<"+i,this.state=b.TEXT}continue;case b.SGML_DECL:"[CDATA["===(this.sgmlDecl+i).toUpperCase()?(A(this,"onopencdata"),this.state=b.CDATA,this.sgmlDecl="",this.cdata=""):this.sgmlDecl+i==="--"?(this.state=b.COMMENT,this.comment="",this.sgmlDecl=""):"DOCTYPE"===(this.sgmlDecl+i).toUpperCase()?(this.state=b.DOCTYPE,(this.doctype||this.sawRoot)&&C(this,"Inappropriately located doctype declaration"),this.doctype="",this.sgmlDecl=""):">"===i?(A(this,"onsgmldeclaration",this.sgmlDecl),this.sgmlDecl="",this.state=b.TEXT):d(i)?(this.state=b.SGML_DECL_QUOTED,this.sgmlDecl+=i):this.sgmlDecl+=i;continue;case b.SGML_DECL_QUOTED:i===this.q&&(this.state=b.SGML_DECL,this.q=""),this.sgmlDecl+=i;continue;case b.DOCTYPE:">"===i?(this.state=b.TEXT,A(this,"ondoctype",this.doctype),this.doctype=!0):(this.doctype+=i,"["===i?this.state=b.DOCTYPE_DTD:d(i)&&(this.state=b.DOCTYPE_QUOTED,this.q=i));continue;case b.DOCTYPE_QUOTED:this.doctype+=i,i===this.q&&(this.q="",this.state=b.DOCTYPE);continue;case b.DOCTYPE_DTD:this.doctype+=i,"]"===i?this.state=b.DOCTYPE:d(i)&&(this.state=b.DOCTYPE_DTD_QUOTED,this.q=i);continue;case b.DOCTYPE_DTD_QUOTED:this.doctype+=i,i===this.q&&(this.state=b.DOCTYPE_DTD,this.q="");continue;case b.COMMENT:"-"===i?this.state=b.COMMENT_ENDING:this.comment+=i;continue;case b.COMMENT_ENDING:"-"===i?(this.state=b.COMMENT_ENDED,this.comment=S(this.opt,this.comment),this.comment&&A(this,"oncomment",this.comment),this.comment=""):(this.comment+="-"+i,this.state=b.COMMENT);continue;case b.COMMENT_ENDED:">"!==i?(C(this,"Malformed comment"),this.comment+="--"+i,this.state=b.COMMENT):this.state=b.TEXT;continue;case b.CDATA:"]"===i?this.state=b.CDATA_ENDING:this.cdata+=i;continue;case b.CDATA_ENDING:"]"===i?this.state=b.CDATA_ENDING_2:(this.cdata+="]"+i,this.state=b.CDATA);continue;case b.CDATA_ENDING_2:">"===i?(this.cdata&&A(this,"oncdata",this.cdata),A(this,"onclosecdata"),this.cdata="",this.state=b.TEXT):"]"===i?this.cdata+="]":(this.cdata+="]]"+i,this.state=b.CDATA);continue;case b.PROC_INST:"?"===i?this.state=b.PROC_INST_ENDING:p(i)?this.state=b.PROC_INST_BODY:this.procInstName+=i;continue;case b.PROC_INST_BODY:if(!this.procInstBody&&p(i))continue;"?"===i?this.state=b.PROC_INST_ENDING:this.procInstBody+=i;continue;case b.PROC_INST_ENDING:">"===i?(A(this,"onprocessinginstruction",{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody="",this.state=b.TEXT):(this.procInstBody+="?"+i,this.state=b.PROC_INST_BODY);continue;case b.OPEN_TAG:g(l,i)?this.tagName+=i:(R(this),">"===i?D(this):"/"===i?this.state=b.OPEN_TAG_SLASH:(p(i)||C(this,"Invalid character in tag name"),this.state=b.ATTRIB));continue;case b.OPEN_TAG_SLASH:">"===i?(D(this,!0),x(this)):(C(this,"Forward-slash in opening tag not followed by >"),this.state=b.ATTRIB);continue;case b.ATTRIB:if(p(i))continue;">"===i?D(this):"/"===i?this.state=b.OPEN_TAG_SLASH:g(u,i)?(this.attribName=i,this.attribValue="",this.state=b.ATTRIB_NAME):C(this,"Invalid attribute name");continue;case b.ATTRIB_NAME:"="===i?this.state=b.ATTRIB_VALUE:">"===i?(C(this,"Attribute without value"),this.attribValue=this.attribName,k(this),D(this)):p(i)?this.state=b.ATTRIB_NAME_SAW_WHITE:g(l,i)?this.attribName+=i:C(this,"Invalid attribute name");continue;case b.ATTRIB_NAME_SAW_WHITE:if("="===i)this.state=b.ATTRIB_VALUE;else{if(p(i))continue;C(this,"Attribute without value"),this.tag.attributes[this.attribName]="",this.attribValue="",A(this,"onattribute",{name:this.attribName,value:""}),this.attribName="",">"===i?D(this):g(u,i)?(this.attribName=i,this.state=b.ATTRIB_NAME):(C(this,"Invalid attribute name"),this.state=b.ATTRIB)}continue;case b.ATTRIB_VALUE:if(p(i))continue;d(i)?(this.q=i,this.state=b.ATTRIB_VALUE_QUOTED):(C(this,"Unquoted attribute value"),this.state=b.ATTRIB_VALUE_UNQUOTED,this.attribValue=i);continue;case b.ATTRIB_VALUE_QUOTED:if(i!==this.q){"&"===i?this.state=b.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=i;continue}k(this),this.q="",this.state=b.ATTRIB_VALUE_CLOSED;continue;case b.ATTRIB_VALUE_CLOSED:p(i)?this.state=b.ATTRIB:">"===i?D(this):"/"===i?this.state=b.OPEN_TAG_SLASH:g(u,i)?(C(this,"No whitespace between attributes"),this.attribName=i,this.attribValue="",this.state=b.ATTRIB_NAME):C(this,"Invalid attribute name");continue;case b.ATTRIB_VALUE_UNQUOTED:if(!m(i)){"&"===i?this.state=b.ATTRIB_VALUE_ENTITY_U:this.attribValue+=i;continue}k(this),">"===i?D(this):this.state=b.ATTRIB;continue;case b.CLOSE_TAG:if(this.tagName)">"===i?x(this):g(l,i)?this.tagName+=i:this.script?(this.script+="</"+this.tagName,this.tagName="",this.state=b.SCRIPT):(p(i)||C(this,"Invalid tagname in closing tag"),this.state=b.CLOSE_TAG_SAW_WHITE);else{if(p(i))continue;y(u,i)?this.script?(this.script+="</"+i,this.state=b.SCRIPT):C(this,"Invalid tagname in closing tag."):this.tagName=i}continue;case b.CLOSE_TAG_SAW_WHITE:if(p(i))continue;">"===i?x(this):C(this,"Invalid characters in closing tag");continue;case b.TEXT_ENTITY:case b.ATTRIB_VALUE_ENTITY_Q:case b.ATTRIB_VALUE_ENTITY_U:var a,c;switch(this.state){case b.TEXT_ENTITY:a=b.TEXT,c="textNode";break;case b.ATTRIB_VALUE_ENTITY_Q:a=b.ATTRIB_VALUE_QUOTED,c="attribValue";break;case b.ATTRIB_VALUE_ENTITY_U:a=b.ATTRIB_VALUE_UNQUOTED,c="attribValue"}";"===i?(this[c]+=L(this),this.entity="",this.state=a):g(this.entity.length?f:h,i)?this.entity+=i:(C(this,"Invalid character in entity name"),this[c]+="&"+this.entity+i,this.entity="",this.state=a);continue;default:throw new Error(this,"Unknown state: "+this.state)}this.position>=this.bufferCheckPosition&&function(e){for(var n=Math.max(t.MAX_BUFFER_LENGTH,10),i=0,o=0,s=r.length;o<s;o++){var a=e[r[o]].length;if(a>n)switch(r[o]){case"textNode":T(e);break;case"cdata":A(e,"oncdata",e.cdata),e.cdata="";break;case"script":A(e,"onscript",e.script),e.script="";break;default:N(e,"Max buffer length exceeded: "+r[o])}i=Math.max(i,a)}var c=t.MAX_BUFFER_LENGTH-i;e.bufferCheckPosition=c+e.position}(this);return this}
/*! http://mths.be/fromcodepoint v0.1.0 by @mathias */,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var t;T(t=this),""!==t.cdata&&(A(t,"oncdata",t.cdata),t.cdata=""),""!==t.script&&(A(t,"onscript",t.script),t.script="")}};try{e=n(16).Stream}catch(t){e=function(){}}var o=t.EVENTS.filter((function(t){return"error"!==t&&"end"!==t}));function s(t,n){if(!(this instanceof s))return new s(t,n);e.apply(this),this._parser=new i(t,n),this.writable=!0,this.readable=!0;var r=this;this._parser.onend=function(){r.emit("end")},this._parser.onerror=function(t){r.emit("error",t),r._parser.error=null},this._decoder=null,o.forEach((function(t){Object.defineProperty(r,"on"+t,{get:function(){return r._parser["on"+t]},set:function(e){if(!e)return r.removeAllListeners(t),r._parser["on"+t]=e,e;r.on(t,e)},enumerable:!0,configurable:!1})}))}s.prototype=Object.create(e.prototype,{constructor:{value:s}}),s.prototype.write=function(t){if("function"==typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(t)){if(!this._decoder){var e=n(89).StringDecoder;this._decoder=new e("utf8")}t=this._decoder.write(t)}return this._parser.write(t.toString()),this.emit("data",t),!0},s.prototype.end=function(t){return t&&t.length&&this.write(t),this._parser.end(),!0},s.prototype.on=function(t,n){var r=this;return r._parser["on"+t]||-1===o.indexOf(t)||(r._parser["on"+t]=function(){var e=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);e.splice(0,0,t),r.emit.apply(r,e)}),e.prototype.on.call(r,t,n)};var a="http://www.w3.org/XML/1998/namespace",c={xml:a,xmlns:"http://www.w3.org/2000/xmlns/"},u=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,l=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,h=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,f=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function p(t){return" "===t||"\n"===t||"\r"===t||"\t"===t}function d(t){return'"'===t||"'"===t}function m(t){return">"===t||p(t)}function g(t,e){return t.test(e)}function y(t,e){return!g(t,e)}var v,E,w,b=0;for(var _ in t.STATE={BEGIN:b++,BEGIN_WHITESPACE:b++,TEXT:b++,TEXT_ENTITY:b++,OPEN_WAKA:b++,SGML_DECL:b++,SGML_DECL_QUOTED:b++,DOCTYPE:b++,DOCTYPE_QUOTED:b++,DOCTYPE_DTD:b++,DOCTYPE_DTD_QUOTED:b++,COMMENT_STARTING:b++,COMMENT:b++,COMMENT_ENDING:b++,COMMENT_ENDED:b++,CDATA:b++,CDATA_ENDING:b++,CDATA_ENDING_2:b++,PROC_INST:b++,PROC_INST_BODY:b++,PROC_INST_ENDING:b++,OPEN_TAG:b++,OPEN_TAG_SLASH:b++,ATTRIB:b++,ATTRIB_NAME:b++,ATTRIB_NAME_SAW_WHITE:b++,ATTRIB_VALUE:b++,ATTRIB_VALUE_QUOTED:b++,ATTRIB_VALUE_CLOSED:b++,ATTRIB_VALUE_UNQUOTED:b++,ATTRIB_VALUE_ENTITY_Q:b++,ATTRIB_VALUE_ENTITY_U:b++,CLOSE_TAG:b++,CLOSE_TAG_SAW_WHITE:b++,SCRIPT:b++,SCRIPT_ENDING:b++},t.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},t.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(t.ENTITIES).forEach((function(e){var n=t.ENTITIES[e],r="number"==typeof n?String.fromCharCode(n):n;t.ENTITIES[e]=r})),t.STATE)t.STATE[t.STATE[_]]=_;function O(t,e,n){t[e]&&t[e](n)}function A(t,e,n){t.textNode&&T(t),O(t,e,n)}function T(t){t.textNode=S(t.opt,t.textNode),t.textNode&&O(t,"ontext",t.textNode),t.textNode=""}function S(t,e){return t.trim&&(e=e.trim()),t.normalize&&(e=e.replace(/\s+/g," ")),e}function N(t,e){return T(t),t.trackPosition&&(e+="\nLine: "+t.line+"\nColumn: "+t.column+"\nChar: "+t.c),e=new Error(e),t.error=e,O(t,"onerror",e),t}function I(t){return t.sawRoot&&!t.closedRoot&&C(t,"Unclosed root tag"),t.state!==b.BEGIN&&t.state!==b.BEGIN_WHITESPACE&&t.state!==b.TEXT&&N(t,"Unexpected end"),T(t),t.c="",t.closed=!0,O(t,"onend"),i.call(t,t.strict,t.opt),t}function C(t,e){if("object"!=typeof t||!(t instanceof i))throw new Error("bad call to strictFail");t.strict&&N(t,e)}function R(t){t.strict||(t.tagName=t.tagName[t.looseCase]());var e=t.tags[t.tags.length-1]||t,n=t.tag={name:t.tagName,attributes:{}};t.opt.xmlns&&(n.ns=e.ns),t.attribList.length=0,A(t,"onopentagstart",n)}function P(t,e){var n=t.indexOf(":")<0?["",t]:t.split(":"),r=n[0],i=n[1];return e&&"xmlns"===t&&(r="xmlns",i=""),{prefix:r,local:i}}function k(t){if(t.strict||(t.attribName=t.attribName[t.looseCase]()),-1!==t.attribList.indexOf(t.attribName)||t.tag.attributes.hasOwnProperty(t.attribName))t.attribName=t.attribValue="";else{if(t.opt.xmlns){var e=P(t.attribName,!0),n=e.prefix,r=e.local;if("xmlns"===n)if("xml"===r&&t.attribValue!==a)C(t,"xml: prefix must be bound to "+a+"\nActual: "+t.attribValue);else if("xmlns"===r&&"http://www.w3.org/2000/xmlns/"!==t.attribValue)C(t,"xmlns: prefix must be bound to http://www.w3.org/2000/xmlns/\nActual: "+t.attribValue);else{var i=t.tag,o=t.tags[t.tags.length-1]||t;i.ns===o.ns&&(i.ns=Object.create(o.ns)),i.ns[r]=t.attribValue}t.attribList.push([t.attribName,t.attribValue])}else t.tag.attributes[t.attribName]=t.attribValue,A(t,"onattribute",{name:t.attribName,value:t.attribValue});t.attribName=t.attribValue=""}}function D(t,e){if(t.opt.xmlns){var n=t.tag,r=P(t.tagName);n.prefix=r.prefix,n.local=r.local,n.uri=n.ns[r.prefix]||"",n.prefix&&!n.uri&&(C(t,"Unbound namespace prefix: "+JSON.stringify(t.tagName)),n.uri=r.prefix);var i=t.tags[t.tags.length-1]||t;n.ns&&i.ns!==n.ns&&Object.keys(n.ns).forEach((function(e){A(t,"onopennamespace",{prefix:e,uri:n.ns[e]})}));for(var o=0,s=t.attribList.length;o<s;o++){var a=t.attribList[o],c=a[0],u=a[1],l=P(c,!0),h=l.prefix,f=l.local,p=""===h?"":n.ns[h]||"",d={name:c,value:u,prefix:h,local:f,uri:p};h&&"xmlns"!==h&&!p&&(C(t,"Unbound namespace prefix: "+JSON.stringify(h)),d.uri=h),t.tag.attributes[c]=d,A(t,"onattribute",d)}t.attribList.length=0}t.tag.isSelfClosing=!!e,t.sawRoot=!0,t.tags.push(t.tag),A(t,"onopentag",t.tag),e||(t.noscript||"script"!==t.tagName.toLowerCase()?t.state=b.TEXT:t.state=b.SCRIPT,t.tag=null,t.tagName=""),t.attribName=t.attribValue="",t.attribList.length=0}function x(t){if(!t.tagName)return C(t,"Weird empty close tag."),t.textNode+="</>",void(t.state=b.TEXT);if(t.script){if("script"!==t.tagName)return t.script+="</"+t.tagName+">",t.tagName="",void(t.state=b.SCRIPT);A(t,"onscript",t.script),t.script=""}var e=t.tags.length,n=t.tagName;t.strict||(n=n[t.looseCase]());for(var r=n;e--;){if(t.tags[e].name===r)break;C(t,"Unexpected close tag")}if(e<0)return C(t,"Unmatched closing tag: "+t.tagName),t.textNode+="</"+t.tagName+">",void(t.state=b.TEXT);t.tagName=n;for(var i=t.tags.length;i-- >e;){var o=t.tag=t.tags.pop();t.tagName=t.tag.name,A(t,"onclosetag",t.tagName);var s={};for(var a in o.ns)s[a]=o.ns[a];var c=t.tags[t.tags.length-1]||t;t.opt.xmlns&&o.ns!==c.ns&&Object.keys(o.ns).forEach((function(e){var n=o.ns[e];A(t,"onclosenamespace",{prefix:e,uri:n})}))}0===e&&(t.closedRoot=!0),t.tagName=t.attribValue=t.attribName="",t.attribList.length=0,t.state=b.TEXT}function L(t){var e,n=t.entity,r=n.toLowerCase(),i="";return t.ENTITIES[n]?t.ENTITIES[n]:t.ENTITIES[r]?t.ENTITIES[r]:("#"===(n=r).charAt(0)&&("x"===n.charAt(1)?(n=n.slice(2),i=(e=parseInt(n,16)).toString(16)):(n=n.slice(1),i=(e=parseInt(n,10)).toString(10))),n=n.replace(/^0+/,""),isNaN(e)||i.toLowerCase()!==n?(C(t,"Invalid character entity"),"&"+t.entity+";"):String.fromCodePoint(e))}function F(t,e){"<"===e?(t.state=b.OPEN_WAKA,t.startTagPosition=t.position):p(e)||(C(t,"Non-whitespace before first tag."),t.textNode=e,t.state=b.TEXT)}function j(t,e){var n="";return e<t.length&&(n=t.charAt(e)),n}b=t.STATE,String.fromCodePoint||(v=String.fromCharCode,E=Math.floor,w=function(){var t,e,n=16384,r=[],i=-1,o=arguments.length;if(!o)return"";for(var s="";++i<o;){var a=Number(arguments[i]);if(!isFinite(a)||a<0||a>1114111||E(a)!==a)throw RangeError("Invalid code point: "+a);a<=65535?r.push(a):(t=55296+((a-=65536)>>10),e=a%1024+56320,r.push(t,e)),(i+1===o||r.length>n)&&(s+=v.apply(null,r),r.length=0)}return s},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:w,configurable:!0,writable:!0}):String.fromCodePoint=w)}(e)},function(t,e){t.exports=require("string_decoder")},function(t,e,n){var r=n(91),i=process.cwd,o=null,s=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return o||(o=i.call(process)),o};try{process.cwd()}catch(t){}if("function"==typeof process.chdir){var a=process.chdir;process.chdir=function(t){o=null,a.call(process,t)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,a)}t.exports=function(t){r.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(t){t.lchmod=function(e,n,i){t.open(e,r.O_WRONLY|r.O_SYMLINK,n,(function(e,r){e?i&&i(e):t.fchmod(r,n,(function(e){t.close(r,(function(t){i&&i(e||t)}))}))}))},t.lchmodSync=function(e,n){var i,o=t.openSync(e,r.O_WRONLY|r.O_SYMLINK,n),s=!0;try{i=t.fchmodSync(o,n),s=!1}finally{if(s)try{t.closeSync(o)}catch(t){}else t.closeSync(o)}return i}}(t);t.lutimes||function(t){r.hasOwnProperty("O_SYMLINK")?(t.lutimes=function(e,n,i,o){t.open(e,r.O_SYMLINK,(function(e,r){e?o&&o(e):t.futimes(r,n,i,(function(e){t.close(r,(function(t){o&&o(e||t)}))}))}))},t.lutimesSync=function(e,n,i){var o,s=t.openSync(e,r.O_SYMLINK),a=!0;try{o=t.futimesSync(s,n,i),a=!1}finally{if(a)try{t.closeSync(s)}catch(t){}else t.closeSync(s)}return o}):(t.lutimes=function(t,e,n,r){r&&process.nextTick(r)},t.lutimesSync=function(){})}(t);t.chown=o(t.chown),t.fchown=o(t.fchown),t.lchown=o(t.lchown),t.chmod=n(t.chmod),t.fchmod=n(t.fchmod),t.lchmod=n(t.lchmod),t.chownSync=a(t.chownSync),t.fchownSync=a(t.fchownSync),t.lchownSync=a(t.lchownSync),t.chmodSync=i(t.chmodSync),t.fchmodSync=i(t.fchmodSync),t.lchmodSync=i(t.lchmodSync),t.stat=c(t.stat),t.fstat=c(t.fstat),t.lstat=c(t.lstat),t.statSync=u(t.statSync),t.fstatSync=u(t.fstatSync),t.lstatSync=u(t.lstatSync),t.lchmod||(t.lchmod=function(t,e,n){n&&process.nextTick(n)},t.lchmodSync=function(){});t.lchown||(t.lchown=function(t,e,n,r){r&&process.nextTick(r)},t.lchownSync=function(){});"win32"===s&&(t.rename=(e=t.rename,function(n,r,i){var o=Date.now(),s=0;e(n,r,(function a(c){if(c&&("EACCES"===c.code||"EPERM"===c.code)&&Date.now()-o<6e4)return setTimeout((function(){t.stat(r,(function(t,o){t&&"ENOENT"===t.code?e(n,r,a):i(c)}))}),s),void(s<100&&(s+=10));i&&i(c)}))}));var e;function n(e){return e?function(n,r,i){return e.call(t,n,r,(function(t){l(t)&&(t=null),i&&i.apply(this,arguments)}))}:e}function i(e){return e?function(n,r){try{return e.call(t,n,r)}catch(t){if(!l(t))throw t}}:e}function o(e){return e?function(n,r,i,o){return e.call(t,n,r,i,(function(t){l(t)&&(t=null),o&&o.apply(this,arguments)}))}:e}function a(e){return e?function(n,r,i){try{return e.call(t,n,r,i)}catch(t){if(!l(t))throw t}}:e}function c(e){return e?function(n,r,i){function o(t,e){e&&(e.uid<0&&(e.uid+=4294967296),e.gid<0&&(e.gid+=4294967296)),i&&i.apply(this,arguments)}return"function"==typeof r&&(i=r,r=null),r?e.call(t,n,r,o):e.call(t,n,o)}:e}function u(e){return e?function(n,r){var i=r?e.call(t,n,r):e.call(t,n);return i.uid<0&&(i.uid+=4294967296),i.gid<0&&(i.gid+=4294967296),i}:e}function l(t){return!t||("ENOSYS"===t.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==t.code&&"EPERM"!==t.code))}t.read=function(e){function n(n,r,i,o,s,a){var c;if(a&&"function"==typeof a){var u=0;c=function(l,h,f){if(l&&"EAGAIN"===l.code&&u<10)return u++,e.call(t,n,r,i,o,s,c);a.apply(this,arguments)}}return e.call(t,n,r,i,o,s,c)}return Object.setPrototypeOf&&Object.setPrototypeOf(n,e),n}(t.read),t.readSync=(h=t.readSync,function(e,n,r,i,o){for(var s=0;;)try{return h.call(t,e,n,r,i,o)}catch(t){if("EAGAIN"===t.code&&s<10){s++;continue}throw t}});var h}},function(t,e){t.exports=require("constants")},function(t,e,n){var r=n(16).Stream;t.exports=function(t){return{ReadStream:function e(n,i){if(!(this instanceof e))return new e(n,i);r.call(this);var o=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,i=i||{};for(var s=Object.keys(i),a=0,c=s.length;a<c;a++){var u=s[a];this[u]=i[u]}this.encoding&&this.setEncoding(this.encoding);if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=1/0;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(null!==this.fd)return void process.nextTick((function(){o._read()}));t.open(this.path,this.flags,this.mode,(function(t,e){if(t)return o.emit("error",t),void(o.readable=!1);o.fd=e,o.emit("open",e),o._read()}))},WriteStream:function e(n,i){if(!(this instanceof e))return new e(n,i);r.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var o=Object.keys(i),s=0,a=o.length;s<a;s++){var c=o[s];this[c]=i[c]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}},function(t,e,n){"use strict";t.exports=function(t){if(null===t||"object"!=typeof t)return t;if(t instanceof Object)var e={__proto__:r(t)};else e=Object.create(null);return Object.getOwnPropertyNames(t).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e};var r=Object.getPrototypeOf||function(t){return t.__proto__}},function(t,e,n){"use strict";const r=n(3),i=n(0),o=n(10).mkdirsSync,s=n(53).utimesMillisSync,a=n(22);function c(t,e,n,o){if(!o.filter||o.filter(e,n))return function(t,e,n,o){const s=(o.dereference?r.statSync:r.lstatSync)(e);if(s.isDirectory())return function(t,e,n,i,o){if(!e)return function(t,e,n,i){return r.mkdirSync(n),h(e,n,i),l(n,t)}(t.mode,n,i,o);if(e&&!e.isDirectory())throw new Error(`Cannot overwrite non-directory '${i}' with directory '${n}'.`);return h(n,i,o)}(s,t,e,n,o);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return function(t,e,n,i,o){return e?function(t,e,n,i){if(i.overwrite)return r.unlinkSync(n),u(t,e,n,i);if(i.errorOnExist)throw new Error(`'${n}' already exists`)}(t,n,i,o):u(t,n,i,o)}(s,t,e,n,o);if(s.isSymbolicLink())return function(t,e,n,o){let s=r.readlinkSync(e);o.dereference&&(s=i.resolve(process.cwd(),s));if(t){let t;try{t=r.readlinkSync(n)}catch(t){if("EINVAL"===t.code||"UNKNOWN"===t.code)return r.symlinkSync(s,n);throw t}if(o.dereference&&(t=i.resolve(process.cwd(),t)),a.isSrcSubdir(s,t))throw new Error(`Cannot copy '${s}' to a subdirectory of itself, '${t}'.`);if(r.statSync(n).isDirectory()&&a.isSrcSubdir(t,s))throw new Error(`Cannot overwrite '${t}' with '${s}'.`);return function(t,e){return r.unlinkSync(e),r.symlinkSync(t,e)}(s,n)}return r.symlinkSync(s,n)}(t,e,n,o)}(t,e,n,o)}function u(t,e,n,i){return r.copyFileSync(e,n),i.preserveTimestamps&&function(t,e,n){(function(t){return 0==(128&t)})(t)&&function(t,e){l(t,128|e)}(n,t);(function(t,e){const n=r.statSync(t);s(e,n.atime,n.mtime)})(e,n)}(t.mode,e,n),l(n,t.mode)}function l(t,e){return r.chmodSync(t,e)}function h(t,e,n){r.readdirSync(t).forEach(r=>function(t,e,n,r){const o=i.join(e,t),s=i.join(n,t),{destStat:u}=a.checkPathsSync(o,s,"copy");return c(u,o,s,r)}(r,t,e,n))}t.exports=function(t,e,n){"function"==typeof n&&(n={filter:n}),(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269");const{srcStat:s,destStat:u}=a.checkPathsSync(t,e,"copy");return a.checkParentPathsSync(t,s,e,"copy"),function(t,e,n,s){if(s.filter&&!s.filter(e,n))return;const a=i.dirname(n);r.existsSync(a)||o(a);return c(t,e,n,s)}(u,t,e,n)}},function(t,e,n){"use strict";const r=n(21),i=n(0),o=n(52)("10.12.0"),s=t=>{if("win32"===process.platform){if(/[<>:"|?*]/.test(t.replace(i.parse(t).root,""))){const e=new Error("Path contains invalid characters: "+t);throw e.code="EINVAL",e}}},a=t=>("number"==typeof t&&(t={mode:t}),{mode:511,...t}),c=t=>{const e=new Error(`operation not permitted, mkdir '${t}'`);return e.code="EPERM",e.errno=-4048,e.path=t,e.syscall="mkdir",e};t.exports.makeDir=async(t,e)=>{if(s(t),e=a(e),o){const n=i.resolve(t);return r.mkdir(n,{mode:e.mode,recursive:!0})}const n=async t=>{try{await r.mkdir(t,e.mode)}catch(e){if("EPERM"===e.code)throw e;if("ENOENT"===e.code){if(i.dirname(t)===t)throw c(t);if(e.message.includes("null bytes"))throw e;return await n(i.dirname(t)),n(t)}try{if(!(await r.stat(t)).isDirectory())throw new Error("The path is not a directory")}catch{throw e}}};return n(i.resolve(t))},t.exports.makeDirSync=(t,e)=>{if(s(t),e=a(e),o){const n=i.resolve(t);return r.mkdirSync(n,{mode:e.mode,recursive:!0})}const n=t=>{try{r.mkdirSync(t,e.mode)}catch(e){if("EPERM"===e.code)throw e;if("ENOENT"===e.code){if(i.dirname(t)===t)throw c(t);if(e.message.includes("null bytes"))throw e;return n(i.dirname(t)),n(t)}try{if(!r.statSync(t).isDirectory())throw new Error("The path is not a directory")}catch{throw e}}};return n(i.resolve(t))}},function(t,e,n){"use strict";const r=n(3),i=n(0),o=n(10).mkdirs,s=n(14).pathExists,a=n(53).utimesMillis,c=n(22);function u(t,e,n,r,a){const c=i.dirname(n);s(c,(i,s)=>i?a(i):s?h(t,e,n,r,a):void o(c,i=>i?a(i):h(t,e,n,r,a)))}function l(t,e,n,r,i,o){Promise.resolve(i.filter(n,r)).then(s=>s?t(e,n,r,i,o):o(),t=>o(t))}function h(t,e,n,r,i){return r.filter?l(f,t,e,n,r,i):f(t,e,n,r,i)}function f(t,e,n,i,o){(i.dereference?r.stat:r.lstat)(e,(s,a)=>s?o(s):a.isDirectory()?function(t,e,n,i,o,s){if(!e)return function(t,e,n,i,o){r.mkdir(n,r=>{if(r)return o(r);g(e,n,i,e=>e?o(e):m(n,t,o))})}(t.mode,n,i,o,s);if(e&&!e.isDirectory())return s(new Error(`Cannot overwrite non-directory '${i}' with directory '${n}'.`));return g(n,i,o,s)}(a,t,e,n,i,o):a.isFile()||a.isCharacterDevice()||a.isBlockDevice()?function(t,e,n,i,o,s){return e?function(t,e,n,i,o){if(!i.overwrite)return i.errorOnExist?o(new Error(`'${n}' already exists`)):o();r.unlink(n,r=>r?o(r):p(t,e,n,i,o))}(t,n,i,o,s):p(t,n,i,o,s)}(a,t,e,n,i,o):a.isSymbolicLink()?v(t,e,n,i,o):void 0)}function p(t,e,n,i,o){r.copyFile(e,n,r=>r?o(r):i.preserveTimestamps?function(t,e,n,r){if(function(t){return 0==(128&t)}(t))return function(t,e,n){return m(t,128|e,n)}(n,t,i=>i?r(i):d(t,e,n,r));return d(t,e,n,r)}(t.mode,e,n,o):m(n,t.mode,o))}function d(t,e,n,i){!function(t,e,n){r.stat(t,(t,r)=>t?n(t):a(e,r.atime,r.mtime,n))}(e,n,e=>e?i(e):m(n,t,i))}function m(t,e,n){return r.chmod(t,e,n)}function g(t,e,n,i){r.readdir(t,(r,o)=>r?i(r):y(o,t,e,n,i))}function y(t,e,n,r,o){const s=t.pop();return s?function(t,e,n,r,o,s){const a=i.join(n,e),u=i.join(r,e);c.checkPaths(a,u,"copy",(e,i)=>{if(e)return s(e);const{destStat:c}=i;h(c,a,u,o,e=>e?s(e):y(t,n,r,o,s))})}(t,s,e,n,r,o):o()}function v(t,e,n,o,s){r.readlink(e,(e,a)=>e?s(e):(o.dereference&&(a=i.resolve(process.cwd(),a)),t?void r.readlink(n,(e,u)=>e?"EINVAL"===e.code||"UNKNOWN"===e.code?r.symlink(a,n,s):s(e):(o.dereference&&(u=i.resolve(process.cwd(),u)),c.isSrcSubdir(a,u)?s(new Error(`Cannot copy '${a}' to a subdirectory of itself, '${u}'.`)):t.isDirectory()&&c.isSrcSubdir(u,a)?s(new Error(`Cannot overwrite '${u}' with '${a}'.`)):function(t,e,n){r.unlink(e,i=>i?n(i):r.symlink(t,e,n))}(a,n,s))):r.symlink(a,n,s)))}t.exports=function(t,e,n,r){"function"!=typeof n||r?"function"==typeof n&&(n={filter:n}):(r=n,n={}),r=r||function(){},(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269"),c.checkPaths(t,e,"copy",(i,o)=>{if(i)return r(i);const{srcStat:s,destStat:a}=o;c.checkParentPaths(t,s,e,"copy",i=>i?r(i):n.filter?l(u,a,t,e,n,r):u(a,t,e,n,r))})}},function(t,e,n){"use strict";const r=n(5).fromCallback,i=n(3),o=n(0),s=n(10),a=n(23),c=r((function(t,e){e=e||function(){},i.readdir(t,(n,r)=>{if(n)return s.mkdirs(t,e);r=r.map(e=>o.join(t,e)),function t(){const n=r.pop();if(!n)return e();a.remove(n,n=>{if(n)return e(n);t()})}()})}));function u(t){let e;try{e=i.readdirSync(t)}catch{return s.mkdirsSync(t)}e.forEach(e=>{e=o.join(t,e),a.removeSync(e)})}t.exports={emptyDirSync:u,emptydirSync:u,emptyDir:c,emptydir:c}},function(t,e,n){"use strict";const r=n(3),i=n(0),o=n(19),s="win32"===process.platform;function a(t){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(e=>{t[e]=t[e]||r[e],t[e+="Sync"]=t[e]||r[e]}),t.maxBusyTries=t.maxBusyTries||3}function c(t,e,n){let r=0;"function"==typeof e&&(n=e,e={}),o(t,"rimraf: missing path"),o.strictEqual(typeof t,"string","rimraf: path should be a string"),o.strictEqual(typeof n,"function","rimraf: callback function required"),o(e,"rimraf: invalid options argument provided"),o.strictEqual(typeof e,"object","rimraf: options should be object"),a(e),u(t,e,(function i(o){if(o){if(("EBUSY"===o.code||"ENOTEMPTY"===o.code||"EPERM"===o.code)&&r<e.maxBusyTries){r++;return setTimeout(()=>u(t,e,i),100*r)}"ENOENT"===o.code&&(o=null)}n(o)}))}function u(t,e,n){o(t),o(e),o("function"==typeof n),e.lstat(t,(r,i)=>r&&"ENOENT"===r.code?n(null):r&&"EPERM"===r.code&&s?l(t,e,r,n):i&&i.isDirectory()?f(t,e,r,n):void e.unlink(t,r=>{if(r){if("ENOENT"===r.code)return n(null);if("EPERM"===r.code)return s?l(t,e,r,n):f(t,e,r,n);if("EISDIR"===r.code)return f(t,e,r,n)}return n(r)}))}function l(t,e,n,r){o(t),o(e),o("function"==typeof r),e.chmod(t,438,i=>{i?r("ENOENT"===i.code?null:n):e.stat(t,(i,o)=>{i?r("ENOENT"===i.code?null:n):o.isDirectory()?f(t,e,n,r):e.unlink(t,r)})})}function h(t,e,n){let r;o(t),o(e);try{e.chmodSync(t,438)}catch(t){if("ENOENT"===t.code)return;throw n}try{r=e.statSync(t)}catch(t){if("ENOENT"===t.code)return;throw n}r.isDirectory()?d(t,e,n):e.unlinkSync(t)}function f(t,e,n,r){o(t),o(e),o("function"==typeof r),e.rmdir(t,s=>{!s||"ENOTEMPTY"!==s.code&&"EEXIST"!==s.code&&"EPERM"!==s.code?s&&"ENOTDIR"===s.code?r(n):r(s):function(t,e,n){o(t),o(e),o("function"==typeof n),e.readdir(t,(r,o)=>{if(r)return n(r);let s,a=o.length;if(0===a)return e.rmdir(t,n);o.forEach(r=>{c(i.join(t,r),e,r=>{if(!s)return r?n(s=r):void(0==--a&&e.rmdir(t,n))})})})}(t,e,r)})}function p(t,e){let n;a(e=e||{}),o(t,"rimraf: missing path"),o.strictEqual(typeof t,"string","rimraf: path should be a string"),o(e,"rimraf: missing options"),o.strictEqual(typeof e,"object","rimraf: options should be object");try{n=e.lstatSync(t)}catch(n){if("ENOENT"===n.code)return;"EPERM"===n.code&&s&&h(t,e,n)}try{n&&n.isDirectory()?d(t,e,null):e.unlinkSync(t)}catch(n){if("ENOENT"===n.code)return;if("EPERM"===n.code)return s?h(t,e,n):d(t,e,n);if("EISDIR"!==n.code)throw n;d(t,e,n)}}function d(t,e,n){o(t),o(e);try{e.rmdirSync(t)}catch(r){if("ENOTDIR"===r.code)throw n;if("ENOTEMPTY"===r.code||"EEXIST"===r.code||"EPERM"===r.code)!function(t,e){if(o(t),o(e),e.readdirSync(t).forEach(n=>p(i.join(t,n),e)),!s){return e.rmdirSync(t,e)}{const n=Date.now();do{try{return e.rmdirSync(t,e)}catch{}}while(Date.now()-n<500)}}(t,e);else if("ENOENT"!==r.code)throw r}}t.exports=c,c.sync=p},function(t,e,n){"use strict";const r=n(100),i=n(101),o=n(102);t.exports={createFile:r.createFile,createFileSync:r.createFileSync,ensureFile:r.createFile,ensureFileSync:r.createFileSync,createLink:i.createLink,createLinkSync:i.createLinkSync,ensureLink:i.createLink,ensureLinkSync:i.createLinkSync,createSymlink:o.createSymlink,createSymlinkSync:o.createSymlinkSync,ensureSymlink:o.createSymlink,ensureSymlinkSync:o.createSymlinkSync}},function(t,e,n){"use strict";const r=n(5).fromCallback,i=n(0),o=n(3),s=n(10);t.exports={createFile:r((function(t,e){function n(){o.writeFile(t,"",t=>{if(t)return e(t);e()})}o.stat(t,(r,a)=>{if(!r&&a.isFile())return e();const c=i.dirname(t);o.stat(c,(t,r)=>{if(t)return"ENOENT"===t.code?s.mkdirs(c,t=>{if(t)return e(t);n()}):e(t);r.isDirectory()?n():o.readdir(c,t=>{if(t)return e(t)})})})})),createFileSync:function(t){let e;try{e=o.statSync(t)}catch{}if(e&&e.isFile())return;const n=i.dirname(t);try{o.statSync(n).isDirectory()||o.readdirSync(n)}catch(t){if(!t||"ENOENT"!==t.code)throw t;s.mkdirsSync(n)}o.writeFileSync(t,"")}}},function(t,e,n){"use strict";const r=n(5).fromCallback,i=n(0),o=n(3),s=n(10),a=n(14).pathExists;t.exports={createLink:r((function(t,e,n){function r(t,e){o.link(t,e,t=>{if(t)return n(t);n(null)})}a(e,(c,u)=>c?n(c):u?n(null):void o.lstat(t,o=>{if(o)return o.message=o.message.replace("lstat","ensureLink"),n(o);const c=i.dirname(e);a(c,(i,o)=>i?n(i):o?r(t,e):void s.mkdirs(c,i=>{if(i)return n(i);r(t,e)}))}))})),createLinkSync:function(t,e){if(o.existsSync(e))return;try{o.lstatSync(t)}catch(t){throw t.message=t.message.replace("lstat","ensureLink"),t}const n=i.dirname(e);return o.existsSync(n)||s.mkdirsSync(n),o.linkSync(t,e)}}},function(t,e,n){"use strict";const r=n(5).fromCallback,i=n(0),o=n(3),s=n(10),a=s.mkdirs,c=s.mkdirsSync,u=n(103),l=u.symlinkPaths,h=u.symlinkPathsSync,f=n(104),p=f.symlinkType,d=f.symlinkTypeSync,m=n(14).pathExists;t.exports={createSymlink:r((function(t,e,n,r){r="function"==typeof n?n:r,n="function"!=typeof n&&n,m(e,(s,c)=>s?r(s):c?r(null):void l(t,e,(s,c)=>{if(s)return r(s);t=c.toDst,p(c.toCwd,n,(n,s)=>{if(n)return r(n);const c=i.dirname(e);m(c,(n,i)=>n?r(n):i?o.symlink(t,e,s,r):void a(c,n=>{if(n)return r(n);o.symlink(t,e,s,r)}))})}))})),createSymlinkSync:function(t,e,n){if(o.existsSync(e))return;const r=h(t,e);t=r.toDst,n=d(r.toCwd,n);const s=i.dirname(e);return o.existsSync(s)||c(s),o.symlinkSync(t,e,n)}}},function(t,e,n){"use strict";const r=n(0),i=n(3),o=n(14).pathExists;t.exports={symlinkPaths:function(t,e,n){if(r.isAbsolute(t))return i.lstat(t,e=>e?(e.message=e.message.replace("lstat","ensureSymlink"),n(e)):n(null,{toCwd:t,toDst:t}));{const s=r.dirname(e),a=r.join(s,t);return o(a,(e,o)=>e?n(e):o?n(null,{toCwd:a,toDst:t}):i.lstat(t,e=>e?(e.message=e.message.replace("lstat","ensureSymlink"),n(e)):n(null,{toCwd:t,toDst:r.relative(s,t)})))}},symlinkPathsSync:function(t,e){let n;if(r.isAbsolute(t)){if(n=i.existsSync(t),!n)throw new Error("absolute srcpath does not exist");return{toCwd:t,toDst:t}}{const o=r.dirname(e),s=r.join(o,t);if(n=i.existsSync(s),n)return{toCwd:s,toDst:t};if(n=i.existsSync(t),!n)throw new Error("relative srcpath does not exist");return{toCwd:t,toDst:r.relative(o,t)}}}}},function(t,e,n){"use strict";const r=n(3);t.exports={symlinkType:function(t,e,n){if(n="function"==typeof e?e:n,e="function"!=typeof e&&e)return n(null,e);r.lstat(t,(t,r)=>{if(t)return n(null,"file");e=r&&r.isDirectory()?"dir":"file",n(null,e)})},symlinkTypeSync:function(t,e){let n;if(e)return e;try{n=r.lstatSync(t)}catch{return"file"}return n&&n.isDirectory()?"dir":"file"}}},function(t,e,n){"use strict";const r=n(5).fromPromise,i=n(106);i.outputJson=r(n(108)),i.outputJsonSync=n(109),i.outputJSON=i.outputJson,i.outputJSONSync=i.outputJsonSync,i.writeJSON=i.writeJson,i.writeJSONSync=i.writeJsonSync,i.readJSON=i.readJson,i.readJSONSync=i.readJsonSync,t.exports=i},function(t,e,n){"use strict";const r=n(107);t.exports={readJson:r.readFile,readJsonSync:r.readFileSync,writeJson:r.writeFile,writeJsonSync:r.writeFileSync}},function(t,e,n){let r;try{r=n(3)}catch(t){r=n(2)}const i=n(5),{stringify:o,stripBom:s}=n(34);const a={readFile:i.fromPromise((async function(t,e={}){"string"==typeof e&&(e={encoding:e});const n=e.fs||r,o=!("throws"in e)||e.throws;let a,c=await i.fromCallback(n.readFile)(t,e);c=s(c);try{a=JSON.parse(c,e?e.reviver:null)}catch(e){if(o)throw e.message=`${t}: ${e.message}`,e;return null}return a})),readFileSync:function(t,e={}){"string"==typeof e&&(e={encoding:e});const n=e.fs||r,i=!("throws"in e)||e.throws;try{let r=n.readFileSync(t,e);return r=s(r),JSON.parse(r,e.reviver)}catch(e){if(i)throw e.message=`${t}: ${e.message}`,e;return null}},writeFile:i.fromPromise((async function(t,e,n={}){const s=n.fs||r,a=o(e,n);await i.fromCallback(s.writeFile)(t,a,n)})),writeFileSync:function(t,e,n={}){const i=n.fs||r,s=o(e,n);return i.writeFileSync(t,s,n)}};t.exports=a},function(t,e,n){"use strict";const{stringify:r}=n(34),{outputFile:i}=n(35);t.exports=async function(t,e,n={}){const o=r(e,n);await i(t,o,n)}},function(t,e,n){"use strict";const{stringify:r}=n(34),{outputFileSync:i}=n(35);t.exports=function(t,e,n){const o=r(e,n);i(t,o,n)}},function(t,e,n){"use strict";t.exports={moveSync:n(111)}},function(t,e,n){"use strict";const r=n(3),i=n(0),o=n(51).copySync,s=n(23).removeSync,a=n(10).mkdirpSync,c=n(22);function u(t,e,n){try{r.renameSync(t,e)}catch(r){if("EXDEV"!==r.code)throw r;return function(t,e,n){return o(t,e,{overwrite:n,errorOnExist:true}),s(t)}(t,e,n)}}t.exports=function(t,e,n){const o=(n=n||{}).overwrite||n.clobber||!1,{srcStat:l}=c.checkPathsSync(t,e,"move");return c.checkParentPathsSync(t,l,e,"move"),a(i.dirname(e)),function(t,e,n){if(n)return s(e),u(t,e,n);if(r.existsSync(e))throw new Error("dest already exists.");return u(t,e,n)}(t,e,o)}},function(t,e,n){"use strict";const r=n(5).fromCallback;t.exports={move:r(n(113))}},function(t,e,n){"use strict";const r=n(3),i=n(0),o=n(54).copy,s=n(23).remove,a=n(10).mkdirp,c=n(14).pathExists,u=n(22);function l(t,e,n,i){r.rename(t,e,r=>r?"EXDEV"!==r.code?i(r):function(t,e,n,r){o(t,e,{overwrite:n,errorOnExist:!0},e=>e?r(e):s(t,r))}(t,e,n,i):i())}t.exports=function(t,e,n,r){"function"==typeof n&&(r=n,n={});const o=n.overwrite||n.clobber||!1;u.checkPaths(t,e,"move",(n,h)=>{if(n)return r(n);const{srcStat:f}=h;u.checkParentPaths(t,f,e,"move",n=>{if(n)return r(n);a(i.dirname(e),n=>n?r(n):function(t,e,n,r){if(n)return s(e,i=>i?r(i):l(t,e,n,r));c(e,(i,o)=>i?r(i):o?r(new Error("dest already exists.")):l(t,e,n,r))}(t,e,o,r))})})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lazy=void 0;e.Lazy=class{constructor(t){this._value=null,this.creator=t}get hasValue(){return null==this.creator}get value(){if(null==this.creator)return this._value;const t=this.creator();return this.value=t,t}set value(t){this._value=t,this.creator=null}}},function(t,e,n){const r=n(18);t.exports=(t,e)=>{const n=r(t,e);return n?n.version:null}},function(t,e,n){const r=n(18);t.exports=(t,e)=>{const n=r(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null}},function(t,e,n){const r=n(4);t.exports=(t,e,n,i)=>{"string"==typeof n&&(i=n,n=void 0);try{return new r(t,n).inc(e,i).version}catch(t){return null}}},function(t,e,n){const r=n(18),i=n(38);t.exports=(t,e)=>{if(i(t,e))return null;{const n=r(t),i=r(e),o=n.prerelease.length||i.prerelease.length,s=o?"pre":"",a=o?"prerelease":"";for(const t in n)if(("major"===t||"minor"===t||"patch"===t)&&n[t]!==i[t])return s+t;return a}}},function(t,e,n){const r=n(4);t.exports=(t,e)=>new r(t,e).major},function(t,e,n){const r=n(4);t.exports=(t,e)=>new r(t,e).minor},function(t,e,n){const r=n(4);t.exports=(t,e)=>new r(t,e).patch},function(t,e,n){const r=n(18);t.exports=(t,e)=>{const n=r(t,e);return n&&n.prerelease.length?n.prerelease:null}},function(t,e,n){const r=n(6);t.exports=(t,e,n)=>r(e,t,n)},function(t,e,n){const r=n(6);t.exports=(t,e)=>r(t,e,!0)},function(t,e,n){const r=n(39);t.exports=(t,e)=>t.sort((t,n)=>r(t,n,e))},function(t,e,n){const r=n(39);t.exports=(t,e)=>t.sort((t,n)=>r(n,t,e))},function(t,e,n){const r=n(4),i=n(18),{re:o,t:s}=n(17);t.exports=(t,e)=>{if(t instanceof r)return t;if("number"==typeof t&&(t=String(t)),"string"!=typeof t)return null;let n=null;if((e=e||{}).rtl){let e;for(;(e=o[s.COERCERTL].exec(t))&&(!n||n.index+n[0].length!==t.length);)n&&e.index+e[0].length===n.index+n[0].length||(n=e),o[s.COERCERTL].lastIndex=e.index+e[1].length+e[2].length;o[s.COERCERTL].lastIndex=-1}else n=t.match(o[s.COERCE]);return null===n?null:i(`${n[2]}.${n[3]||"0"}.${n[4]||"0"}`,e)}},function(t,e,n){"use strict";const r=n(129),i=Symbol("max"),o=Symbol("length"),s=Symbol("lengthCalculator"),a=Symbol("allowStale"),c=Symbol("maxAge"),u=Symbol("dispose"),l=Symbol("noDisposeOnSet"),h=Symbol("lruList"),f=Symbol("cache"),p=Symbol("updateAgeOnGet"),d=()=>1;const m=(t,e,n)=>{const r=t[f].get(e);if(r){const e=r.value;if(g(t,e)){if(v(t,r),!t[a])return}else n&&(t[p]&&(r.value.now=Date.now()),t[h].unshiftNode(r));return e.value}},g=(t,e)=>{if(!e||!e.maxAge&&!t[c])return!1;const n=Date.now()-e.now;return e.maxAge?n>e.maxAge:t[c]&&n>t[c]},y=t=>{if(t[o]>t[i])for(let e=t[h].tail;t[o]>t[i]&&null!==e;){const n=e.prev;v(t,e),e=n}},v=(t,e)=>{if(e){const n=e.value;t[u]&&t[u](n.key,n.value),t[o]-=n.length,t[f].delete(n.key),t[h].removeNode(e)}};class E{constructor(t,e,n,r,i){this.key=t,this.value=e,this.length=n,this.now=r,this.maxAge=i||0}}const w=(t,e,n,r)=>{let i=n.value;g(t,i)&&(v(t,n),t[a]||(i=void 0)),i&&e.call(r,i.value,i.key,t)};t.exports=class{constructor(t){if("number"==typeof t&&(t={max:t}),t||(t={}),t.max&&("number"!=typeof t.max||t.max<0))throw new TypeError("max must be a non-negative number");this[i]=t.max||1/0;const e=t.length||d;if(this[s]="function"!=typeof e?d:e,this[a]=t.stale||!1,t.maxAge&&"number"!=typeof t.maxAge)throw new TypeError("maxAge must be a number");this[c]=t.maxAge||0,this[u]=t.dispose,this[l]=t.noDisposeOnSet||!1,this[p]=t.updateAgeOnGet||!1,this.reset()}set max(t){if("number"!=typeof t||t<0)throw new TypeError("max must be a non-negative number");this[i]=t||1/0,y(this)}get max(){return this[i]}set allowStale(t){this[a]=!!t}get allowStale(){return this[a]}set maxAge(t){if("number"!=typeof t)throw new TypeError("maxAge must be a non-negative number");this[c]=t,y(this)}get maxAge(){return this[c]}set lengthCalculator(t){"function"!=typeof t&&(t=d),t!==this[s]&&(this[s]=t,this[o]=0,this[h].forEach(t=>{t.length=this[s](t.value,t.key),this[o]+=t.length})),y(this)}get lengthCalculator(){return this[s]}get length(){return this[o]}get itemCount(){return this[h].length}rforEach(t,e){e=e||this;for(let n=this[h].tail;null!==n;){const r=n.prev;w(this,t,n,e),n=r}}forEach(t,e){e=e||this;for(let n=this[h].head;null!==n;){const r=n.next;w(this,t,n,e),n=r}}keys(){return this[h].toArray().map(t=>t.key)}values(){return this[h].toArray().map(t=>t.value)}reset(){this[u]&&this[h]&&this[h].length&&this[h].forEach(t=>this[u](t.key,t.value)),this[f]=new Map,this[h]=new r,this[o]=0}dump(){return this[h].map(t=>!g(this,t)&&{k:t.key,v:t.value,e:t.now+(t.maxAge||0)}).toArray().filter(t=>t)}dumpLru(){return this[h]}set(t,e,n){if((n=n||this[c])&&"number"!=typeof n)throw new TypeError("maxAge must be a number");const r=n?Date.now():0,a=this[s](e,t);if(this[f].has(t)){if(a>this[i])return v(this,this[f].get(t)),!1;const s=this[f].get(t).value;return this[u]&&(this[l]||this[u](t,s.value)),s.now=r,s.maxAge=n,s.value=e,this[o]+=a-s.length,s.length=a,this.get(t),y(this),!0}const p=new E(t,e,a,r,n);return p.length>this[i]?(this[u]&&this[u](t,e),!1):(this[o]+=p.length,this[h].unshift(p),this[f].set(t,this[h].head),y(this),!0)}has(t){if(!this[f].has(t))return!1;const e=this[f].get(t).value;return!g(this,e)}get(t){return m(this,t,!0)}peek(t){return m(this,t,!1)}pop(){const t=this[h].tail;return t?(v(this,t),t.value):null}del(t){v(this,this[f].get(t))}load(t){this.reset();const e=Date.now();for(let n=t.length-1;n>=0;n--){const r=t[n],i=r.e||0;if(0===i)this.set(r.k,r.v);else{const t=i-e;t>0&&this.set(r.k,r.v,t)}}}prune(){this[f].forEach((t,e)=>m(this,e,!1))}}},function(t,e,n){"use strict";function r(t){var e=this;if(e instanceof r||(e=new r),e.tail=null,e.head=null,e.length=0,t&&"function"==typeof t.forEach)t.forEach((function(t){e.push(t)}));else if(arguments.length>0)for(var n=0,i=arguments.length;n<i;n++)e.push(arguments[n]);return e}function i(t,e,n){var r=e===t.head?new a(n,null,e,t):new a(n,e,e.next,t);return null===r.next&&(t.tail=r),null===r.prev&&(t.head=r),t.length++,r}function o(t,e){t.tail=new a(e,t.tail,null,t),t.head||(t.head=t.tail),t.length++}function s(t,e){t.head=new a(e,null,t.head,t),t.tail||(t.tail=t.head),t.length++}function a(t,e,n,r){if(!(this instanceof a))return new a(t,e,n,r);this.list=r,this.value=t,e?(e.next=this,this.prev=e):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}t.exports=r,r.Node=a,r.create=r,r.prototype.removeNode=function(t){if(t.list!==this)throw new Error("removing node which does not belong to this list");var e=t.next,n=t.prev;return e&&(e.prev=n),n&&(n.next=e),t===this.head&&(this.head=e),t===this.tail&&(this.tail=n),t.list.length--,t.next=null,t.prev=null,t.list=null,e},r.prototype.unshiftNode=function(t){if(t!==this.head){t.list&&t.list.removeNode(t);var e=this.head;t.list=this,t.next=e,e&&(e.prev=t),this.head=t,this.tail||(this.tail=t),this.length++}},r.prototype.pushNode=function(t){if(t!==this.tail){t.list&&t.list.removeNode(t);var e=this.tail;t.list=this,t.prev=e,e&&(e.next=t),this.tail=t,this.head||(this.head=t),this.length++}},r.prototype.push=function(){for(var t=0,e=arguments.length;t<e;t++)o(this,arguments[t]);return this.length},r.prototype.unshift=function(){for(var t=0,e=arguments.length;t<e;t++)s(this,arguments[t]);return this.length},r.prototype.pop=function(){if(this.tail){var t=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,t}},r.prototype.shift=function(){if(this.head){var t=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,t}},r.prototype.forEach=function(t,e){e=e||this;for(var n=this.head,r=0;null!==n;r++)t.call(e,n.value,r,this),n=n.next},r.prototype.forEachReverse=function(t,e){e=e||this;for(var n=this.tail,r=this.length-1;null!==n;r--)t.call(e,n.value,r,this),n=n.prev},r.prototype.get=function(t){for(var e=0,n=this.head;null!==n&&e<t;e++)n=n.next;if(e===t&&null!==n)return n.value},r.prototype.getReverse=function(t){for(var e=0,n=this.tail;null!==n&&e<t;e++)n=n.prev;if(e===t&&null!==n)return n.value},r.prototype.map=function(t,e){e=e||this;for(var n=new r,i=this.head;null!==i;)n.push(t.call(e,i.value,this)),i=i.next;return n},r.prototype.mapReverse=function(t,e){e=e||this;for(var n=new r,i=this.tail;null!==i;)n.push(t.call(e,i.value,this)),i=i.prev;return n},r.prototype.reduce=function(t,e){var n,r=this.head;if(arguments.length>1)n=e;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var i=0;null!==r;i++)n=t(n,r.value,i),r=r.next;return n},r.prototype.reduceReverse=function(t,e){var n,r=this.tail;if(arguments.length>1)n=e;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var i=this.length-1;null!==r;i--)n=t(n,r.value,i),r=r.prev;return n},r.prototype.toArray=function(){for(var t=new Array(this.length),e=0,n=this.head;null!==n;e++)t[e]=n.value,n=n.next;return t},r.prototype.toArrayReverse=function(){for(var t=new Array(this.length),e=0,n=this.tail;null!==n;e++)t[e]=n.value,n=n.prev;return t},r.prototype.slice=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var n=new r;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=0,o=this.head;null!==o&&i<t;i++)o=o.next;for(;null!==o&&i<e;i++,o=o.next)n.push(o.value);return n},r.prototype.sliceReverse=function(t,e){(e=e||this.length)<0&&(e+=this.length),(t=t||0)<0&&(t+=this.length);var n=new r;if(e<t||e<0)return n;t<0&&(t=0),e>this.length&&(e=this.length);for(var i=this.length,o=this.tail;null!==o&&i>e;i--)o=o.prev;for(;null!==o&&i>t;i--,o=o.prev)n.push(o.value);return n},r.prototype.splice=function(t,e,...n){t>this.length&&(t=this.length-1),t<0&&(t=this.length+t);for(var r=0,o=this.head;null!==o&&r<t;r++)o=o.next;var s=[];for(r=0;o&&r<e;r++)s.push(o.value),o=this.removeNode(o);null===o&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev);for(r=0;r<n.length;r++)o=i(this,o,n[r]);return s},r.prototype.reverse=function(){for(var t=this.head,e=this.tail,n=t;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=e,this.tail=t,this};try{n(130)(r)}catch(t){}},function(t,e,n){"use strict";t.exports=function(t){t.prototype[Symbol.iterator]=function*(){for(let t=this.head;t;t=t.next)yield t.value}}},function(t,e,n){const r=n(7);t.exports=(t,e)=>new r(t,e).set.map(t=>t.map(t=>t.value).join(" ").trim().split(" "))},function(t,e,n){const r=n(4),i=n(7);t.exports=(t,e,n)=>{let o=null,s=null,a=null;try{a=new i(e,n)}catch(t){return null}return t.forEach(t=>{a.test(t)&&(o&&-1!==s.compare(t)||(o=t,s=new r(o,n)))}),o}},function(t,e,n){const r=n(4),i=n(7);t.exports=(t,e,n)=>{let o=null,s=null,a=null;try{a=new i(e,n)}catch(t){return null}return t.forEach(t=>{a.test(t)&&(o&&1!==s.compare(t)||(o=t,s=new r(o,n)))}),o}},function(t,e,n){const r=n(4),i=n(7),o=n(27);t.exports=(t,e)=>{t=new i(t,e);let n=new r("0.0.0");if(t.test(n))return n;if(n=new r("0.0.0-0"),t.test(n))return n;n=null;for(let e=0;e<t.set.length;++e){const i=t.set[e];let s=null;i.forEach(t=>{const e=new r(t.semver.version);switch(t.operator){case">":0===e.prerelease.length?e.patch++:e.prerelease.push(0),e.raw=e.format();case"":case">=":s&&!o(e,s)||(s=e);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+t.operator)}}),!s||n&&!o(n,s)||(n=s)}return n&&t.test(n)?n:null}},function(t,e,n){const r=n(7);t.exports=(t,e)=>{try{return new r(t,e).range||"*"}catch(t){return null}}},function(t,e,n){const r=n(43);t.exports=(t,e,n)=>r(t,e,">",n)},function(t,e,n){const r=n(43);t.exports=(t,e,n)=>r(t,e,"<",n)},function(t,e,n){const r=n(7);t.exports=(t,e,n)=>(t=new r(t,n),e=new r(e,n),t.intersects(e))},function(t,e,n){const r=n(29),i=n(6);t.exports=(t,e,n)=>{const o=[];let s=null,a=null;const c=t.sort((t,e)=>i(t,e,n));for(const t of c){r(t,e,n)?(a=t,s||(s=t)):(a&&o.push([s,a]),a=null,s=null)}s&&o.push([s,null]);const u=[];for(const[t,e]of o)t===e?u.push(t):e||t!==c[0]?e?t===c[0]?u.push("<="+e):u.push(`${t} - ${e}`):u.push(">="+t):u.push("*");const l=u.join(" || "),h="string"==typeof e.raw?e.raw:String(e);return l.length<h.length?l:e}},function(t,e,n){const r=n(7),{ANY:i}=n(28),o=n(29),s=n(6),a=(t,e,n)=>{if(t===e)return!0;if(1===t.length&&t[0].semver===i)return 1===e.length&&e[0].semver===i;const r=new Set;let a,l,h,f,p,d,m;for(const e of t)">"===e.operator||">="===e.operator?a=c(a,e,n):"<"===e.operator||"<="===e.operator?l=u(l,e,n):r.add(e.semver);if(r.size>1)return null;if(a&&l){if(h=s(a.semver,l.semver,n),h>0)return null;if(0===h&&(">="!==a.operator||"<="!==l.operator))return null}for(const t of r){if(a&&!o(t,String(a),n))return null;if(l&&!o(t,String(l),n))return null;for(const r of e)if(!o(t,String(r),n))return!1;return!0}for(const t of e){if(m=m||">"===t.operator||">="===t.operator,d=d||"<"===t.operator||"<="===t.operator,a)if(">"===t.operator||">="===t.operator){if(f=c(a,t,n),f===t&&f!==a)return!1}else if(">="===a.operator&&!o(a.semver,String(t),n))return!1;if(l)if("<"===t.operator||"<="===t.operator){if(p=u(l,t,n),p===t&&p!==l)return!1}else if("<="===l.operator&&!o(l.semver,String(t),n))return!1;if(!t.operator&&(l||a)&&0!==h)return!1}return!(a&&d&&!l&&0!==h)&&!(l&&m&&!a&&0!==h)},c=(t,e,n)=>{if(!t)return e;const r=s(t.semver,e.semver,n);return r>0?t:r<0||">"===e.operator&&">="===t.operator?e:t},u=(t,e,n)=>{if(!t)return e;const r=s(t.semver,e.semver,n);return r<0?t:r>0||"<"===e.operator&&"<="===t.operator?e:t};t.exports=(t,e,n)=>{if(t===e)return!0;t=new r(t,n),e=new r(e,n);let i=!1;t:for(const r of t.set){for(const t of e.set){const e=a(r,t,n);if(i=i||null!==e,e)continue t}if(i)return!1}return!0}},function(t,e,n){"use strict";function r(){const t=n(20);return r=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.createTempUpdateFile=async function(t,e,n){let r=0,i=a.join(e,t);for(let o=0;o<3;o++)try{return await(0,s().unlink)(i),i}catch(o){if("ENOENT"===o.code)return i;n.warn("Error on remove temp update file: "+o),i=a.join(e,`${r++}-${t}`)}return i},e.DownloadedUpdateHelper=void 0;var i=n(2);function o(){const t=(e=n(142))&&e.__esModule?e:{default:e};var e;return o=function(){return t},t}function s(){const t=n(13);return s=function(){return t},t}var a=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=c();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}n.default=t,e&&e.set(t,n);return n}(n(0));function c(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return c=function(){return t},t}e.DownloadedUpdateHelper=class{constructor(t){this.cacheDir=t,this._file=null,this._packageFile=null,this.versionInfo=null,this.fileInfo=null,this._downloadedFileInfo=null}get downloadedFileInfo(){return this._downloadedFileInfo}get file(){return this._file}get packageFile(){return this._packageFile}get cacheDirForPendingUpdate(){return a.join(this.cacheDir,"pending")}async validateDownloadedPath(t,e,n,r){if(null!=this.versionInfo&&this.file===t&&null!=this.fileInfo)return(0,o().default)(this.versionInfo,e)&&(0,o().default)(this.fileInfo.info,n.info)&&await(0,s().pathExists)(t)?t:null;const i=await this.getValidCachedUpdateFile(n,r);return null===i?null:(r.info(`Update has already been downloaded to ${t}).`),this._file=i,i)}async setDownloadedFile(t,e,n,r,i,o){this._file=t,this._packageFile=e,this.versionInfo=n,this.fileInfo=r,this._downloadedFileInfo={fileName:i,sha512:r.info.sha512,isAdminRightsRequired:!0===r.info.isAdminRightsRequired},o&&await(0,s().outputJson)(this.getUpdateInfoFile(),this._downloadedFileInfo)}async clear(){this._file=null,this._packageFile=null,this.versionInfo=null,this.fileInfo=null,await this.cleanCacheDirForPendingUpdate()}async cleanCacheDirForPendingUpdate(){try{await(0,s().emptyDir)(this.cacheDirForPendingUpdate)}catch(t){}}async getValidCachedUpdateFile(t,e){var n;const o=this.getUpdateInfoFile();if(!await(0,s().pathExistsSync)(o))return null;let c;try{c=await(0,s().readJson)(o)}catch(t){let n="No cached update info available";return"ENOENT"!==t.code&&(await this.cleanCacheDirForPendingUpdate(),n+=` (error on read: ${t.message})`),e.info(n),null}if(!(null!==(n=null!==(null==c?void 0:c.fileName))&&void 0!==n&&n))return e.warn("Cached update info is corrupted: no fileName, directory for cached update will be cleaned"),await this.cleanCacheDirForPendingUpdate(),null;if(t.info.sha512!==c.sha512)return e.info(`Cached update sha512 checksum doesn't match the latest available update. New update must be downloaded. Cached: ${c.sha512}, expected: ${t.info.sha512}. Directory for cached update will be cleaned`),await this.cleanCacheDirForPendingUpdate(),null;const u=a.join(this.cacheDirForPendingUpdate,c.fileName);if(!await(0,s().pathExists)(u))return e.info("Cached update file doesn't exist"),null;const l=await function(t,e="sha512",n="base64",o){return new Promise((s,a)=>{const c=(0,r().createHash)(e);c.on("error",a).setEncoding(n),(0,i.createReadStream)(t,{...o,highWaterMark:1048576}).on("error",a).on("end",()=>{c.end(),s(c.read())}).pipe(c,{end:!1})})}(u);return t.info.sha512!==l?(e.warn(`Sha512 checksum doesn't match the latest available update. New update must be downloaded. Cached: ${l}, expected: ${t.info.sha512}`),await this.cleanCacheDirForPendingUpdate(),null):(this._downloadedFileInfo=c,u)}getUpdateInfoFile(){return a.join(this.cacheDirForPendingUpdate,"update-info.json")}}},function(t,e,n){(function(t){var n="[object Arguments]",r="[object Map]",i="[object Object]",o="[object Set]",s=/^\[object .+?Constructor\]$/,a=/^(?:0|[1-9]\d*)$/,c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c[n]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c["[object Function]"]=c[r]=c["[object Number]"]=c[i]=c["[object RegExp]"]=c[o]=c["[object String]"]=c["[object WeakMap]"]=!1;var u="object"==typeof global&&global&&global.Object===Object&&global,l="object"==typeof self&&self&&self.Object===Object&&self,h=u||l||Function("return this")(),f=e&&!e.nodeType&&e,p=f&&"object"==typeof t&&t&&!t.nodeType&&t,d=p&&p.exports===f,m=d&&u.process,g=function(){try{return m&&m.binding&&m.binding("util")}catch(t){}}(),y=g&&g.isTypedArray;function v(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function E(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function w(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var b,_,O,A=Array.prototype,T=Function.prototype,S=Object.prototype,N=h["__core-js_shared__"],I=T.toString,C=S.hasOwnProperty,R=(b=/[^.]+$/.exec(N&&N.keys&&N.keys.IE_PROTO||""))?"Symbol(src)_1."+b:"",P=S.toString,k=RegExp("^"+I.call(C).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),D=d?h.Buffer:void 0,x=h.Symbol,L=h.Uint8Array,F=S.propertyIsEnumerable,j=A.splice,U=x?x.toStringTag:void 0,M=Object.getOwnPropertySymbols,$=D?D.isBuffer:void 0,B=(_=Object.keys,O=Object,function(t){return _(O(t))}),q=gt(h,"DataView"),G=gt(h,"Map"),H=gt(h,"Promise"),V=gt(h,"Set"),W=gt(h,"WeakMap"),z=gt(Object,"create"),Y=wt(q),X=wt(G),J=wt(H),K=wt(V),Q=wt(W),Z=x?x.prototype:void 0,tt=Z?Z.valueOf:void 0;function et(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function nt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function rt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function it(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new rt;++e<n;)this.add(t[e])}function ot(t){var e=this.__data__=new nt(t);this.size=e.size}function st(t,e){var n=Ot(t),r=!n&&_t(t),i=!n&&!r&&At(t),o=!n&&!r&&!i&&Ct(t),s=n||r||i||o,a=s?function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}(t.length,String):[],c=a.length;for(var u in t)!e&&!C.call(t,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||Et(u,c))||a.push(u);return a}function at(t,e){for(var n=t.length;n--;)if(bt(t[n][0],e))return n;return-1}function ct(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":U&&U in Object(t)?function(t){var e=C.call(t,U),n=t[U];try{t[U]=void 0;var r=!0}catch(t){}var i=P.call(t);r&&(e?t[U]=n:delete t[U]);return i}(t):function(t){return P.call(t)}(t)}function ut(t){return It(t)&&ct(t)==n}function lt(t,e,s,a,c){return t===e||(null==t||null==e||!It(t)&&!It(e)?t!=t&&e!=e:function(t,e,s,a,c,u){var l=Ot(t),h=Ot(e),f=l?"[object Array]":vt(t),p=h?"[object Array]":vt(e),d=(f=f==n?i:f)==i,m=(p=p==n?i:p)==i,g=f==p;if(g&&At(t)){if(!At(e))return!1;l=!0,d=!1}if(g&&!d)return u||(u=new ot),l||Ct(t)?pt(t,e,s,a,c,u):function(t,e,n,i,s,a,c){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!a(new L(t),new L(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return bt(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case r:var u=E;case o:var l=1&i;if(u||(u=w),t.size!=e.size&&!l)return!1;var h=c.get(t);if(h)return h==e;i|=2,c.set(t,e);var f=pt(u(t),u(e),i,s,a,c);return c.delete(t),f;case"[object Symbol]":if(tt)return tt.call(t)==tt.call(e)}return!1}(t,e,f,s,a,c,u);if(!(1&s)){var y=d&&C.call(t,"__wrapped__"),v=m&&C.call(e,"__wrapped__");if(y||v){var b=y?t.value():t,_=v?e.value():e;return u||(u=new ot),c(b,_,s,a,u)}}if(!g)return!1;return u||(u=new ot),function(t,e,n,r,i,o){var s=1&n,a=dt(t),c=a.length,u=dt(e).length;if(c!=u&&!s)return!1;var l=c;for(;l--;){var h=a[l];if(!(s?h in e:C.call(e,h)))return!1}var f=o.get(t);if(f&&o.get(e))return f==e;var p=!0;o.set(t,e),o.set(e,t);var d=s;for(;++l<c;){h=a[l];var m=t[h],g=e[h];if(r)var y=s?r(g,m,h,e,t,o):r(m,g,h,t,e,o);if(!(void 0===y?m===g||i(m,g,n,r,o):y)){p=!1;break}d||(d="constructor"==h)}if(p&&!d){var v=t.constructor,E=e.constructor;v==E||!("constructor"in t)||!("constructor"in e)||"function"==typeof v&&v instanceof v&&"function"==typeof E&&E instanceof E||(p=!1)}return o.delete(t),o.delete(e),p}(t,e,s,a,c,u)}(t,e,s,a,lt,c))}function ht(t){return!(!Nt(t)||function(t){return!!R&&R in t}(t))&&(Tt(t)?k:s).test(wt(t))}function ft(t){if(n=(e=t)&&e.constructor,r="function"==typeof n&&n.prototype||S,e!==r)return B(t);var e,n,r,i=[];for(var o in Object(t))C.call(t,o)&&"constructor"!=o&&i.push(o);return i}function pt(t,e,n,r,i,o){var s=1&n,a=t.length,c=e.length;if(a!=c&&!(s&&c>a))return!1;var u=o.get(t);if(u&&o.get(e))return u==e;var l=-1,h=!0,f=2&n?new it:void 0;for(o.set(t,e),o.set(e,t);++l<a;){var p=t[l],d=e[l];if(r)var m=s?r(d,p,l,e,t,o):r(p,d,l,t,e,o);if(void 0!==m){if(m)continue;h=!1;break}if(f){if(!v(e,(function(t,e){if(s=e,!f.has(s)&&(p===t||i(p,t,n,r,o)))return f.push(e);var s}))){h=!1;break}}else if(p!==d&&!i(p,d,n,r,o)){h=!1;break}}return o.delete(t),o.delete(e),h}function dt(t){return function(t,e,n){var r=e(t);return Ot(t)?r:function(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}(r,n(t))}(t,Rt,yt)}function mt(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function gt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return ht(n)?n:void 0}et.prototype.clear=function(){this.__data__=z?z(null):{},this.size=0},et.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},et.prototype.get=function(t){var e=this.__data__;if(z){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return C.call(e,t)?e[t]:void 0},et.prototype.has=function(t){var e=this.__data__;return z?void 0!==e[t]:C.call(e,t)},et.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=z&&void 0===e?"__lodash_hash_undefined__":e,this},nt.prototype.clear=function(){this.__data__=[],this.size=0},nt.prototype.delete=function(t){var e=this.__data__,n=at(e,t);return!(n<0)&&(n==e.length-1?e.pop():j.call(e,n,1),--this.size,!0)},nt.prototype.get=function(t){var e=this.__data__,n=at(e,t);return n<0?void 0:e[n][1]},nt.prototype.has=function(t){return at(this.__data__,t)>-1},nt.prototype.set=function(t,e){var n=this.__data__,r=at(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},rt.prototype.clear=function(){this.size=0,this.__data__={hash:new et,map:new(G||nt),string:new et}},rt.prototype.delete=function(t){var e=mt(this,t).delete(t);return this.size-=e?1:0,e},rt.prototype.get=function(t){return mt(this,t).get(t)},rt.prototype.has=function(t){return mt(this,t).has(t)},rt.prototype.set=function(t,e){var n=mt(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},it.prototype.add=it.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},it.prototype.has=function(t){return this.__data__.has(t)},ot.prototype.clear=function(){this.__data__=new nt,this.size=0},ot.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},ot.prototype.get=function(t){return this.__data__.get(t)},ot.prototype.has=function(t){return this.__data__.has(t)},ot.prototype.set=function(t,e){var n=this.__data__;if(n instanceof nt){var r=n.__data__;if(!G||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new rt(r)}return n.set(t,e),this.size=n.size,this};var yt=M?function(t){return null==t?[]:(t=Object(t),function(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}(M(t),(function(e){return F.call(t,e)})))}:function(){return[]},vt=ct;function Et(t,e){return!!(e=null==e?9007199254740991:e)&&("number"==typeof t||a.test(t))&&t>-1&&t%1==0&&t<e}function wt(t){if(null!=t){try{return I.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function bt(t,e){return t===e||t!=t&&e!=e}(q&&"[object DataView]"!=vt(new q(new ArrayBuffer(1)))||G&&vt(new G)!=r||H&&"[object Promise]"!=vt(H.resolve())||V&&vt(new V)!=o||W&&"[object WeakMap]"!=vt(new W))&&(vt=function(t){var e=ct(t),n=e==i?t.constructor:void 0,s=n?wt(n):"";if(s)switch(s){case Y:return"[object DataView]";case X:return r;case J:return"[object Promise]";case K:return o;case Q:return"[object WeakMap]"}return e});var _t=ut(function(){return arguments}())?ut:function(t){return It(t)&&C.call(t,"callee")&&!F.call(t,"callee")},Ot=Array.isArray;var At=$||function(){return!1};function Tt(t){if(!Nt(t))return!1;var e=ct(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function St(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}function Nt(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function It(t){return null!=t&&"object"==typeof t}var Ct=y?function(t){return function(e){return t(e)}}(y):function(t){return It(t)&&St(t.length)&&!!c[ct(t)]};function Rt(t){return null!=(e=t)&&St(e.length)&&!Tt(e)?st(t):ft(t);var e}t.exports=function(t,e){return lt(t,e)}}).call(this,n(143)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElectronAppAdapter=void 0;var r=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=o();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=r?Object.getOwnPropertyDescriptor(t,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=t[i]}n.default=t,e&&e.set(t,n);return n}(n(0));function i(){const t=n(145);return i=function(){return t},t}function o(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return o=function(){return t},t}e.ElectronAppAdapter=class{constructor(t=n(8).app){this.app=t}whenReady(){return this.app.whenReady()}get version(){return this.app.getVersion()}get name(){return this.app.getName()}get isPackaged(){return!0===this.app.isPackaged}get appUpdateConfigPath(){return this.isPackaged?r.join(process.resourcesPath,"app-update.yml"):r.join(this.app.getAppPath(),"dev-app-update.yml")}get userDataPath(){return this.app.getPath("userData")}get baseCachePath(){return(0,i().getAppCacheDir)()}quit(){this.app.quit()}onQuit(t){this.app.once("quit",(e,n)=>t(n))}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getAppCacheDir=function(){const t=n(33).homedir();let e;e="win32"===process.platform?process.env.LOCALAPPDATA||r.join(t,"AppData","Local"):"darwin"===process.platform?r.join(t,"Library","Application Support","Caches"):process.env.XDG_CACHE_HOME||r.join(t,".cache");return e};var r=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=i();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var s=r?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=t[o]}n.default=t,e&&e.set(t,n);return n}(n(0));function i(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return i=function(){return t},t}},function(t,e,n){"use strict";function r(){const t=n(1);return r=function(){return t},t}function i(){const t=n(8);return i=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.getNetSession=o,e.ElectronHttpExecutor=e.NET_SESSION_NAME=void 0;function o(){return i().session.fromPartition("electron-updater",{cache:!1})}e.NET_SESSION_NAME="electron-updater";class s extends r().HttpExecutor{constructor(t){super(),this.proxyLoginCallback=t,this.cachedSession=null}async download(t,e,n){return await n.cancellationToken.createPromise((i,o,s)=>{const a={headers:n.headers||void 0,redirect:"manual"};(0,r().configureRequestUrl)(t,a),(0,r().configureRequestOptions)(a),this.doDownload(a,{destination:e,options:n,onCancel:s,callback:t=>{null==t?i(e):o(t)},responseHandler:null},0)})}createRequest(t,e){t.headers&&t.headers.Host&&(t.host=t.headers.Host,delete t.headers.Host),null==this.cachedSession&&(this.cachedSession=o());const n=i().net.request({...t,session:this.cachedSession});return n.on("response",e),null!=this.proxyLoginCallback&&n.on("login",this.proxyLoginCallback),n}addRedirectHandlers(t,e,n,i,o){t.on("redirect",(s,a,c)=>{t.abort(),i>this.maxRedirects?n(this.createMaxRedirectError()):o(r().HttpExecutor.prepareRedirectUrlOptions(c,e))})}}e.ElectronHttpExecutor=s},function(t,e,n){"use strict";function r(){const t=n(1);return r=function(){return t},t}function i(){const t=n(148);return i=function(){return t},t}function o(){const t=n(58);return o=function(){return t},t}function s(){const t=n(59);return s=function(){return t},t}function a(){const t=n(150);return a=function(){return t},t}function c(t){return!t.includes("s3.amazonaws.com")}Object.defineProperty(e,"__esModule",{value:!0}),e.isUrlProbablySupportMultiRangeRequests=c,e.createClient=function(t,e,n){if("string"==typeof t)throw(0,r().newError)("Please pass PublishConfiguration object","ERR_UPDATER_INVALID_PROVIDER_CONFIGURATION");const u=t.provider;switch(u){case"github":{const r=t,i=(r.private?process.env.GH_TOKEN||process.env.GITHUB_TOKEN:null)||r.token;return null==i?new(s().GitHubProvider)(r,e,n):new(a().PrivateGitHubProvider)(r,e,i,n)}case"s3":case"spaces":return new(o().GenericProvider)({provider:"generic",url:(0,r().getS3LikeProviderBaseUrl)(t),channel:t.channel||null},e,{...n,isUseMultipleRangeRequest:!1});case"generic":{const r=t;return new(o().GenericProvider)(r,e,{...n,isUseMultipleRangeRequest:!1!==r.useMultipleRangeRequest&&c(r.url)})}case"bintray":return new(i().BintrayProvider)(t,n);default:throw(0,r().newError)("Unsupported provider: "+u,"ERR_UPDATER_UNSUPPORTED_PROVIDER")}}},function(t,e,n){"use strict";function r(){const t=n(1);return r=function(){return t},t}function i(){const t=n(149);return i=function(){return t},t}function o(){const t=n(12);return o=function(){return t},t}function s(){const t=n(9);return s=function(){return t},t}function a(){const t=n(11);return a=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.BintrayProvider=void 0;class c extends s().Provider{constructor(t,e){super(e),this.client=new(i().BintrayClient)(t,e.executor,new(r().CancellationToken)),this.baseUrl=(0,s().newBaseUrl)(`https://dl.bintray.com/${this.client.owner}/${this.client.repo}`)}setRequestHeaders(t){super.setRequestHeaders(t),this.client.setRequestHeaders(t)}async getLatestVersion(){try{const t=await this.client.getVersion("_latest"),e=(0,s().getChannelFilename)(this.getDefaultChannelName()),n=await this.client.getVersionFiles(t.name),i=n.find(t=>t.name.endsWith("_"+e)||t.name.endsWith("-"+e));if(null==i)throw(0,r().newError)(`Cannot find channel file "${e}", existing files:\n${n.map(t=>JSON.stringify(t,null,2)).join(",\n")}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");const c=new(o().URL)(`https://dl.bintray.com/${this.client.owner}/${this.client.repo}/${i.name}`);return(0,a().parseUpdateInfo)(await this.httpRequest(c),e,c)}catch(t){if("statusCode"in t&&404===t.statusCode)throw(0,r().newError)("No latest version, please ensure that user, package and repository correctly configured. Or at least one version is published. "+(t.stack||t.message),"ERR_UPDATER_LATEST_VERSION_NOT_FOUND");throw t}}resolveFiles(t){return(0,a().resolveFiles)(t,this.baseUrl)}}e.BintrayProvider=c},function(t,e,n){"use strict";function r(){const t=n(48);return r=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.BintrayClient=void 0;e.BintrayClient=class{constructor(t,e,n,r){if(this.httpExecutor=e,this.cancellationToken=n,this.requestHeaders=null,null==t.owner)throw new Error("owner is not specified");if(null==t.package)throw new Error("package is not specified");this.repo=t.repo||"generic",this.packageName=t.package,this.owner=t.owner,this.user=t.user||t.owner,this.component=t.component||null,this.distribution=t.distribution||"stable",this.auth=null==r?null:"Basic "+Buffer.from(`${this.user}:${r}`).toString("base64"),this.basePath=`/packages/${this.owner}/${this.repo}/${this.packageName}`}setRequestHeaders(t){this.requestHeaders=t}bintrayRequest(t,e,n=null,i,o){return(0,r().parseJson)(this.httpExecutor.request((0,r().configureRequestOptions)({hostname:"api.bintray.com",path:t,headers:this.requestHeaders||void 0},e,o),i,n))}getVersion(t){return this.bintrayRequest(`${this.basePath}/versions/${t}`,this.auth,null,this.cancellationToken)}getVersionFiles(t){return this.bintrayRequest(`${this.basePath}/versions/${t}/files`,this.auth,null,this.cancellationToken)}createVersion(t){return this.bintrayRequest(this.basePath+"/versions",this.auth,{name:t},this.cancellationToken)}deleteVersion(t){return this.bintrayRequest(`${this.basePath}/versions/${t}`,this.auth,null,this.cancellationToken,"DELETE")}}},function(t,e,n){"use strict";function r(){const t=n(1);return r=function(){return t},t}function i(){const t=n(36);return i=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.PrivateGitHubProvider=void 0;var o=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=l();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}n.default=t,e&&e.set(t,n);return n}(n(0));function s(){const t=n(12);return s=function(){return t},t}function a(){const t=n(59);return a=function(){return t},t}function c(){const t=n(9);return c=function(){return t},t}function u(){const t=n(11);return u=function(){return t},t}function l(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return l=function(){return t},t}class h extends a().BaseGitHubProvider{constructor(t,e,n,r){super(t,"api.github.com",r),this.updater=e,this.token=n}createRequestOptions(t,e){const n=super.createRequestOptions(t,e);return n.redirect="manual",n}async getLatestVersion(){const t=new(r().CancellationToken),e=(0,c().getChannelFilename)(this.getDefaultChannelName()),n=await this.getLatestVersionInfo(t),o=n.assets.find(t=>t.name===e);if(null==o)throw(0,r().newError)(`Cannot find ${e} in the release ${n.html_url||n.name}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");const a=new(s().URL)(o.url);let u;try{u=(0,i().load)(await this.httpRequest(a,this.configureHeaders("application/octet-stream"),t))}catch(t){if(t instanceof r().HttpError&&404===t.statusCode)throw(0,r().newError)(`Cannot find ${e} in the latest release artifacts (${a}): ${t.stack||t.message}`,"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");throw t}return u.assets=n.assets,u}get fileExtraDownloadHeaders(){return this.configureHeaders("application/octet-stream")}configureHeaders(t){return{accept:t,authorization:"token "+this.token}}async getLatestVersionInfo(t){const e=this.updater.allowPrerelease;let n=this.basePath;e||(n+="/latest");const i=(0,c().newUrlFromBase)(n,this.baseUrl);try{const n=JSON.parse(await this.httpRequest(i,this.configureHeaders("application/vnd.github.v3+json"),t));return e?n.find(t=>t.prerelease)||n[0]:n}catch(t){throw(0,r().newError)(`Unable to find latest version on GitHub (${i}), please ensure a production release exists: ${t.stack||t.message}`,"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}get basePath(){return this.computeGithubBasePath(`/repos/${this.options.owner}/${this.options.repo}/releases`)}resolveFiles(t){return(0,u().getFileList)(t).map(e=>{const n=o.posix.basename(e.url).replace(/ /g,"-"),i=t.assets.find(t=>null!=t&&t.name===n);if(null==i)throw(0,r().newError)(`Cannot find asset "${n}" in: ${JSON.stringify(t.assets,null,2)}`,"ERR_UPDATER_ASSET_NOT_FOUND");return{url:new(s().URL)(i.url),info:e}})}}e.PrivateGitHubProvider=h},function(t,e,n){"use strict";function r(){const t=n(1);return r=function(){return t},t}function i(){const t=n(64);return i=function(){return t},t}function o(){const t=n(44);return o=function(){return t},t}function s(t,e){if(t.statusCode>=400)return e((0,r().createHttpError)(t)),!1;if(206!==t.statusCode){const n=(0,r().safeGetHeader)(t,"accept-ranges");if(null==n||"none"===n)return e(new Error(`Server doesn't support Accept-Ranges (response code ${t.statusCode})`)),!1}return!0}Object.defineProperty(e,"__esModule",{value:!0}),e.executeTasksUsingMultipleRangeRequests=function(t,e,n,a,c){const u=l=>{if(l>=e.length)return null!=t.fileMetadataBuffer&&n.write(t.fileMetadataBuffer),void n.end();const h=l+1e3;!function(t,e,n,a,c){let u="bytes=",l=0;const h=new Map,f=[];for(let t=e.start;t<e.end;t++){const n=e.tasks[t];n.kind===o().OperationKind.DOWNLOAD&&(u+=`${n.start}-${n.end-1}, `,h.set(l,t),l++,f.push(n.end-n.start))}if(l<=1){const r=u=>{if(u>=e.end)return void a();const l=e.tasks[u++];if(l.kind===o().OperationKind.COPY)(0,i().copyData)(l,n,e.oldFileFd,c,()=>r(u));else{const e=t.createRequestOptions();e.headers.Range=`bytes=${l.start}-${l.end-1}`;const i=t.httpExecutor.createRequest(e,t=>{s(t,c)&&(t.pipe(n,{end:!1}),t.once("end",()=>r(u)))});t.httpExecutor.addErrorAndTimeoutHandlers(i,c),i.end()}};return void r(e.start)}const p=t.createRequestOptions();p.headers.Range=u.substring(0,u.length-2);const d=t.httpExecutor.createRequest(p,t=>{if(!s(t,c))return;const o=(0,r().safeGetHeader)(t,"content-type"),u=/^multipart\/.+?(?:; boundary=(?:(?:"(.+)")|(?:([^\s]+))))$/i.exec(o);if(null==u)return void c(new Error(`Content-Type "multipart/byteranges" is expected, but got "${o}"`));const l=new(i().DataSplitter)(n,e,h,u[1]||u[2],f,a);l.on("error",c),t.pipe(l),t.on("end",()=>{setTimeout(()=>{d.abort(),c(new Error("Response ends without calling any handlers"))},1e4)})});t.httpExecutor.addErrorAndTimeoutHandlers(d,c),d.end()}(t,{tasks:e,start:l,end:Math.min(e.length,h),oldFileFd:a},n,()=>u(h),c)};return u},e.checkIsRangesSupported=s},function(t,e,n){"use strict";function r(){const t=n(16);return r=function(){return t},t}var i;Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressDifferentialDownloadCallbackTransform=void 0,function(t){t[t.COPY=0]="COPY",t[t.DOWNLOAD=1]="DOWNLOAD"}(i||(i={}));class o extends r().Transform{constructor(t,e,n){super(),this.progressDifferentialDownloadInfo=t,this.cancellationToken=e,this.onProgress=n,this.start=Date.now(),this.transferred=0,this.delta=0,this.expectedBytes=0,this.index=0,this.operationType=i.COPY,this.nextUpdate=this.start+1e3}_transform(t,e,n){if(this.cancellationToken.cancelled)return void n(new Error("cancelled"),null);if(this.operationType==i.COPY)return void n(null,t);this.transferred+=t.length,this.delta+=t.length;const r=Date.now();r>=this.nextUpdate&&this.transferred!==this.expectedBytes&&this.transferred!==this.progressDifferentialDownloadInfo.grandTotal&&(this.nextUpdate=r+1e3,this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.progressDifferentialDownloadInfo.grandTotal*100,bytesPerSecond:Math.round(this.transferred/((r-this.start)/1e3))}),this.delta=0),n(null,t)}beginFileCopy(){this.operationType=i.COPY}beginRangeDownload(){this.operationType=i.DOWNLOAD,this.expectedBytes+=this.progressDifferentialDownloadInfo.expectedByteCounts[this.index++]}endRangeDownload(){this.transferred!==this.progressDifferentialDownloadInfo.grandTotal&&this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.progressDifferentialDownloadInfo.grandTotal*100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))})}_flush(t){this.cancellationToken.cancelled?t(new Error("cancelled")):(this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))}),this.delta=0,this.transferred=0,t(null))}}e.ProgressDifferentialDownloadCallbackTransform=o},function(t,e){t.exports=require("http")},function(t,e,n){"use strict";function r(){const t=n(63);return r=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.GenericDifferentialDownloader=void 0;class i extends r().DifferentialDownloader{download(t,e){return this.doDownload(t,e)}}e.GenericDifferentialDownloader=i},function(t,e,n){"use strict";function r(){const t=n(1);return r=function(){return t},t}function i(){const t=n(30);return i=function(){return t},t}function o(){const t=function(t){if(t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var e=s();if(e&&e.has(t))return e.get(t);var n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=r?Object.getOwnPropertyDescriptor(t,i):null;o&&(o.get||o.set)?Object.defineProperty(n,i,o):n[i]=t[i]}n.default=t,e&&e.set(t,n);return n}(n(33));return o=function(){return t},t}function s(){if("function"!=typeof WeakMap)return null;var t=new WeakMap;return s=function(){return t},t}Object.defineProperty(e,"__esModule",{value:!0}),e.verifySignature=function(t,e,n){return new Promise(s=>{const a=e.replace(/'/g,"''").replace(/`/g,"``");(0,i().execFile)("powershell.exe",["-NoProfile","-NonInteractive","-InputFormat","None","-Command",`Get-AuthenticodeSignature '${a}' | ConvertTo-Json -Compress | ForEach-Object { [Convert]::ToBase64String([System.Text.Encoding]::UTF8.GetBytes($_)) }`],{timeout:2e4},(e,a,c)=>{try{if(null!=e||c)return function(t,e,n){if(function(){const t=o().release();return t.startsWith("6.")&&!t.startsWith("6.3")}())return void t.warn(`Cannot execute Get-AuthenticodeSignature: ${e||n}. Ignoring signature validation due to unsupported powershell version. Please upgrade to powershell 3 or higher.`);try{(0,i().execFileSync)("powershell.exe",["-NoProfile","-NonInteractive","-Command","ConvertTo-Json test"],{timeout:1e4})}catch(e){return void t.warn(`Cannot execute ConvertTo-Json: ${e.message}. Ignoring signature validation due to unsupported powershell version. Please upgrade to powershell 3 or higher.`)}if(null!=e)throw e;if(n)t.warn(`Cannot execute Get-AuthenticodeSignature, stderr: ${n}. Ignoring signature validation due to unknown stderr.`)}(n,e,c),void s(null);const u=function(t){const e=JSON.parse(t);delete e.PrivateKey,delete e.IsOSBinary,delete e.SignatureType;const n=e.SignerCertificate;null!=n&&(delete n.Archived,delete n.Extensions,delete n.Handle,delete n.HasPrivateKey,delete n.SubjectName);return delete e.Path,e}(Buffer.from(a,"base64").toString("utf-8"));if(0===u.Status){const e=(0,r().parseDn)(u.SignerCertificate.Subject).get("CN");if(t.includes(e))return void s(null)}const l=`publisherNames: ${t.join(" | ")}, raw info: `+JSON.stringify(u,(t,e)=>"RawData"===t?void 0:e,2);n.warn("Sign verification failed, installer signed with incorrect certificate: "+l),s(l)}catch(t){return n.warn(`Cannot execute Get-AuthenticodeSignature: ${e}. Ignoring signature validation due to unknown error.`),void s(null)}})})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MOBX_DEVTOOLS=e.APOLLO_DEVELOPER_TOOLS=e.CYCLEJS_DEVTOOL=e.REACT_PERF=e.REDUX_DEVTOOLS=e.VUEJS_DEVTOOLS=e.ANGULARJS_BATARANG=e.JQUERY_DEBUGGER=e.BACKBONE_DEBUGGER=e.REACT_DEVELOPER_TOOLS=e.EMBER_INSPECTOR=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=n(8),o=h(i),s=h(n(2)),a=h(n(0)),c=h(n(157)),u=h(n(158)),l=n(73);function h(t){return t&&t.__esModule?t:{default:t}}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p=(i.remote||o.default).BrowserWindow,d={},m=a.default.resolve((0,l.getPath)(),"IDMap.json");if(s.default.existsSync(m))try{d=JSON.parse(s.default.readFileSync(m,"utf8"))}catch(t){console.error("electron-devtools-installer: Invalid JSON present in the IDMap file")}e.default=function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(Array.isArray(e))return Promise.all(e.map((function(e){return t(e,n)})));var i=void 0;if("object"===(void 0===e?"undefined":r(e))&&e.id){i=e.id;var o=process.versions.electron.split("-")[0];if(!c.default.satisfies(o,e.electron))return Promise.reject(new Error("Version of Electron: "+o+" does not match required range "+e.electron+" for extension "+i))}else{if("string"!=typeof e)return Promise.reject(new Error('Invalid extensionReference passed in: "'+e+'"'));i=e}var a=d[i],l=a&&p.getDevToolsExtensions&&p.getDevToolsExtensions()[a];return!n&&l?Promise.resolve(d[i]):(0,u.default)(i,n).then((function(t){l&&p.removeDevToolsExtension(a);var e=p.addDevToolsExtension(t);return s.default.writeFileSync(m,JSON.stringify(Object.assign(d,f({},i,e)))),Promise.resolve(e)}))};e.EMBER_INSPECTOR={id:"bmdblncegkenkacieihfhpjfppoconhi",electron:">=1.2.1"},e.REACT_DEVELOPER_TOOLS={id:"fmkadmapgofadopljbjfkapdkoienihi",electron:">=1.2.1"},e.BACKBONE_DEBUGGER={id:"bhljhndlimiafopmmhjlgfpnnchjjbhd",electron:">=1.2.1"},e.JQUERY_DEBUGGER={id:"dbhhnnnpaeobfddmlalhnehgclcmjimi",electron:">=1.2.1"},e.ANGULARJS_BATARANG={id:"ighdmehidhipcmcojjgiloacoafjmpfk",electron:">=1.2.1"},e.VUEJS_DEVTOOLS={id:"nhdogjmejiglipccpnnnanhbledajbpd",electron:">=1.2.1"},e.REDUX_DEVTOOLS={id:"lmhkpmbekcpmknklioeibfkpmmfibljd",electron:">=1.2.1"},e.REACT_PERF={id:"hacmcodfllhbnekmghgdlplbdnahmhmm",electron:">=1.2.6"},e.CYCLEJS_DEVTOOL={id:"dfgplfmhhmdekalbpejekgfegkonjpfp",electron:">=1.2.1"},e.APOLLO_DEVELOPER_TOOLS={id:"jdkknkkbebbapilgoeccciglkfbmbnfm",electron:">=1.2.1"},e.MOBX_DEVTOOLS={id:"pfgnfdagidkfgccljigdamigbcnndkod",electron:">=1.2.1"}},function(t,e){var n;e=t.exports=W,n="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("SEMVER"),console.log.apply(console,t)}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var r=Number.MAX_SAFE_INTEGER||9007199254740991,i=e.re=[],o=e.src=[],s=0,a=s++;o[a]="0|[1-9]\\d*";var c=s++;o[c]="[0-9]+";var u=s++;o[u]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var l=s++;o[l]="("+o[a]+")\\.("+o[a]+")\\.("+o[a]+")";var h=s++;o[h]="("+o[c]+")\\.("+o[c]+")\\.("+o[c]+")";var f=s++;o[f]="(?:"+o[a]+"|"+o[u]+")";var p=s++;o[p]="(?:"+o[c]+"|"+o[u]+")";var d=s++;o[d]="(?:-("+o[f]+"(?:\\."+o[f]+")*))";var m=s++;o[m]="(?:-?("+o[p]+"(?:\\."+o[p]+")*))";var g=s++;o[g]="[0-9A-Za-z-]+";var y=s++;o[y]="(?:\\+("+o[g]+"(?:\\."+o[g]+")*))";var v=s++,E="v?"+o[l]+o[d]+"?"+o[y]+"?";o[v]="^"+E+"$";var w="[v=\\s]*"+o[h]+o[m]+"?"+o[y]+"?",b=s++;o[b]="^"+w+"$";var _=s++;o[_]="((?:<|>)?=?)";var O=s++;o[O]=o[c]+"|x|X|\\*";var A=s++;o[A]=o[a]+"|x|X|\\*";var T=s++;o[T]="[v=\\s]*("+o[A]+")(?:\\.("+o[A]+")(?:\\.("+o[A]+")(?:"+o[d]+")?"+o[y]+"?)?)?";var S=s++;o[S]="[v=\\s]*("+o[O]+")(?:\\.("+o[O]+")(?:\\.("+o[O]+")(?:"+o[m]+")?"+o[y]+"?)?)?";var N=s++;o[N]="^"+o[_]+"\\s*"+o[T]+"$";var I=s++;o[I]="^"+o[_]+"\\s*"+o[S]+"$";var C=s++;o[C]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var R=s++;o[R]="(?:~>?)";var P=s++;o[P]="(\\s*)"+o[R]+"\\s+",i[P]=new RegExp(o[P],"g");var k=s++;o[k]="^"+o[R]+o[T]+"$";var D=s++;o[D]="^"+o[R]+o[S]+"$";var x=s++;o[x]="(?:\\^)";var L=s++;o[L]="(\\s*)"+o[x]+"\\s+",i[L]=new RegExp(o[L],"g");var F=s++;o[F]="^"+o[x]+o[T]+"$";var j=s++;o[j]="^"+o[x]+o[S]+"$";var U=s++;o[U]="^"+o[_]+"\\s*("+w+")$|^$";var M=s++;o[M]="^"+o[_]+"\\s*("+E+")$|^$";var $=s++;o[$]="(\\s*)"+o[_]+"\\s*("+w+"|"+o[T]+")",i[$]=new RegExp(o[$],"g");var B=s++;o[B]="^\\s*("+o[T]+")\\s+-\\s+("+o[T]+")\\s*$";var q=s++;o[q]="^\\s*("+o[S]+")\\s+-\\s+("+o[S]+")\\s*$";var G=s++;o[G]="(<|>)?=?\\s*\\*";for(var H=0;H<35;H++)n(H,o[H]),i[H]||(i[H]=new RegExp(o[H]));function V(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof W)return t;if("string"!=typeof t)return null;if(t.length>256)return null;if(!(e.loose?i[b]:i[v]).test(t))return null;try{return new W(t,e)}catch(t){return null}}function W(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof W){if(t.loose===e.loose)return t;t=t.version}else if("string"!=typeof t)throw new TypeError("Invalid Version: "+t);if(t.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof W))return new W(t,e);n("SemVer",t,e),this.options=e,this.loose=!!e.loose;var o=t.trim().match(e.loose?i[b]:i[v]);if(!o)throw new TypeError("Invalid Version: "+t);if(this.raw=t,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map((function(t){if(/^[0-9]+$/.test(t)){var e=+t;if(e>=0&&e<r)return e}return t})):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}e.parse=V,e.valid=function(t,e){var n=V(t,e);return n?n.version:null},e.clean=function(t,e){var n=V(t.trim().replace(/^[=v]+/,""),e);return n?n.version:null},e.SemVer=W,W.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},W.prototype.toString=function(){return this.version},W.prototype.compare=function(t){return n("SemVer.compare",this.version,this.options,t),t instanceof W||(t=new W(t,this.options)),this.compareMain(t)||this.comparePre(t)},W.prototype.compareMain=function(t){return t instanceof W||(t=new W(t,this.options)),Y(this.major,t.major)||Y(this.minor,t.minor)||Y(this.patch,t.patch)},W.prototype.comparePre=function(t){if(t instanceof W||(t=new W(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var e=0;do{var r=this.prerelease[e],i=t.prerelease[e];if(n("prerelease compare",e,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return Y(r,i)}while(++e)},W.prototype.inc=function(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",e),this.inc("pre",e);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error("invalid increment argument: "+t)}return this.format(),this.raw=this.version,this},e.inc=function(t,e,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new W(t,n).inc(e,r).version}catch(t){return null}},e.diff=function(t,e){if(Q(t,e))return null;var n=V(t),r=V(e),i="";if(n.prerelease.length||r.prerelease.length){i="pre";var o="prerelease"}for(var s in n)if(("major"===s||"minor"===s||"patch"===s)&&n[s]!==r[s])return i+s;return o},e.compareIdentifiers=Y;var z=/^[0-9]+$/;function Y(t,e){var n=z.test(t),r=z.test(e);return n&&r&&(t=+t,e=+e),t===e?0:n&&!r?-1:r&&!n?1:t<e?-1:1}function X(t,e,n){return new W(t,n).compare(new W(e,n))}function J(t,e,n){return X(t,e,n)>0}function K(t,e,n){return X(t,e,n)<0}function Q(t,e,n){return 0===X(t,e,n)}function Z(t,e,n){return 0!==X(t,e,n)}function tt(t,e,n){return X(t,e,n)>=0}function et(t,e,n){return X(t,e,n)<=0}function nt(t,e,n,r){switch(e){case"===":return"object"==typeof t&&(t=t.version),"object"==typeof n&&(n=n.version),t===n;case"!==":return"object"==typeof t&&(t=t.version),"object"==typeof n&&(n=n.version),t!==n;case"":case"=":case"==":return Q(t,n,r);case"!=":return Z(t,n,r);case">":return J(t,n,r);case">=":return tt(t,n,r);case"<":return K(t,n,r);case"<=":return et(t,n,r);default:throw new TypeError("Invalid operator: "+e)}}function rt(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof rt){if(t.loose===!!e.loose)return t;t=t.value}if(!(this instanceof rt))return new rt(t,e);n("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===it?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}e.rcompareIdentifiers=function(t,e){return Y(e,t)},e.major=function(t,e){return new W(t,e).major},e.minor=function(t,e){return new W(t,e).minor},e.patch=function(t,e){return new W(t,e).patch},e.compare=X,e.compareLoose=function(t,e){return X(t,e,!0)},e.rcompare=function(t,e,n){return X(e,t,n)},e.sort=function(t,n){return t.sort((function(t,r){return e.compare(t,r,n)}))},e.rsort=function(t,n){return t.sort((function(t,r){return e.rcompare(t,r,n)}))},e.gt=J,e.lt=K,e.eq=Q,e.neq=Z,e.gte=tt,e.lte=et,e.cmp=nt,e.Comparator=rt;var it={};function ot(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof ot)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new ot(t.raw,e);if(t instanceof rt)return new ot(t.value,e);if(!(this instanceof ot))return new ot(t,e);if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map((function(t){return this.parseRange(t.trim())}),this).filter((function(t){return t.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+t);this.format()}function st(t){return!t||"x"===t.toLowerCase()||"*"===t}function at(t,e,n,r,i,o,s,a,c,u,l,h,f){return((e=st(n)?"":st(r)?">="+n+".0.0":st(i)?">="+n+"."+r+".0":">="+e)+" "+(a=st(c)?"":st(u)?"<"+(+c+1)+".0.0":st(l)?"<"+c+"."+(+u+1)+".0":h?"<="+c+"."+u+"."+l+"-"+h:"<="+a)).trim()}function ct(t,e,r){for(var i=0;i<t.length;i++)if(!t[i].test(e))return!1;if(e.prerelease.length&&!r.includePrerelease){for(i=0;i<t.length;i++)if(n(t[i].semver),t[i].semver!==it&&t[i].semver.prerelease.length>0){var o=t[i].semver;if(o.major===e.major&&o.minor===e.minor&&o.patch===e.patch)return!0}return!1}return!0}function ut(t,e,n){try{e=new ot(e,n)}catch(t){return!1}return e.test(t)}function lt(t,e,n,r){var i,o,s,a,c;switch(t=new W(t,r),e=new ot(e,r),n){case">":i=J,o=et,s=K,a=">",c=">=";break;case"<":i=K,o=tt,s=J,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ut(t,e,r))return!1;for(var u=0;u<e.set.length;++u){var l=e.set[u],h=null,f=null;if(l.forEach((function(t){t.semver===it&&(t=new rt(">=0.0.0")),h=h||t,f=f||t,i(t.semver,h.semver,r)?h=t:s(t.semver,f.semver,r)&&(f=t)})),h.operator===a||h.operator===c)return!1;if((!f.operator||f.operator===a)&&o(t,f.semver))return!1;if(f.operator===c&&s(t,f.semver))return!1}return!0}rt.prototype.parse=function(t){var e=this.options.loose?i[U]:i[M],n=t.match(e);if(!n)throw new TypeError("Invalid comparator: "+t);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new W(n[2],this.options.loose):this.semver=it},rt.prototype.toString=function(){return this.value},rt.prototype.test=function(t){return n("Comparator.test",t,this.options.loose),this.semver===it||("string"==typeof t&&(t=new W(t,this.options)),nt(t,this.operator,this.semver,this.options))},rt.prototype.intersects=function(t,e){if(!(t instanceof rt))throw new TypeError("a Comparator is required");var n;if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),""===this.operator)return n=new ot(t.value,e),ut(this.value,n,e);if(""===t.operator)return n=new ot(this.value,e),ut(t.semver,n,e);var r=!(">="!==this.operator&&">"!==this.operator||">="!==t.operator&&">"!==t.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==t.operator&&"<"!==t.operator),o=this.semver.version===t.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==t.operator&&"<="!==t.operator),a=nt(this.semver,"<",t.semver,e)&&(">="===this.operator||">"===this.operator)&&("<="===t.operator||"<"===t.operator),c=nt(this.semver,">",t.semver,e)&&("<="===this.operator||"<"===this.operator)&&(">="===t.operator||">"===t.operator);return r||i||o&&s||a||c},e.Range=ot,ot.prototype.format=function(){return this.range=this.set.map((function(t){return t.join(" ").trim()})).join("||").trim(),this.range},ot.prototype.toString=function(){return this.range},ot.prototype.parseRange=function(t){var e=this.options.loose;t=t.trim();var r=e?i[q]:i[B];t=t.replace(r,at),n("hyphen replace",t),t=t.replace(i[$],"$1$2$3"),n("comparator trim",t,i[$]),t=(t=(t=t.replace(i[P],"$1~")).replace(i[L],"$1^")).split(/\s+/).join(" ");var o=e?i[U]:i[M],s=t.split(" ").map((function(t){return function(t,e){return n("comp",t,e),t=function(t,e){return t.trim().split(/\s+/).map((function(t){return function(t,e){n("caret",t,e);var r=e.loose?i[j]:i[F];return t.replace(r,(function(e,r,i,o,s){var a;return n("caret",t,e,r,i,o,s),st(r)?a="":st(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":st(o)?a="0"===r?">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":">="+r+"."+i+".0 <"+(+r+1)+".0.0":s?(n("replaceCaret pr",s),a="0"===r?"0"===i?">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+"-"+s+" <"+(+r+1)+".0.0"):(n("no pr"),a="0"===r?"0"===i?">="+r+"."+i+"."+o+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+" <"+(+r+1)+".0.0"),n("caret return",a),a}))}(t,e)})).join(" ")}(t,e),n("caret",t),t=function(t,e){return t.trim().split(/\s+/).map((function(t){return function(t,e){var r=e.loose?i[D]:i[k];return t.replace(r,(function(e,r,i,o,s){var a;return n("tilde",t,e,r,i,o,s),st(r)?a="":st(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":st(o)?a=">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":s?(n("replaceTilde pr",s),a=">="+r+"."+i+"."+o+"-"+s+" <"+r+"."+(+i+1)+".0"):a=">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0",n("tilde return",a),a}))}(t,e)})).join(" ")}(t,e),n("tildes",t),t=function(t,e){return n("replaceXRanges",t,e),t.split(/\s+/).map((function(t){return function(t,e){t=t.trim();var r=e.loose?i[I]:i[N];return t.replace(r,(function(e,r,i,o,s,a){n("xRange",t,e,r,i,o,s,a);var c=st(i),u=c||st(o),l=u||st(s);return"="===r&&l&&(r=""),c?e=">"===r||"<"===r?"<0.0.0":"*":r&&l?(u&&(o=0),s=0,">"===r?(r=">=",u?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===r&&(r="<",u?i=+i+1:o=+o+1),e=r+i+"."+o+"."+s):u?e=">="+i+".0.0 <"+(+i+1)+".0.0":l&&(e=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0"),n("xRange return",e),e}))}(t,e)})).join(" ")}(t,e),n("xrange",t),t=function(t,e){return n("replaceStars",t,e),t.trim().replace(i[G],"")}(t,e),n("stars",t),t}(t,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter((function(t){return!!t.match(o)}))),s=s.map((function(t){return new rt(t,this.options)}),this)},ot.prototype.intersects=function(t,e){if(!(t instanceof ot))throw new TypeError("a Range is required");return this.set.some((function(n){return n.every((function(n){return t.set.some((function(t){return t.every((function(t){return n.intersects(t,e)}))}))}))}))},e.toComparators=function(t,e){return new ot(t,e).set.map((function(t){return t.map((function(t){return t.value})).join(" ").trim().split(" ")}))},ot.prototype.test=function(t){if(!t)return!1;"string"==typeof t&&(t=new W(t,this.options));for(var e=0;e<this.set.length;e++)if(ct(this.set[e],t,this.options))return!0;return!1},e.satisfies=ut,e.maxSatisfying=function(t,e,n){var r=null,i=null;try{var o=new ot(e,n)}catch(t){return null}return t.forEach((function(t){o.test(t)&&(r&&-1!==i.compare(t)||(i=new W(r=t,n)))})),r},e.minSatisfying=function(t,e,n){var r=null,i=null;try{var o=new ot(e,n)}catch(t){return null}return t.forEach((function(t){o.test(t)&&(r&&1!==i.compare(t)||(i=new W(r=t,n)))})),r},e.minVersion=function(t,e){t=new ot(t,e);var n=new W("0.0.0");if(t.test(n))return n;if(n=new W("0.0.0-0"),t.test(n))return n;n=null;for(var r=0;r<t.set.length;++r){t.set[r].forEach((function(t){var e=new W(t.semver.version);switch(t.operator){case">":0===e.prerelease.length?e.patch++:e.prerelease.push(0),e.raw=e.format();case"":case">=":n&&!J(n,e)||(n=e);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+t.operator)}}))}if(n&&t.test(n))return n;return null},e.validRange=function(t,e){try{return new ot(t,e).range||"*"}catch(t){return null}},e.ltr=function(t,e,n){return lt(t,e,"<",n)},e.gtr=function(t,e,n){return lt(t,e,">",n)},e.outside=lt,e.prerelease=function(t,e){var n=V(t,e);return n&&n.prerelease.length?n.prerelease:null},e.intersects=function(t,e,n){return t=new ot(t,n),e=new ot(e,n),t.intersects(e)},e.coerce=function(t){if(t instanceof W)return t;if("string"!=typeof t)return null;var e=t.match(i[C]);if(null==e)return null;return V(e[1]+"."+(e[2]||"0")+"."+(e[3]||"0"))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=c(n(2)),i=c(n(0)),o=c(n(159)),s=c(n(168)),a=n(73);function c(t){return t&&t.__esModule?t:{default:t}}e.default=function t(e,n){var c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5,u=(0,a.getPath)();r.default.existsSync(u)||r.default.mkdirSync(u);var l=i.default.resolve(u+"/"+e);return new Promise((function(u,h){if(!r.default.existsSync(l)||n){r.default.existsSync(l)&&o.default.sync(l);var f="https://clients2.google.com/service/update2/crx?response=redirect&x=id%3D"+e+"%26uc&prodversion=32",p=i.default.resolve(l+".crx");(0,a.downloadFile)(f,p).then((function(){(0,s.default)(p,l,(function(t){if(t&&!r.default.existsSync(i.default.resolve(l,"manifest.json")))return h(t);(0,a.changePermissions)(l,755),u(l)}))})).catch((function(r){if(console.log("Failed to fetch extension, trying "+(c-1)+" more times"),c<=1)return h(r);setTimeout((function(){t(e,n,c-1).then(u).catch(h)}),200)}))}else u(l)}))}},function(t,e,n){t.exports=f,f.sync=y;var r=n(19),i=n(0),o=n(2),s=void 0;try{s=n(68)}catch(t){}var a=parseInt("666",8),c={nosort:!0,silent:!0},u=0,l="win32"===process.platform;function h(t){if(["unlink","chmod","stat","lstat","rmdir","readdir"].forEach((function(e){t[e]=t[e]||o[e],t[e+="Sync"]=t[e]||o[e]})),t.maxBusyTries=t.maxBusyTries||3,t.emfileWait=t.emfileWait||1e3,!1===t.glob&&(t.disableGlob=!0),!0!==t.disableGlob&&void 0===s)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");t.disableGlob=t.disableGlob||!1,t.glob=t.glob||c}function f(t,e,n){"function"==typeof e&&(n=e,e={}),r(t,"rimraf: missing path"),r.equal(typeof t,"string","rimraf: path should be a string"),r.equal(typeof n,"function","rimraf: callback function required"),r(e,"rimraf: invalid options argument provided"),r.equal(typeof e,"object","rimraf: options should be object"),h(e);var i=0,o=null,a=0;if(e.disableGlob||!s.hasMagic(t))return c(null,[t]);function c(t,r){return t?n(t):0===(a=r.length)?n():void r.forEach((function(t){p(t,e,(function r(s){if(s){if(("EBUSY"===s.code||"ENOTEMPTY"===s.code||"EPERM"===s.code)&&i<e.maxBusyTries)return i++,setTimeout((function(){p(t,e,r)}),100*i);if("EMFILE"===s.code&&u<e.emfileWait)return setTimeout((function(){p(t,e,r)}),u++);"ENOENT"===s.code&&(s=null)}u=0,function(t){o=o||t,0==--a&&n(o)}(s)}))}))}e.lstat(t,(function(n,r){if(!n)return c(null,[t]);s(t,e.glob,c)}))}function p(t,e,n){r(t),r(e),r("function"==typeof n),e.lstat(t,(function(r,i){return r&&"ENOENT"===r.code?n(null):(r&&"EPERM"===r.code&&l&&d(t,e,r,n),i&&i.isDirectory()?g(t,e,r,n):void e.unlink(t,(function(r){if(r){if("ENOENT"===r.code)return n(null);if("EPERM"===r.code)return l?d(t,e,r,n):g(t,e,r,n);if("EISDIR"===r.code)return g(t,e,r,n)}return n(r)})))}))}function d(t,e,n,i){r(t),r(e),r("function"==typeof i),n&&r(n instanceof Error),e.chmod(t,a,(function(r){r?i("ENOENT"===r.code?null:n):e.stat(t,(function(r,o){r?i("ENOENT"===r.code?null:n):o.isDirectory()?g(t,e,n,i):e.unlink(t,i)}))}))}function m(t,e,n){r(t),r(e),n&&r(n instanceof Error);try{e.chmodSync(t,a)}catch(t){if("ENOENT"===t.code)return;throw n}try{var i=e.statSync(t)}catch(t){if("ENOENT"===t.code)return;throw n}i.isDirectory()?v(t,e,n):e.unlinkSync(t)}function g(t,e,n,o){r(t),r(e),n&&r(n instanceof Error),r("function"==typeof o),e.rmdir(t,(function(s){!s||"ENOTEMPTY"!==s.code&&"EEXIST"!==s.code&&"EPERM"!==s.code?s&&"ENOTDIR"===s.code?o(n):o(s):function(t,e,n){r(t),r(e),r("function"==typeof n),e.readdir(t,(function(r,o){if(r)return n(r);var s,a=o.length;if(0===a)return e.rmdir(t,n);o.forEach((function(r){f(i.join(t,r),e,(function(r){if(!s)return r?n(s=r):void(0==--a&&e.rmdir(t,n))}))}))}))}(t,e,o)}))}function y(t,e){var n;if(h(e=e||{}),r(t,"rimraf: missing path"),r.equal(typeof t,"string","rimraf: path should be a string"),r(e,"rimraf: missing options"),r.equal(typeof e,"object","rimraf: options should be object"),e.disableGlob||!s.hasMagic(t))n=[t];else try{e.lstatSync(t),n=[t]}catch(r){n=s.sync(t,e.glob)}if(n.length)for(var i=0;i<n.length;i++){t=n[i];try{var o=e.lstatSync(t)}catch(n){if("ENOENT"===n.code)return;"EPERM"===n.code&&l&&m(t,e,n)}try{o&&o.isDirectory()?v(t,e,null):e.unlinkSync(t)}catch(n){if("ENOENT"===n.code)return;if("EPERM"===n.code)return l?m(t,e,n):v(t,e,n);if("EISDIR"!==n.code)throw n;v(t,e,n)}}}function v(t,e,n){r(t),r(e),n&&r(n instanceof Error);try{e.rmdirSync(t)}catch(o){if("ENOENT"===o.code)return;if("ENOTDIR"===o.code)throw n;"ENOTEMPTY"!==o.code&&"EEXIST"!==o.code&&"EPERM"!==o.code||function(t,e){r(t),r(e),e.readdirSync(t).forEach((function(n){y(i.join(t,n),e)}));var n=l?100:1,o=0;for(;;){var s=!0;try{var a=e.rmdirSync(t,e);return s=!1,a}finally{if(++o<n&&s)continue}}}(t,e)}}},function(t,e,n){var r=n(0),i="win32"===process.platform,o=n(2),s=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function a(t){return"function"==typeof t?t:function(){var t;if(s){var e=new Error;t=function(t){t&&(e.message=t.message,n(t=e))}}else t=n;return t;function n(t){if(t){if(process.throwDeprecation)throw t;if(!process.noDeprecation){var e="fs: missing callback "+(t.stack||t.message);process.traceDeprecation?console.trace(e):console.error(e)}}}}()}r.normalize;if(i)var c=/(.*?)(?:[\/\\]+|$)/g;else c=/(.*?)(?:[\/]+|$)/g;if(i)var u=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/;else u=/^[\/]*/;e.realpathSync=function(t,e){if(t=r.resolve(t),e&&Object.prototype.hasOwnProperty.call(e,t))return e[t];var n,s,a,l,h=t,f={},p={};function d(){var e=u.exec(t);n=e[0].length,s=e[0],a=e[0],l="",i&&!p[a]&&(o.lstatSync(a),p[a]=!0)}for(d();n<t.length;){c.lastIndex=n;var m=c.exec(t);if(l=s,s+=m[0],a=l+m[1],n=c.lastIndex,!(p[a]||e&&e[a]===a)){var g;if(e&&Object.prototype.hasOwnProperty.call(e,a))g=e[a];else{var y=o.lstatSync(a);if(!y.isSymbolicLink()){p[a]=!0,e&&(e[a]=a);continue}var v=null;if(!i){var E=y.dev.toString(32)+":"+y.ino.toString(32);f.hasOwnProperty(E)&&(v=f[E])}null===v&&(o.statSync(a),v=o.readlinkSync(a)),g=r.resolve(l,v),e&&(e[a]=g),i||(f[E]=v)}t=r.resolve(g,t.slice(n)),d()}}return e&&(e[h]=t),t},e.realpath=function(t,e,n){if("function"!=typeof n&&(n=a(e),e=null),t=r.resolve(t),e&&Object.prototype.hasOwnProperty.call(e,t))return process.nextTick(n.bind(null,null,e[t]));var s,l,h,f,p=t,d={},m={};function g(){var e=u.exec(t);s=e[0].length,l=e[0],h=e[0],f="",i&&!m[h]?o.lstat(h,(function(t){if(t)return n(t);m[h]=!0,y()})):process.nextTick(y)}function y(){if(s>=t.length)return e&&(e[p]=t),n(null,t);c.lastIndex=s;var r=c.exec(t);return f=l,l+=r[0],h=f+r[1],s=c.lastIndex,m[h]||e&&e[h]===h?process.nextTick(y):e&&Object.prototype.hasOwnProperty.call(e,h)?w(e[h]):o.lstat(h,v)}function v(t,r){if(t)return n(t);if(!r.isSymbolicLink())return m[h]=!0,e&&(e[h]=h),process.nextTick(y);if(!i){var s=r.dev.toString(32)+":"+r.ino.toString(32);if(d.hasOwnProperty(s))return E(null,d[s],h)}o.stat(h,(function(t){if(t)return n(t);o.readlink(h,(function(t,e){i||(d[s]=e),E(t,e)}))}))}function E(t,i,o){if(t)return n(t);var s=r.resolve(f,i);e&&(e[o]=s),w(s)}function w(e){t=r.resolve(e,t.slice(s)),g()}g()}},function(t,e,n){var r=n(162),i=n(163);t.exports=function(t){if(!t)return[];"{}"===t.substr(0,2)&&(t="\\{\\}"+t.substr(2));return function t(e,n){var o=[],s=i("{","}",e);if(!s||/\$$/.test(s.pre))return[e];var c,u=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(s.body),h=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(s.body),g=u||h,y=s.body.indexOf(",")>=0;if(!g&&!y)return s.post.match(/,.*\}/)?(e=s.pre+"{"+s.body+a+s.post,t(e)):[e];if(g)c=s.body.split(/\.\./);else{if(1===(c=function t(e){if(!e)return[""];var n=[],r=i("{","}",e);if(!r)return e.split(",");var o=r.pre,s=r.body,a=r.post,c=o.split(",");c[c.length-1]+="{"+s+"}";var u=t(a);a.length&&(c[c.length-1]+=u.shift(),c.push.apply(c,u));return n.push.apply(n,c),n}(s.body)).length)if(1===(c=t(c[0],!1).map(f)).length)return(w=s.post.length?t(s.post,!1):[""]).map((function(t){return s.pre+c[0]+t}))}var v,E=s.pre,w=s.post.length?t(s.post,!1):[""];if(g){var b=l(c[0]),_=l(c[1]),O=Math.max(c[0].length,c[1].length),A=3==c.length?Math.abs(l(c[2])):1,T=d;_<b&&(A*=-1,T=m);var S=c.some(p);v=[];for(var N=b;T(N,_);N+=A){var I;if(h)"\\"===(I=String.fromCharCode(N))&&(I="");else if(I=String(N),S){var C=O-I.length;if(C>0){var R=new Array(C+1).join("0");I=N<0?"-"+R+I.slice(1):R+I}}v.push(I)}}else v=r(c,(function(e){return t(e,!1)}));for(var P=0;P<v.length;P++)for(var k=0;k<w.length;k++){var D=E+v[P]+w[k];(!n||g||D)&&o.push(D)}return o}(function(t){return t.split("\\\\").join(o).split("\\{").join(s).split("\\}").join(a).split("\\,").join(c).split("\\.").join(u)}(t),!0).map(h)};var o="\0SLASH"+Math.random()+"\0",s="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",u="\0PERIOD"+Math.random()+"\0";function l(t){return parseInt(t,10)==t?parseInt(t,10):t.charCodeAt(0)}function h(t){return t.split(o).join("\\").split(s).join("{").split(a).join("}").split(c).join(",").split(u).join(".")}function f(t){return"{"+t+"}"}function p(t){return/^-?0\d/.test(t)}function d(t,e){return t<=e}function m(t,e){return t>=e}},function(t,e){t.exports=function(t,e){for(var r=[],i=0;i<t.length;i++){var o=e(t[i],i);n(o)?r.push.apply(r,o):r.push(o)}return r};var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){"use strict";function r(t,e,n){t instanceof RegExp&&(t=i(t,n)),e instanceof RegExp&&(e=i(e,n));var r=o(t,e,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+t.length,r[1]),post:n.slice(r[1]+e.length)}}function i(t,e){var n=e.match(t);return n?n[0]:null}function o(t,e,n){var r,i,o,s,a,c=n.indexOf(t),u=n.indexOf(e,c+1),l=c;if(c>=0&&u>0){for(r=[],o=n.length;l>=0&&!a;)l==c?(r.push(l),c=n.indexOf(t,l+1)):1==r.length?a=[r.pop(),u]:((i=r.pop())<o&&(o=i,s=u),u=n.indexOf(e,l+1)),l=c<u&&c>=0?c:u;r.length&&(a=[o,s])}return a}t.exports=r,r.range=o},function(t,e,n){try{var r=n(15);if("function"!=typeof r.inherits)throw"";t.exports=r.inherits}catch(e){t.exports=n(165)}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}}},function(t,e,n){t.exports=d,d.GlobSync=m;var r=n(2),i=n(69),o=n(45),s=(o.Minimatch,n(68).Glob,n(15),n(0)),a=n(19),c=n(46),u=n(70),l=(u.alphasort,u.alphasorti,u.setopts),h=u.ownProp,f=u.childrenIgnored,p=u.isIgnored;function d(t,e){if("function"==typeof e||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");return new m(t,e).found}function m(t,e){if(!t)throw new Error("must provide pattern");if("function"==typeof e||3===arguments.length)throw new TypeError("callback provided to sync glob\nSee: https://github.com/isaacs/node-glob/issues/167");if(!(this instanceof m))return new m(t,e);if(l(this,t,e),this.noprocess)return this;var n=this.minimatch.set.length;this.matches=new Array(n);for(var r=0;r<n;r++)this._process(this.minimatch.set[r],r,!1);this._finish()}m.prototype._finish=function(){if(a(this instanceof m),this.realpath){var t=this;this.matches.forEach((function(e,n){var r=t.matches[n]=Object.create(null);for(var o in e)try{o=t._makeAbs(o),r[i.realpathSync(o,t.realpathCache)]=!0}catch(e){if("stat"!==e.syscall)throw e;r[t._makeAbs(o)]=!0}}))}u.finish(this)},m.prototype._process=function(t,e,n){a(this instanceof m);for(var r,i=0;"string"==typeof t[i];)i++;switch(i){case t.length:return void this._processSimple(t.join("/"),e);case 0:r=null;break;default:r=t.slice(0,i).join("/")}var s,u=t.slice(i);null===r?s=".":c(r)||c(t.join("/"))?(r&&c(r)||(r="/"+r),s=r):s=r;var l=this._makeAbs(s);f(this,s)||(u[0]===o.GLOBSTAR?this._processGlobStar(r,s,l,u,e,n):this._processReaddir(r,s,l,u,e,n))},m.prototype._processReaddir=function(t,e,n,r,i,o){var a=this._readdir(n,o);if(a){for(var c=r[0],u=!!this.minimatch.negate,l=c._glob,h=this.dot||"."===l.charAt(0),f=[],p=0;p<a.length;p++){if("."!==(g=a[p]).charAt(0)||h)(u&&!t?!g.match(c):g.match(c))&&f.push(g)}var d=f.length;if(0!==d)if(1!==r.length||this.mark||this.stat){r.shift();for(p=0;p<d;p++){var m;g=f[p];m=t?[t,g]:[g],this._process(m.concat(r),i,o)}}else{this.matches[i]||(this.matches[i]=Object.create(null));for(var p=0;p<d;p++){var g=f[p];t&&(g="/"!==t.slice(-1)?t+"/"+g:t+g),"/"!==g.charAt(0)||this.nomount||(g=s.join(this.root,g)),this._emitMatch(i,g)}}}},m.prototype._emitMatch=function(t,e){if(!p(this,e)){var n=this._makeAbs(e);if(this.mark&&(e=this._mark(e)),this.absolute&&(e=n),!this.matches[t][e]){if(this.nodir){var r=this.cache[n];if("DIR"===r||Array.isArray(r))return}this.matches[t][e]=!0,this.stat&&this._stat(e)}}},m.prototype._readdirInGlobStar=function(t){if(this.follow)return this._readdir(t,!1);var e,n;try{n=r.lstatSync(t)}catch(t){if("ENOENT"===t.code)return null}var i=n&&n.isSymbolicLink();return this.symlinks[t]=i,i||!n||n.isDirectory()?e=this._readdir(t,!1):this.cache[t]="FILE",e},m.prototype._readdir=function(t,e){if(e&&!h(this.symlinks,t))return this._readdirInGlobStar(t);if(h(this.cache,t)){var n=this.cache[t];if(!n||"FILE"===n)return null;if(Array.isArray(n))return n}try{return this._readdirEntries(t,r.readdirSync(t))}catch(e){return this._readdirError(t,e),null}},m.prototype._readdirEntries=function(t,e){if(!this.mark&&!this.stat)for(var n=0;n<e.length;n++){var r=e[n];r="/"===t?t+r:t+"/"+r,this.cache[r]=!0}return this.cache[t]=e,e},m.prototype._readdirError=function(t,e){switch(e.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(t);if(this.cache[n]="FILE",n===this.cwdAbs){var r=new Error(e.code+" invalid cwd "+this.cwd);throw r.path=this.cwd,r.code=e.code,r}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(t)]=!1;break;default:if(this.cache[this._makeAbs(t)]=!1,this.strict)throw e;this.silent||console.error("glob error",e)}},m.prototype._processGlobStar=function(t,e,n,r,i,o){var s=this._readdir(n,o);if(s){var a=r.slice(1),c=t?[t]:[],u=c.concat(a);this._process(u,i,!1);var l=s.length;if(!this.symlinks[n]||!o)for(var h=0;h<l;h++){if("."!==s[h].charAt(0)||this.dot){var f=c.concat(s[h],a);this._process(f,i,!0);var p=c.concat(s[h],r);this._process(p,i,!0)}}}},m.prototype._processSimple=function(t,e){var n=this._stat(t);if(this.matches[e]||(this.matches[e]=Object.create(null)),n){if(t&&c(t)&&!this.nomount){var r=/[\/\\]$/.test(t);"/"===t.charAt(0)?t=s.join(this.root,t):(t=s.resolve(this.root,t),r&&(t+="/"))}"win32"===process.platform&&(t=t.replace(/\\/g,"/")),this._emitMatch(e,t)}},m.prototype._stat=function(t){var e=this._makeAbs(t),n="/"===t.slice(-1);if(t.length>this.maxLength)return!1;if(!this.stat&&h(this.cache,e)){var i=this.cache[e];if(Array.isArray(i)&&(i="DIR"),!n||"DIR"===i)return i;if(n&&"FILE"===i)return!1}var o=this.statCache[e];if(!o){var s;try{s=r.lstatSync(e)}catch(t){if(t&&("ENOENT"===t.code||"ENOTDIR"===t.code))return this.statCache[e]=!1,!1}if(s&&s.isSymbolicLink())try{o=r.statSync(e)}catch(t){o=s}else o=s}this.statCache[e]=o;i=!0;return o&&(i=o.isDirectory()?"DIR":"FILE"),this.cache[e]=this.cache[e]||i,(!n||"FILE"!==i)&&i},m.prototype._mark=function(t){return u.mark(this,t)},m.prototype._makeAbs=function(t){return u.makeAbs(this,t)}},function(t,e,n){var r=n(71),i=Object.create(null),o=n(72);function s(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r]=t[r];return n}t.exports=r((function(t,e){return i[t]?(i[t].push(e),null):(i[t]=[e],function(t){return o((function e(){var n=i[t],r=n.length,o=s(arguments);try{for(var a=0;a<r;a++)n[a].apply(null,o)}finally{n.length>r?(n.splice(0,r),process.nextTick((function(){e.apply(null,o)}))):delete i[t]}}))}(t))}))},function(t,e,n){"use strict";var r=n(30).spawn,i=Array.prototype.slice,o="win32"===process.platform?function(t,e,r){s(n(169)["7z"],["x",t,"-y","-o"+e],r)}:function(t,e,n){s("unzip",["-o",t,"-d",e],n)};function s(t,e,n){var o,s;o=n,s=!1,n=function(){s||(s=!0,o.apply(this,i.call(arguments)))};var a=r(t,e,{stdio:"ignore"});a.on("error",(function(t){n(t)})),a.on("exit",(function(t){n(t?new Error("Exited with code "+t):null)}))}o.unzip=o,t.exports=o},function(t,e,n){var r,i,o=n(0).resolve,s=n(170).bin;t.exports=(r=s,i=function(t){return o(__dirname,t)},Object.keys(r).reduce((function(t,e){return t[e]=i(r[e]),t}),{}))},function(t){t.exports=JSON.parse('{"_from":"7zip@0.0.6","_id":"7zip@0.0.6","_inBundle":false,"_integrity":"sha1-nK+xca+CMpSQNTtIFvAzR6oVCjA=","_location":"/7zip","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"7zip@0.0.6","name":"7zip","escapedName":"7zip","rawSpec":"0.0.6","saveSpec":null,"fetchSpec":"0.0.6"},"_requiredBy":["/electron-devtools-installer"],"_resolved":"http://nexus.ypsx-internal.com/repository/npm-group/7zip/-/7zip-0.0.6.tgz","_shasum":"9cafb171af82329490353b4816f03347aa150a30","_spec":"7zip@0.0.6","_where":"/Users/Mac/mySpace/electron-common-react-tpl/node_modules/electron-devtools-installer","bin":{"7z":"7zip-lite/7z.exe"},"bugs":{"url":"https://github.com/fritx/win-7zip/issues"},"bundleDependencies":false,"deprecated":false,"description":"7zip Windows Package via Node.js","homepage":"https://github.com/fritx/win-7zip#readme","keywords":["7z","7zip","7-zip","windows","install"],"license":"GNU LGPL","main":"index.js","name":"7zip","repository":{"type":"git","url":"git+ssh://git@github.com/fritx/win-7zip.git"},"scripts":{"test":"mocha"},"version":"0.0.6"}')},function(t,e){t.exports=require("https")}]);